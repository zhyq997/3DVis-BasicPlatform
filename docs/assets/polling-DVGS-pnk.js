import{i as d}from"./mock-api-QMpspKBr.js";import{P as m}from"./index-3FyLWnMM.js";import{a9 as l,a4 as s,B as t,ac as p,j as g}from"./antd-DgCI0x_J.js";import{d as i,k as u,G as e}from"./vue-D4H2Ux2Y.js";import{u as f}from"./index-Bntaq4mg.js";import"./entry/index-BNp4bmLj-1732066199007.js";import"./useContentViewHeight-B2xTi02b.js";import"./useWindowSizeFn-Wb2xO1po.js";import"./onMountedOrActivated-B_y9TM8l.js";const C=i({setup(){const{data:a,loading:n,run:r,cancel:o}=f(d,{pollingInterval:1e3,pollingWhenHidden:!1});return()=>u(p,{title:"默认用法"},{default:()=>[u(l,null,{default:()=>[u(l.Paragraph,null,{default:()=>[e("通过设置"),u(l.Text,{type:"danger"},{default:()=>[e(" options.pollingInterval ")]}),e("，进入轮询模式，useRequest 会定时触发 service 执行。")]}),u(l.Paragraph,null,{default:()=>[u(l.Text,{code:!0},{default:()=>["const { data, run, cancel } = useRequest(imitateApi, { pollingInterval: 3000 });"]})]})]}),u("div",null,[u("div",null,[e("Username: "),n.value?"Loading":a.value]),u(s,null,{default:()=>[u(t,{onClick:()=>r()},{default:()=>[e("start")]}),u(t,{type:"dashed",onClick:o},{default:()=>[e("stop")]})]})])]})}}),F=i({setup(){const{data:a,loading:n,run:r,cancel:o}=f(d,{manual:!0,pollingInterval:3e3,pollingErrorRetryCount:3,pollingWhenHidden:!1,onError:c=>{g.error(c.message)}});return()=>u(p,{title:"轮询错误重试",class:"mt-2"},{default:()=>[u(l,null,{default:()=>[u(l.Paragraph,null,{default:()=>[e("通过"),u(l.Text,{type:"danger"},{default:()=>[e(" options.pollingErrorRetryCount ")]}),e("轮询错误重试次数。")]}),u(l.Paragraph,null,{default:()=>[u(l.Text,{code:!0},{default:()=>["const { data, run, cancel } = useRequest(imitateApi, { pollingInterval: 3000,  pollingErrorRetryCount: 3 });"]})]})]}),u("div",null,[u("div",null,[e("Username: "),n.value?"Loading":a.value]),u(s,null,{default:()=>[u(t,{onClick:()=>r("lutz",!1)},{default:()=>[e("start")]}),u(t,{type:"dashed",onClick:o},{default:()=>[e("stop")]})]})])]})}}),P=i({setup(){return()=>u(m,null,{default:()=>[u(C,null,null),u(F,null,null)]})}});export{P as default};
