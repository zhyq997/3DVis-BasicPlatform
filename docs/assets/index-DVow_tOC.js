var ox=Object.defineProperty,ix=Object.defineProperties;var ax=Object.getOwnPropertyDescriptors;var Vb=Object.getOwnPropertySymbols;var ux=Object.prototype.hasOwnProperty,cx=Object.prototype.propertyIsEnumerable;var Kb=(m,y,s)=>y in m?ox(m,y,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[y]=s,Wv=(m,y)=>{for(var s in y||(y={}))ux.call(y,s)&&Kb(m,s,y[s]);if(Vb)for(var s of Vb(y))cx.call(y,s)&&Kb(m,s,y[s]);return m},$b=(m,y)=>ix(m,ax(y));var md=(m,y,s)=>new Promise((f,o)=>{var p=v=>{try{O(s.next(v))}catch(E){o(E)}},d=v=>{try{O(s.throw(v))}catch(E){o(E)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(p,d);O((s=s.apply(m,y)).next())});import{N as sx,p as lx,e6 as fx,y as px}from"./entry/index-BNp4bmLj-1732066199007.js";import{p as dx,e as hx,d as ag,f as _d,h as yx,b as vx,u as Dn,Z as Ga,_ as nf,F as qb,aa as gx,k as sf,a9 as Sd,G as mx,a0 as bx,a1 as Od,ab as Vv,ac as _x,a8 as ug,y as Kv,c as Ox,w as Zb,o as wx,$ as xx}from"./vue-D4H2Ux2Y.js";import{T as Ex,ab as Sx,b as jx,ai as T0}from"./antd-DgCI0x_J.js";import{b as Px,B as Ax}from"./index-DzD7MWhD.js";import{J as Mx}from"./index-CL--Hxdg.js";import{P as kx}from"./index-3FyLWnMM.js";import"./useWindowSizeFn-Wb2xO1po.js";import"./useContentViewHeight-B2xTi02b.js";import"./onMountedOrActivated-B_y9TM8l.js";const D0=Symbol("flow-chart");function Tx(m){dx(D0,m)}function Dx(){return hx(D0)}var jr=(m=>(m.ZOOM_IN="zoomIn",m.ZOOM_OUT="zoomOut",m.RESET_ZOOM="resetZoom",m.UNDO="undo",m.REDO="redo",m.SNAPSHOT="snapshot",m.VIEW_DATA="viewData",m))(jr||{});const Nx=["onClick"],Cx=ag({name:"FlowChartToolbar",__name:"FlowChartToolbar",props:{prefixCls:String},emits:["view-data"],setup(m,{emit:y}){const s=y,f=_d([{type:jr.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"缩小"},{type:jr.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"放大"},{type:jr.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"重置比例"},{separate:!0},{type:jr.UNDO,icon:"ion:arrow-undo-outline",tooltip:"后退",disabled:!0},{type:jr.REDO,icon:"ion:arrow-redo-outline",tooltip:"前进",disabled:!0},{separate:!0},{type:jr.SNAPSHOT,icon:"ion:download-outline",tooltip:"下载"},{type:jr.VIEW_DATA,icon:"carbon:document-view",tooltip:"查看数据"}]),{logicFlow:o}=Dx();function p({data:{undoAble:O,redoAble:v}}){const E=Dn(f),M=E.findIndex(T=>T.type===jr.UNDO),P=E.findIndex(T=>T.type===jr.REDO);M!==-1&&(Dn(f)[M].disabled=!O),P!==-1&&(Dn(f)[P].disabled=!v)}const d=O=>{const v=Dn(o);if(v)switch(O.type){case jr.ZOOM_IN:v.zoom();break;case jr.ZOOM_OUT:v.zoom(!0);break;case jr.RESET_ZOOM:v.resetZoom();break;case jr.UNDO:v.undo();break;case jr.REDO:v.redo();break;case jr.SNAPSHOT:v.getSnapshot();break;case jr.VIEW_DATA:s("view-data");break}};return yx(()=>md(this,null,function*(){var O;Dn(o)&&(yield Kv(),(O=Dn(o))==null||O.on("history:change",p))})),vx(()=>{var O;(O=Dn(o))==null||O.off("history:change",p)}),(O,v)=>(Ga(),nf("div",{class:Od([`${m.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Ga(!0),nf(qb,null,gx(f.value,E=>(Ga(),nf(qb,{key:E.type},[sf(Dn(Ex),_x({placement:"bottom",ref_for:!0},E.disabled?{visible:!1}:{}),{title:Sd(()=>[mx(bx(E.tooltip),1)]),default:Sd(()=>[E.icon?(Ga(),nf("span",{key:0,class:Od(`${m.prefixCls}-toolbar__icon`),onClick:M=>d(E)},[sf(sx,{icon:E.icon,class:Od(E.disabled?"cursor-not-allowed disabled":"cursor-pointer")},null,8,["icon","class"])],10,Nx)):Vv("",!0)]),_:2},1040),E.separate?(Ga(),ug(Dn(Sx),{key:0,type:"vertical"})):Vv("",!0)],64))),128))],2))}});var $v={exports:{}};(function(m,y){(function(s,f){m.exports=f()})(window,function(){return function(s){var f={};function o(p){if(f[p])return f[p].exports;var d=f[p]={i:p,l:!1,exports:{}};return s[p].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=f,o.d=function(p,d,O){o.o(p,d)||Object.defineProperty(p,d,{enumerable:!0,get:O})},o.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},o.t=function(p,d){if(1&d&&(p=o(p)),8&d||4&d&&typeof p=="object"&&p&&p.__esModule)return p;var O=Object.create(null);if(o.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:p}),2&d&&typeof p!="string")for(var v in p)o.d(O,v,function(E){return p[E]}.bind(null,v));return O},o.n=function(p){var d=p&&p.__esModule?function(){return p.default}:function(){return p};return o.d(d,"a",d),d},o.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)},o.p="",o(o.s=222)}([function(s,f,o){o.d(f,"a",function(){return re}),o.d(f,"b",function(){return ie}),o.d(f,"c",function(){return Ze}),o.d(f,"d",function(){return vt}),o.d(f,"e",function(){return Y}),o.d(f,"f",function(){return te}),o.d(f,"g",function(){return Y}),o.d(f,"h",function(){return We}),o.d(f,"i",function(){return d}),o.d(f,"j",function(){return Ot}),o.d(f,"k",function(){return $});var p,d,O,v,E,M,P,T={},k=[],R=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(ce,ue){for(var he in ue)ce[he]=ue[he];return ce}function F(ce){var ue=ce.parentNode;ue&&ue.removeChild(ce)}function Y(ce,ue,he){var Te,He,Le,wt={};for(Le in ue)Le=="key"?Te=ue[Le]:Le=="ref"?He=ue[Le]:wt[Le]=ue[Le];if(arguments.length>2&&(wt.children=arguments.length>3?p.call(arguments,2):he),typeof ce=="function"&&ce.defaultProps!=null)for(Le in ce.defaultProps)wt[Le]===void 0&&(wt[Le]=ce.defaultProps[Le]);return V(ce,wt,Te,He,null)}function V(ce,ue,he,Te,He){var Le={type:ce,props:ue,key:he,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He==null?++O:He};return He==null&&d.vnode!=null&&d.vnode(Le),Le}function te(){return{current:null}}function ie(ce){return ce.children}function re(ce,ue){this.props=ce,this.context=ue}function J(ce,ue){if(ue==null)return ce.__?J(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var he;ue<ce.__k.length;ue++)if((he=ce.__k[ue])!=null&&he.__e!=null)return he.__e;return typeof ce.type=="function"?J(ce):null}function Z(ce){var ue,he;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,ue=0;ue<ce.__k.length;ue++)if((he=ce.__k[ue])!=null&&he.__e!=null){ce.__e=ce.__c.base=he.__e;break}return Z(ce)}}function H(ce){(!ce.__d&&(ce.__d=!0)&&v.push(ce)&&!z.__r++||M!==d.debounceRendering)&&((M=d.debounceRendering)||E)(z)}function z(){for(var ce;z.__r=v.length;)ce=v.sort(function(ue,he){return ue.__v.__b-he.__v.__b}),v=[],ce.some(function(ue){var he,Te,He,Le,wt,kt;ue.__d&&(wt=(Le=(he=ue).__v).__e,(kt=he.__P)&&(Te=[],(He=C({},Le)).__v=Le.__v+1,Se(kt,Le,He,he.__n,kt.ownerSVGElement!==void 0,Le.__h!=null?[wt]:null,Te,wt==null?J(Le):wt,Le.__h),ye(Te,Le),Le.__e!=wt&&Z(Le)))})}function G(ce,ue,he,Te,He,Le,wt,kt,St,yt){var Me,st,fe,at,It,on,Lt,qt=Te&&Te.__k||k,dn=qt.length;for(he.__k=[],Me=0;Me<ue.length;Me++)if((at=he.__k[Me]=(at=ue[Me])==null||typeof at=="boolean"?null:typeof at=="string"||typeof at=="number"||typeof at=="bigint"?V(null,at,null,null,at):Array.isArray(at)?V(ie,{children:at},null,null,null):at.__b>0?V(at.type,at.props,at.key,null,at.__v):at)!=null){if(at.__=he,at.__b=he.__b+1,(fe=qt[Me])===null||fe&&at.key==fe.key&&at.type===fe.type)qt[Me]=void 0;else for(st=0;st<dn;st++){if((fe=qt[st])&&at.key==fe.key&&at.type===fe.type){qt[st]=void 0;break}fe=null}Se(ce,at,fe=fe||T,He,Le,wt,kt,St,yt),It=at.__e,(st=at.ref)&&fe.ref!=st&&(Lt||(Lt=[]),fe.ref&&Lt.push(fe.ref,null,at),Lt.push(st,at.__c||It,at)),It!=null?(on==null&&(on=It),typeof at.type=="function"&&at.__k===fe.__k?at.__d=St=W(at,St,ce):St=ae(ce,at,fe,qt,It,St),typeof he.type=="function"&&(he.__d=St)):St&&fe.__e==St&&St.parentNode!=ce&&(St=J(fe))}for(he.__e=on,Me=dn;Me--;)qt[Me]!=null&&(typeof he.type=="function"&&qt[Me].__e!=null&&qt[Me].__e==he.__d&&(he.__d=J(Te,Me+1)),Ue(qt[Me],qt[Me]));if(Lt)for(Me=0;Me<Lt.length;Me++)Ae(Lt[Me],Lt[++Me],Lt[++Me])}function W(ce,ue,he){for(var Te,He=ce.__k,Le=0;He&&Le<He.length;Le++)(Te=He[Le])&&(Te.__=ce,ue=typeof Te.type=="function"?W(Te,ue,he):ae(he,Te,Te,He,Te.__e,ue));return ue}function $(ce,ue){return ue=ue||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(he){$(he,ue)}):ue.push(ce)),ue}function ae(ce,ue,he,Te,He,Le){var wt,kt,St;if(ue.__d!==void 0)wt=ue.__d,ue.__d=void 0;else if(he==null||He!=Le||He.parentNode==null)e:if(Le==null||Le.parentNode!==ce)ce.appendChild(He),wt=null;else{for(kt=Le,St=0;(kt=kt.nextSibling)&&St<Te.length;St+=2)if(kt==He)break e;ce.insertBefore(He,Le),wt=Le}return wt!==void 0?wt:He.nextSibling}function xe(ce,ue,he){ue[0]==="-"?ce.setProperty(ue,he):ce[ue]=he==null?"":typeof he!="number"||R.test(ue)?he:he+"px"}function me(ce,ue,he,Te,He){var Le;e:if(ue==="style")if(typeof he=="string")ce.style.cssText=he;else{if(typeof Te=="string"&&(ce.style.cssText=Te=""),Te)for(ue in Te)he&&ue in he||xe(ce.style,ue,"");if(he)for(ue in he)Te&&he[ue]===Te[ue]||xe(ce.style,ue,he[ue])}else if(ue[0]==="o"&&ue[1]==="n")Le=ue!==(ue=ue.replace(/Capture$/,"")),ue=ue.toLowerCase()in ce?ue.toLowerCase().slice(2):ue.slice(2),ce.l||(ce.l={}),ce.l[ue+Le]=he,he?Te||ce.addEventListener(ue,Le?Be:Pe,Le):ce.removeEventListener(ue,Le?Be:Pe,Le);else if(ue!=="dangerouslySetInnerHTML"){if(He)ue=ue.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ue!=="href"&&ue!=="list"&&ue!=="form"&&ue!=="tabIndex"&&ue!=="download"&&ue in ce)try{ce[ue]=he==null?"":he;break e}catch(wt){}typeof he=="function"||(he!=null&&(he!==!1||ue[0]==="a"&&ue[1]==="r")?ce.setAttribute(ue,he):ce.removeAttribute(ue))}}function Pe(ce){this.l[ce.type+!1](d.event?d.event(ce):ce)}function Be(ce){this.l[ce.type+!0](d.event?d.event(ce):ce)}function Se(ce,ue,he,Te,He,Le,wt,kt,St){var yt,Me,st,fe,at,It,on,Lt,qt,dn,bn,Dt=ue.type;if(ue.constructor!==void 0)return null;he.__h!=null&&(St=he.__h,kt=ue.__e=he.__e,ue.__h=null,Le=[kt]),(yt=d.__b)&&yt(ue);try{e:if(typeof Dt=="function"){if(Lt=ue.props,qt=(yt=Dt.contextType)&&Te[yt.__c],dn=yt?qt?qt.props.value:yt.__:Te,he.__c?on=(Me=ue.__c=he.__c).__=Me.__E:("prototype"in Dt&&Dt.prototype.render?ue.__c=Me=new Dt(Lt,dn):(ue.__c=Me=new re(Lt,dn),Me.constructor=Dt,Me.render=nt),qt&&qt.sub(Me),Me.props=Lt,Me.state||(Me.state={}),Me.context=dn,Me.__n=Te,st=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Dt.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=C({},Me.__s)),C(Me.__s,Dt.getDerivedStateFromProps(Lt,Me.__s))),fe=Me.props,at=Me.state,st)Dt.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Dt.getDerivedStateFromProps==null&&Lt!==fe&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(Lt,dn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(Lt,Me.__s,dn)===!1||ue.__v===he.__v){Me.props=Lt,Me.state=Me.__s,ue.__v!==he.__v&&(Me.__d=!1),Me.__v=ue,ue.__e=he.__e,ue.__k=he.__k,ue.__k.forEach(function(Nn){Nn&&(Nn.__=ue)}),Me.__h.length&&wt.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(Lt,Me.__s,dn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(fe,at,It)})}Me.context=dn,Me.props=Lt,Me.state=Me.__s,(yt=d.__r)&&yt(ue),Me.__d=!1,Me.__v=ue,Me.__P=ce,yt=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(Te=C(C({},Te),Me.getChildContext())),st||Me.getSnapshotBeforeUpdate==null||(It=Me.getSnapshotBeforeUpdate(fe,at)),bn=yt!=null&&yt.type===ie&&yt.key==null?yt.props.children:yt,G(ce,Array.isArray(bn)?bn:[bn],ue,he,Te,He,Le,wt,kt,St),Me.base=ue.__e,ue.__h=null,Me.__h.length&&wt.push(Me),on&&(Me.__E=Me.__=null),Me.__e=!1}else Le==null&&ue.__v===he.__v?(ue.__k=he.__k,ue.__e=he.__e):ue.__e=je(he.__e,ue,he,Te,He,Le,wt,St);(yt=d.diffed)&&yt(ue)}catch(Nn){ue.__v=null,(St||Le!=null)&&(ue.__e=kt,ue.__h=!!St,Le[Le.indexOf(kt)]=null),d.__e(Nn,ue,he)}}function ye(ce,ue){d.__c&&d.__c(ue,ce),ce.some(function(he){try{ce=he.__h,he.__h=[],ce.some(function(Te){Te.call(he)})}catch(Te){d.__e(Te,he.__v)}})}function je(ce,ue,he,Te,He,Le,wt,kt){var St,yt,Me,st=he.props,fe=ue.props,at=ue.type,It=0;if(at==="svg"&&(He=!0),Le!=null){for(;It<Le.length;It++)if((St=Le[It])&&"setAttribute"in St==!!at&&(at?St.localName===at:St.nodeType===3)){ce=St,Le[It]=null;break}}if(ce==null){if(at===null)return document.createTextNode(fe);ce=He?document.createElementNS("http://www.w3.org/2000/svg",at):document.createElement(at,fe.is&&fe),Le=null,kt=!1}if(at===null)st===fe||kt&&ce.data===fe||(ce.data=fe);else{if(Le=Le&&p.call(ce.childNodes),yt=(st=he.props||T).dangerouslySetInnerHTML,Me=fe.dangerouslySetInnerHTML,!kt){if(Le!=null)for(st={},It=0;It<ce.attributes.length;It++)st[ce.attributes[It].name]=ce.attributes[It].value;(Me||yt)&&(Me&&(yt&&Me.__html==yt.__html||Me.__html===ce.innerHTML)||(ce.innerHTML=Me&&Me.__html||""))}if(function(on,Lt,qt,dn,bn){var Dt;for(Dt in qt)Dt==="children"||Dt==="key"||Dt in Lt||me(on,Dt,null,qt[Dt],dn);for(Dt in Lt)bn&&typeof Lt[Dt]!="function"||Dt==="children"||Dt==="key"||Dt==="value"||Dt==="checked"||qt[Dt]===Lt[Dt]||me(on,Dt,Lt[Dt],qt[Dt],dn)}(ce,fe,st,He,kt),Me)ue.__k=[];else if(It=ue.props.children,G(ce,Array.isArray(It)?It:[It],ue,he,Te,He&&at!=="foreignObject",Le,wt,Le?Le[0]:he.__k&&J(he,0),kt),Le!=null)for(It=Le.length;It--;)Le[It]!=null&&F(Le[It]);kt||("value"in fe&&(It=fe.value)!==void 0&&(It!==st.value||It!==ce.value||at==="progress"&&!It)&&me(ce,"value",It,st.value,!1),"checked"in fe&&(It=fe.checked)!==void 0&&It!==ce.checked&&me(ce,"checked",It,st.checked,!1))}return ce}function Ae(ce,ue,he){try{typeof ce=="function"?ce(ue):ce.current=ue}catch(Te){d.__e(Te,he)}}function Ue(ce,ue,he){var Te,He;if(d.unmount&&d.unmount(ce),(Te=ce.ref)&&(Te.current&&Te.current!==ce.__e||Ae(Te,null,ue)),(Te=ce.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(Le){d.__e(Le,ue)}Te.base=Te.__P=null}if(Te=ce.__k)for(He=0;He<Te.length;He++)Te[He]&&Ue(Te[He],ue,typeof ce.type!="function");he||ce.__e==null||F(ce.__e),ce.__e=ce.__d=void 0}function nt(ce,ue,he){return this.constructor(ce,he)}function Ot(ce,ue,he){var Te,He,Le;d.__&&d.__(ce,ue),He=(Te=typeof he=="function")?null:he&&he.__k||ue.__k,Le=[],Se(ue,ce=(!Te&&he||ue).__k=Y(ie,null,[ce]),He||T,T,ue.ownerSVGElement!==void 0,!Te&&he?[he]:He?null:ue.firstChild?p.call(ue.childNodes):null,Le,!Te&&he?he:He?He.__e:ue.firstChild,Te),ye(Le,ce)}function We(ce,ue){Ot(ce,ue,We)}function Ze(ce,ue,he){var Te,He,Le,wt=C({},ce.props);for(Le in ue)Le=="key"?Te=ue[Le]:Le=="ref"?He=ue[Le]:wt[Le]=ue[Le];return arguments.length>2&&(wt.children=arguments.length>3?p.call(arguments,2):he),V(ce.type,wt,Te||ce.key,He||ce.ref,null)}function vt(ce,ue){var he={__c:ue="__cC"+P++,__:ce,Consumer:function(Te,He){return Te.children(He)},Provider:function(Te){var He,Le;return this.getChildContext||(He=[],(Le={})[ue]=this,this.getChildContext=function(){return Le},this.shouldComponentUpdate=function(wt){this.props.value!==wt.value&&He.some(H)},this.sub=function(wt){He.push(wt);var kt=wt.componentWillUnmount;wt.componentWillUnmount=function(){He.splice(He.indexOf(wt),1),kt&&kt.call(wt)}}),Te.children}};return he.Provider.__=he.Consumer.contextType=he}p=k.slice,d={__e:function(ce,ue){for(var he,Te,He;ue=ue.__;)if((he=ue.__c)&&!he.__)try{if((Te=he.constructor)&&Te.getDerivedStateFromError!=null&&(he.setState(Te.getDerivedStateFromError(ce)),He=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(ce),He=he.__d),He)return he.__E=he}catch(Le){ce=Le}throw ce}},O=0,re.prototype.setState=function(ce,ue){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof ce=="function"&&(ce=ce(C({},he),this.props)),ce&&C(he,ce),ce!=null&&this.__v&&(ue&&this.__h.push(ue),H(this))},re.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),H(this))},re.prototype.render=ie,v=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,P=0},function(s,f,o){(function(p,d){o.d(f,"a",function(){return H}),o.d(f,"b",function(){return su}),o.d(f,"c",function(){return qr}),o.d(f,"d",function(){return Et}),o.d(f,"e",function(){return Ke}),o.d(f,"f",function(){return Ve}),o.d(f,"g",function(){return mt}),o.d(f,"h",function(){return lo}),o.d(f,"i",function(){return bn}),o.d(f,"j",function(){return ut}),o.d(f,"k",function(){return xo}),o.d(f,"l",function(){return Qa}),o.d(f,"m",function(){return on}),o.d(f,"n",function(){return ci}),o.d(f,"o",function(){return W}),o.d(f,"p",function(){return Ss}),o.d(f,"q",function(){return Eo}),o.d(f,"r",function(){return ra}),o.d(f,"s",function(){return Fr}),o.d(f,"t",function(){return An}),o.d(f,"u",function(){return na}),o.d(f,"v",function(){return nc}),o.d(f,"w",function(){return ou}),o.d(f,"x",function(){return si}),o.d(f,"y",function(){return Br}),o.d(f,"z",function(){return Rn}),o.d(f,"A",function(){return _r}),o.d(f,"B",function(){return So}),o.d(f,"C",function(){return yt}),o.d(f,"D",function(){return js}),o.d(f,"E",function(){return an}),o.d(f,"F",function(){return cn}),o.d(f,"G",function(){return Za}),o.d(f,"H",function(){return qa}),o.d(f,"I",function(){return iu}),o.d(f,"J",function(){return Hn}),o.d(f,"K",function(){return de}),o.d(f,"L",function(){return vn}),o.d(f,"M",function(){return ia});var O=[];Object.freeze(O);var v={};function E(){return++lt.mobxGuid}function M(_){throw P(!1,_),"X"}function P(_,w){if(!_)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function T(_){var w=!1;return function(){if(!w)return w=!0,_.apply(this,arguments)}}var k=function(){};function R(_){return _!==null&&typeof _=="object"}function C(_){if(_===null||typeof _!="object")return!1;var w=Object.getPrototypeOf(_);return w===Object.prototype||w===null}function F(_,w,A){Object.defineProperty(_,w,{enumerable:!1,writable:!0,configurable:!0,value:A})}function Y(_,w){var A="isMobX"+_;return w.prototype[A]=!0,function(L){return R(L)&&L[A]===!0}}function V(_){return _ instanceof Map}function te(_){return _ instanceof Set}function ie(_){var w=new Set;for(var A in _)w.add(A);return Object.getOwnPropertySymbols(_).forEach(function(L){Object.getOwnPropertyDescriptor(_,L).enumerable&&w.add(L)}),Array.from(w)}function re(_){return _&&_.toString?_.toString():new String(_).toString()}function J(_){return _===null?null:typeof _=="object"?""+_:_}var Z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),z=function(){function _(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return _.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.reportObserved=function(){return ta(this)},_.prototype.reportChanged=function(){vr(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.isTracing!==fe.NONE&&$r(A,w),A.onBecomeStale()),A.dependenciesState=st.STALE}))}(this),Pr()},_.prototype.toString=function(){return this.name},_}(),G=Y("Atom",z);function W(_,w,A){w===void 0&&(w=k),A===void 0&&(A=k);var L,K=new z(_);return w!==k&&ec("onBecomeObserved",K,w,L),A!==k&&an(K,A),K}var $={identity:function(_,w){return _===w},structural:function(_,w){return Ne(_,w)},default:function(_,w){return Object.is(_,w)},shallow:function(_,w){return Ne(_,w,1)}},ae=function(_,w){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var K in L)L.hasOwnProperty(K)&&(A[K]=L[K])},ae(_,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var xe=function(){return xe=Object.assign||function(_){for(var w,A=1,L=arguments.length;A<L;A++)for(var K in w=arguments[A])Object.prototype.hasOwnProperty.call(w,K)&&(_[K]=w[K]);return _},xe.apply(this,arguments)};function me(_){var w=typeof Symbol=="function"&&_[Symbol.iterator],A=0;return w?w.call(_):{next:function(){return _&&A>=_.length&&(_=void 0),{value:_&&_[A++],done:!_}}}}function Pe(_,w){var A=typeof Symbol=="function"&&_[Symbol.iterator];if(!A)return _;var L,K,pe=A.call(_),Ee=[];try{for(;(w===void 0||w-- >0)&&!(L=pe.next()).done;)Ee.push(L.value)}catch(Fe){K={error:Fe}}finally{try{L&&!L.done&&(A=pe.return)&&A.call(pe)}finally{if(K)throw K.error}}return Ee}function Be(){for(var _=[],w=0;w<arguments.length;w++)_=_.concat(Pe(arguments[w]));return _}var Se=Symbol("mobx did run lazy initializers"),ye=Symbol("mobx pending decorators"),je={},Ae={};function Ue(_,w){var A=w?je:Ae;return A[_]||(A[_]={configurable:!0,enumerable:w,get:function(){return nt(this),this[_]},set:function(L){nt(this),this[_]=L}})}function nt(_){var w,A;if(_[Se]!==!0){var L=_[ye];if(L){F(_,Se,!0);var K=Be(Object.getOwnPropertySymbols(L),Object.keys(L));try{for(var pe=me(K),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=L[Ee.value];Fe.propertyCreator(_,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(ct){w={error:ct}}finally{try{Ee&&!Ee.done&&(A=pe.return)&&A.call(pe)}finally{if(w)throw w.error}}}}}function Ot(_,w){return function(){var A,L=function(K,pe,Ee,Fe){if(Fe===!0)return w(K,pe,Ee,K,A),null;if(!Object.prototype.hasOwnProperty.call(K,ye)){var ct=K[ye];F(K,ye,xe({},ct))}return K[ye][pe]={prop:pe,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:A},Ue(pe,_)};return We(arguments)?(A=O,L.apply(null,arguments)):(A=Array.prototype.slice.call(arguments),L)}}function We(_){return(_.length===2||_.length===3)&&(typeof _[1]=="string"||typeof _[1]=="symbol")||_.length===4&&_[3]===!0}function Ze(_,w,A){return si(_)?_:Array.isArray(_)?yt.array(_,{name:A}):C(_)?yt.object(_,void 0,{name:A}):V(_)?yt.map(_,{name:A}):te(_)?yt.set(_,{name:A}):_}function vt(_){return _}function ce(_){P(_);var w=Ot(!0,function(L,K,pe,Ee,Fe){var ct=pe?pe.initializer?pe.initializer.call(L):pe.value:void 0;Ar(L).addObservableProp(K,ct,_)}),A=(p!==void 0&&p.env,w);return A.enhancer=_,A}var ue={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(_){return _==null?ue:typeof _=="string"?{name:_,deep:!0,proxy:!0}:_}Object.freeze(ue);var Te=ce(Ze),He=ce(function(_,w,A){return _==null||_r(_)||Br(_)||Rn(_)||cr(_)?_:Array.isArray(_)?yt.array(_,{name:A,deep:!1}):C(_)?yt.object(_,void 0,{name:A,deep:!1}):V(_)?yt.map(_,{name:A,deep:!1}):te(_)?yt.set(_,{name:A,deep:!1}):M(!1)}),Le=ce(vt),wt=ce(function(_,w,A){return Ne(_,w)?w:_});function kt(_){return _.defaultDecorator?_.defaultDecorator.enhancer:_.deep===!1?vt:Ze}var St={box:function(_,w){arguments.length>2&&Me("box");var A=he(w);return new xn(_,kt(A),A.name,!0,A.equals)},array:function(_,w){arguments.length>2&&Me("array");var A=he(w);return Ni(_,kt(A),A.name)},map:function(_,w){arguments.length>2&&Me("map");var A=he(w);return new su(_,kt(A),A.name)},set:function(_,w){arguments.length>2&&Me("set");var A=he(w);return new co(_,kt(A),A.name)},object:function(_,w,A){typeof arguments[1]=="string"&&Me("object");var L=he(A);if(L.proxy===!1)return Eo({},_,w,L);var K=eu(L),pe=Eo({},void 0,void 0,L),Ee=li(pe);return tc(Ee,_,w,K),Ee},ref:Le,shallow:He,deep:Te,struct:wt},yt=function(_,w,A){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Te.apply(null,arguments);if(si(_))return _;var L=C(_)?yt.object(_,w,A):Array.isArray(_)?yt.array(_,w):V(_)?yt.map(_,w):te(_)?yt.set(_,w):_;if(L!==_)return L;M(!1)};function Me(_){M("Expected one or two arguments to observable."+_+". Did you accidentally try to use observable."+_+" as decorator?")}Object.keys(St).forEach(function(_){return yt[_]=St[_]});var st,fe,at=Ot(!1,function(_,w,A,L,K){var pe=A.get,Ee=A.set,Fe=K[0]||{};Ar(_).addComputedProp(_,w,xe({get:pe,set:Ee,context:_},Fe))}),It=at({equals:$.structural}),on=function(_,w,A){if(typeof w=="string"||_!==null&&typeof _=="object"&&arguments.length===1)return at.apply(null,arguments);var L=typeof w=="object"?w:{};return L.get=_,L.set=typeof w=="function"?w:L.set,L.name=L.name||_.name||"",new io(L)};on.struct=It,function(_){_[_.NOT_TRACKING=-1]="NOT_TRACKING",_[_.UP_TO_DATE=0]="UP_TO_DATE",_[_.POSSIBLY_STALE=1]="POSSIBLY_STALE",_[_.STALE=2]="STALE"}(st||(st={})),function(_){_[_.NONE=0]="NONE",_[_.LOG=1]="LOG",_[_.BREAK=2]="BREAK"}(fe||(fe={}));var Lt=function(_){this.cause=_};function qt(_){return _ instanceof Lt}function dn(_){switch(_.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=Ve(!0),A=oe(),L=_.observing,K=L.length,pe=0;pe<K;pe++){var Ee=L[pe];if(wo(Ee)){if(lt.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch(Fe){return be(A),Ke(w),!0}if(_.dependenciesState===st.STALE)return be(A),Ke(w),!0}}return ft(_),be(A),Ke(w),!1}}function bn(){return lt.trackingDerivation!==null}function Dt(_){var w=_.observers.size>0;lt.computationDepth>0&&w&&M(!1),lt.allowStateChanges||!w&&lt.enforceActions!=="strict"||M(!1)}function Nn(_,w,A){var L=Ve(!0);ft(_),_.newObserving=new Array(_.observing.length+100),_.unboundDepsCount=0,_.runId=++lt.runId;var K,pe=lt.trackingDerivation;if(lt.trackingDerivation=_,lt.disableErrorBoundaries===!0)K=w.call(A);else try{K=w.call(A)}catch(Ee){K=new Lt(Ee)}return lt.trackingDerivation=pe,function(Ee){for(var Fe=Ee.observing,ct=Ee.observing=Ee.newObserving,Ht=st.UP_TO_DATE,et=0,hn=Ee.unboundDepsCount,Bt=0;Bt<hn;Bt++)(tn=ct[Bt]).diffValue===0&&(tn.diffValue=1,et!==Bt&&(ct[et]=tn),et++),tn.dependenciesState>Ht&&(Ht=tn.dependenciesState);for(ct.length=et,Ee.newObserving=null,hn=Fe.length;hn--;)(tn=Fe[hn]).diffValue===0&&Wa(tn,Ee),tn.diffValue=0;for(;et--;){var tn;(tn=ct[et]).diffValue===1&&(tn.diffValue=0,ws(tn,Ee))}Ht!==st.UP_TO_DATE&&(Ee.dependenciesState=Ht,Ee.onBecomeStale())}(_),Ke(L),K}function Q(_){var w=_.observing;_.observing=[];for(var A=w.length;A--;)Wa(w[A],_);_.dependenciesState=st.NOT_TRACKING}function de(_){var w=oe();try{return _()}finally{be(w)}}function oe(){var _=lt.trackingDerivation;return lt.trackingDerivation=null,_}function be(_){lt.trackingDerivation=_}function Ve(_){var w=lt.allowStateReads;return lt.allowStateReads=_,w}function Ke(_){lt.allowStateReads=_}function ft(_){if(_.dependenciesState!==st.UP_TO_DATE){_.dependenciesState=st.UP_TO_DATE;for(var w=_.observing,A=w.length;A--;)w[A].lowestObserverState=st.UP_TO_DATE}}var Gt=0,Xn=1,Jn=Object.getOwnPropertyDescriptor(function(){},"name");Jn&&Jn.configurable;function Cn(_,w,A){var L=function(){return zn(_,w,A||this,arguments)};return L.isMobxAction=!0,L}function zn(_,w,A,L){var K=ut();try{return w.apply(A,L)}catch(pe){throw K.error=pe,pe}finally{mt(K)}}function ut(_,w,A){var L=0,K=oe();vr();var pe={prevDerivation:K,prevAllowStateChanges:Nt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:L,actionId:Xn++,parentActionId:Gt};return Gt=pe.actionId,pe}function mt(_){Gt!==_.actionId&&M("invalid action stack. did you forget to finish an action?"),Gt=_.parentActionId,_.error!==void 0&&(lt.suppressReactionErrors=!0),ln(_.prevAllowStateChanges),Ke(_.prevAllowStateReads),Pr(),be(_.prevDerivation),_.notifySpy,lt.suppressReactionErrors=!1}function Et(_,w){var A,L=Nt(_);try{A=w()}finally{ln(L)}return A}function Nt(_){var w=lt.allowStateChanges;return lt.allowStateChanges=_,w}function ln(_){lt.allowStateChanges=_}var xn=function(_){function w(A,L,K,pe,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=$.default);var Fe=_.call(this,K)||this;return Fe.enhancer=L,Fe.name=K,Fe.equals=Ee,Fe.hasUnreportedChange=!1,Fe.value=L(A,void 0,K),Fe}return function(A,L){function K(){this.constructor=A}ae(A,L),A.prototype=L===null?Object.create(L):(K.prototype=L.prototype,new K)}(w,_),w.prototype.dehanceValue=function(A){return this.dehancer!==void 0?this.dehancer(A):A},w.prototype.set=function(A){this.value,(A=this.prepareNewValue(A))!==lt.UNCHANGED&&this.setNewValue(A)},w.prototype.prepareNewValue=function(A){if(Dt(this),mr(this)){var L=Zt(this,{object:this,type:"update",newValue:A});if(!L)return lt.UNCHANGED;A=L.newValue}return A=this.enhancer(A,this.value,this.name),this.equals(this.value,A)?lt.UNCHANGED:A},w.prototype.setNewValue=function(A){var L=this.value;this.value=A,this.reportChanged(),br(this)&&$n(this,{type:"update",object:this,newValue:A,oldValue:L})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(A){return Po(this,A)},w.prototype.observe=function(A,L){return L&&A({object:this,type:"update",newValue:this.value,oldValue:void 0}),uo(this,A)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return J(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(z),Oo=Y("ObservableValue",xn),io=function(){function _(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Lt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,P(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Cn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?$.structural:$.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return _.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(A){A.dependenciesState===st.UP_TO_DATE&&(A.dependenciesState=st.POSSIBLY_STALE,A.isTracing!==fe.NONE&&$r(A,w),A.onBecomeStale())}))})(this)},_.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.get=function(){this.isComputing&&M("Cycle detected in computation "+this.name+": "+this.derivation),lt.inBatch!==0||this.observers.size!==0||this.keepAlive?(ta(this),dn(this)&&this.trackAndCompute()&&function(A){A.lowestObserverState!==st.STALE&&(A.lowestObserverState=st.STALE,A.observers.forEach(function(L){L.dependenciesState===st.POSSIBLY_STALE?L.dependenciesState=st.STALE:L.dependenciesState===st.UP_TO_DATE&&(A.lowestObserverState=st.UP_TO_DATE)}))}(this)):dn(this)&&(this.warnAboutUntrackedRead(),vr(),this.value=this.computeValue(!1),Pr());var w=this.value;if(qt(w))throw w.cause;return w},_.prototype.peek=function(){var w=this.computeValue(!1);if(qt(w))throw w.cause;return w},_.prototype.set=function(w){if(this.setter){P(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else P(!1,!1)},_.prototype.trackAndCompute=function(){var w=this.value,A=this.dependenciesState===st.NOT_TRACKING,L=this.computeValue(!0),K=A||qt(w)||qt(L)||!this.equals(w,L);return K&&(this.value=L),K},_.prototype.computeValue=function(w){var A;if(this.isComputing=!0,lt.computationDepth++,w)A=Nn(this,this.derivation,this.scope);else if(lt.disableErrorBoundaries===!0)A=this.derivation.call(this.scope);else try{A=this.derivation.call(this.scope)}catch(L){A=new Lt(L)}return lt.computationDepth--,this.isComputing=!1,A},_.prototype.suspend=function(){this.keepAlive||(Q(this),this.value=void 0)},_.prototype.observe=function(w,A){var L=this,K=!0,pe=void 0;return Qa(function(){var Ee=L.get();if(!K||A){var Fe=oe();w({type:"update",object:L,newValue:Ee,oldValue:pe}),be(Fe)}K=!1,pe=Ee})},_.prototype.warnAboutUntrackedRead=function(){},_.prototype.toJSON=function(){return this.get()},_.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},_.prototype.valueOf=function(){return J(this.get())},_.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},_}(),wo=Y("ComputedValue",io),ui=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Os={};function Ya(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:Os}var Ir=!0,ki=!1,lt=function(){var _=Ya();return _.__mobxInstanceCount>0&&!_.__mobxGlobals&&(Ir=!1),_.__mobxGlobals&&_.__mobxGlobals.version!==new ui().version&&(Ir=!1),Ir?_.__mobxGlobals?(_.__mobxInstanceCount+=1,_.__mobxGlobals.UNCHANGED||(_.__mobxGlobals.UNCHANGED={}),_.__mobxGlobals):(_.__mobxInstanceCount=1,_.__mobxGlobals=new ui):(setTimeout(function(){ki||M("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ui)}();function ws(_,w){_.observers.add(w),_.lowestObserverState>w.dependenciesState&&(_.lowestObserverState=w.dependenciesState)}function Wa(_,w){_.observers.delete(w),_.observers.size===0&&Va(_)}function Va(_){_.isPendingUnobservation===!1&&(_.isPendingUnobservation=!0,lt.pendingUnobservations.push(_))}function vr(){lt.inBatch++}function Pr(){if(--lt.inBatch==0){$a();for(var _=lt.pendingUnobservations,w=0;w<_.length;w++){var A=_[w];A.isPendingUnobservation=!1,A.observers.size===0&&(A.isBeingObserved&&(A.isBeingObserved=!1,A.onBecomeUnobserved()),A instanceof io&&A.suspend())}lt.pendingUnobservations=[]}}function ta(_){var w=lt.trackingDerivation;return w!==null?(w.runId!==_.lastAccessedBy&&(_.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=_,_.isBeingObserved||(_.isBeingObserved=!0,_.onBecomeObserved())),!0):(_.observers.size===0&&lt.inBatch>0&&Va(_),!1)}function $r(_,w){if(_.isTracing===fe.BREAK){var A=[];Lr(An(_),A,1),new Function(`debugger;
/*
Tracing '`+_.name+`'

You are entering this break point because derivation '`+_.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(_ instanceof io?_.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+A.join(`
`)+`
*/
    `)()}}function Lr(_,w,A){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(A).join("	")+_.name),_.dependencies&&_.dependencies.forEach(function(L){return Lr(L,w,A+1)}))}var qr=function(){function _(w,A,L,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=A,this.errorHandler=L,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return _.prototype.onBecomeStale=function(){this.schedule()},_.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,lt.pendingReactions.push(this),$a())},_.prototype.isScheduled=function(){return this._isScheduled},_.prototype.runReaction=function(){if(!this.isDisposed){if(vr(),this._isScheduled=!1,dn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Pr()}},_.prototype.track=function(w){if(!this.isDisposed){vr(),this._isRunning=!0;var A=Nn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Q(this),qt(A)&&this.reportExceptionInDerivation(A.cause),Pr()}},_.prototype.reportExceptionInDerivation=function(w){var A=this;if(this.errorHandler)this.errorHandler(w,this);else{if(lt.disableErrorBoundaries)throw w;lt.suppressReactionErrors,lt.globalReactionErrorHandlers.forEach(function(L){return L(w,A)})}},_.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(vr(),Q(this),Pr()))},_.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[H]=this,w},_.prototype.toString=function(){return"Reaction["+this.name+"]"},_.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var A=[],L=0;L<arguments.length;L++)A[L]=arguments[L];var K=!1;typeof A[A.length-1]=="boolean"&&(K=A.pop());var pe=en(A);if(!pe)return M(!1);pe.isTracing,fe.NONE,pe.isTracing=K?fe.BREAK:fe.LOG}(this,w)},_}(),Ka=function(_){return _()};function $a(){lt.inBatch>0||lt.isRunningReactions||Ka(qu)}function qu(){lt.isRunningReactions=!0;for(var _=lt.pendingReactions,w=0;_.length>0;){++w==100&&_.splice(0);for(var A=_.splice(0),L=0,K=A.length;L<K;L++)A[L].runReaction()}lt.isRunningReactions=!1}var Ti=Y("Reaction",qr);function Zu(_){var w=Ka;Ka=function(A){return _(function(){return w(A)})}}function qa(_){return function(){}}function xs(){M(!1)}function Bo(_){return function(w,A,L){if(L){if(L.value)return{value:Cn(_,L.value),enumerable:!1,configurable:!0,writable:!0};var K=L.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Cn(_,K.call(this))}}}return Ju(_).apply(this,arguments)}}function Ju(_){return function(w,A,L){Object.defineProperty(w,A,{configurable:!0,enumerable:!1,get:function(){},set:function(K){F(this,A,xo(_,K))}})}}var xo=function(_,w,A,L){return arguments.length===1&&typeof _=="function"?Cn(_.name||"<unnamed action>",_):arguments.length===2&&typeof w=="function"?Cn(_,w):arguments.length===1&&typeof _=="string"?Bo(_):L!==!0?Bo(w).apply(null,arguments):void F(_,w,Cn(_.name||w,A.value,this))};function Za(_,w){return zn(typeof _=="string"?_:_.name||"<unnamed action>",typeof _=="function"?_:w,this,void 0)}function na(_){return typeof _=="function"&&_.isMobxAction===!0}function Ja(_,w,A){F(_,w,Cn(w,A.bind(_)))}function Qa(_,w){w===void 0&&(w=v);var A,L=w&&w.name||_.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)A=new qr(L,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=Qu(w),pe=!1;A=new qr(L,function(){pe||(pe=!0,K(function(){pe=!1,A.isDisposed||A.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){_(A)}return A.schedule(),A.getDisposer()}xo.bound=function(_,w,A,L){return L===!0?(Ja(_,w,A.value),null):A?{configurable:!0,enumerable:!1,get:function(){return Ja(this,w,A.value||A.initializer.call(this)),this[w]},set:xs}:{enumerable:!1,configurable:!0,set:function(K){Ja(this,w,K)},get:function(){}}};var Es=function(_){return _()};function Qu(_){return _.scheduler?_.scheduler:_.delay?function(w){return setTimeout(w,_.delay)}:Es}function cn(_,w,A){A===void 0&&(A=v);var L,K,pe,Ee=A.name||"Reaction@"+E(),Fe=xo(Ee,A.onError?(L=A.onError,K=w,function(){try{return K.apply(this,arguments)}catch(_n){L.call(this,_n)}}):w),ct=!A.scheduler&&!A.delay,Ht=Qu(A),et=!0,hn=!1,Bt=A.compareStructural?$.structural:A.equals||$.default,tn=new qr(Ee,function(){et||ct?Ur():hn||(hn=!0,Ht(Ur))},A.onError,A.requiresObservable);function Ur(){if(hn=!1,!tn.isDisposed){var _n=!1;tn.track(function(){var Or=_(tn);_n=et||!Bt(pe,Or),pe=Or}),et&&A.fireImmediately&&Fe(pe,tn),et||_n!==!0||Fe(pe,tn),et&&(et=!1)}}return tn.schedule(),tn.getDisposer()}function an(_,w,A){return ec("onBecomeUnobserved",_,w,A)}function ec(_,w,A,L){var K=typeof L=="function"?Fr(w,A):Fr(w),pe=typeof L=="function"?L:A,Ee=_+"Listeners";return K[Ee]?K[Ee].add(pe):K[Ee]=new Set([pe]),typeof K[_]!="function"?M(!1):function(){var Fe=K[Ee];Fe&&(Fe.delete(pe),Fe.size===0&&delete K[Ee])}}function ci(_){var w=_.enforceActions,A=_.computedRequiresReaction,L=_.computedConfigurable,K=_.disableErrorBoundaries,pe=_.reactionScheduler,Ee=_.reactionRequiresObservable,Fe=_.observableRequiresReaction;if(_.isolateGlobalState===!0&&((lt.pendingReactions.length||lt.inBatch||lt.isRunningReactions)&&M("isolateGlobalState should be called before MobX is running any reactions"),ki=!0,Ir&&(--Ya().__mobxInstanceCount==0&&(Ya().__mobxGlobals=void 0),lt=new ui)),w!==void 0){var ct=void 0;switch(w){case!0:case"observed":ct=!0;break;case!1:case"never":ct=!1;break;case"strict":case"always":ct="strict";break;default:M("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}lt.enforceActions=ct,lt.allowStateChanges=ct!==!0&&ct!=="strict"}A!==void 0&&(lt.computedRequiresReaction=!!A),Ee!==void 0&&(lt.reactionRequiresObservable=!!Ee),Fe!==void 0&&(lt.observableRequiresReaction=!!Fe,lt.allowStateReads=!lt.observableRequiresReaction),L!==void 0&&(lt.computedConfigurable=!!L),K!==void 0&&(lt.disableErrorBoundaries=!!K),pe&&Zu(pe)}function Eo(_,w,A,L){var K=eu(L=he(L));return nt(_),Ar(_,L.name,K.enhancer),w&&tc(_,w,A,K),_}function eu(_){return _.defaultDecorator||(_.deep===!1?Le:Te)}function tc(_,w,A,L){var K,pe;vr();try{var Ee=Z(w);try{for(var Fe=me(Ee),ct=Fe.next();!ct.done;ct=Fe.next()){var Ht=ct.value,et=Object.getOwnPropertyDescriptor(w,Ht),hn=(A&&Ht in A?A[Ht]:et.get?at:L)(_,Ht,et,!0);hn&&Object.defineProperty(_,Ht,hn)}}catch(Bt){K={error:Bt}}finally{try{ct&&!ct.done&&(pe=Fe.return)&&pe.call(Fe)}finally{if(K)throw K.error}}}finally{Pr()}}function An(_,w){return tu(Fr(_,w))}function tu(_){var w,A,L={name:_.name};return _.observing&&_.observing.length>0&&(L.dependencies=(w=_.observing,A=[],w.forEach(function(K){A.indexOf(K)===-1&&A.push(K)}),A).map(tu)),L}var Di=0;function nu(){this.message="FLOW_CANCELLED"}function ra(_){arguments.length!==1&&M("Flow expects 1 argument and cannot be used as decorator");var w=_.name||"<unnamed flow>";return function(){var A,L=this,K=arguments,pe=++Di,Ee=xo(w+" - runid: "+pe+" - init",_).apply(L,K),Fe=void 0,ct=new Promise(function(Ht,et){var hn=0;function Bt(_n){var Or;Fe=void 0;try{Or=xo(w+" - runid: "+pe+" - yield "+hn++,Ee.next).call(Ee,_n)}catch(Mo){return et(Mo)}Ur(Or)}function tn(_n){var Or;Fe=void 0;try{Or=xo(w+" - runid: "+pe+" - yield "+hn++,Ee.throw).call(Ee,_n)}catch(Mo){return et(Mo)}Ur(Or)}function Ur(_n){if(!_n||typeof _n.then!="function")return _n.done?Ht(_n.value):(Fe=Promise.resolve(_n.value)).then(Bt,tn);_n.then(Ur,et)}A=et,Bt(void 0)});return ct.cancel=xo(w+" - runid: "+pe+" - cancel",function(){try{Fe&&Qn(Fe);var Ht=Ee.return(void 0),et=Promise.resolve(Ht.value);et.then(k,k),Qn(et),A(new nu)}catch(hn){A(hn)}}),ct}}function Qn(_){typeof _.cancel=="function"&&_.cancel()}function ru(_,w){if(_==null)return!1;if(w!==void 0){if(_r(_)===!1||!_[H].values.has(w))return!1;var A=Fr(_,w);return wo(A)}return wo(_)}function nc(_){return arguments.length>1?M(!1):ru(_)}function ou(_,w){return typeof w!="string"?M(!1):ru(_,w)}function oa(_,w){return _!=null&&(w!==void 0?!!_r(_)&&_[H].values.has(w):_r(_)||!!_[H]||G(_)||Ti(_)||wo(_))}function si(_){return arguments.length!==1&&M(!1),oa(_)}function So(_){return _r(_)?_[H].getKeys():Rn(_)||cr(_)?Array.from(_.keys()):Br(_)?_.map(function(w,A){return A}):M(!1)}function vn(_){return _r(_)?So(_).map(function(w){return _[w]}):Rn(_)?So(_).map(function(w){return _.get(w)}):cr(_)?Array.from(_.values()):Br(_)?_.slice():M(!1)}function Ss(_){return _r(_)?So(_).map(function(w){return[w,_[w]]}):Rn(_)?So(_).map(function(w){return[w,_.get(w)]}):cr(_)?Array.from(_.entries()):Br(_)?_.map(function(w,A){return[A,w]}):M(!1)}function gr(_,w,A){if(arguments.length!==2||cr(_))if(_r(_)){var L=_[H],K=L.values.get(w);K?L.write(w,A):L.addObservableProp(w,A,L.defaultEnhancer)}else if(Rn(_))_.set(w,A);else if(cr(_))_.add(w);else{if(!Br(_))return M(!1);typeof w!="number"&&(w=parseInt(w,10)),P(w>=0,"Not a valid index: '"+w+"'"),vr(),w>=_.length&&(_.length=w+1),_[w]=A,Pr()}else{vr();var pe=w;try{for(var Ee in pe)gr(_,Ee,pe[Ee])}finally{Pr()}}}function js(_,w,A,L){return typeof A=="function"?function(K,pe,Ee,Fe){return lo(K,pe).observe(Ee,Fe)}(_,w,A,L):function(K,pe,Ee){return lo(K).observe(pe,Ee)}(_,w,A)}nu.prototype=Object.create(Error.prototype);var rc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function ur(_,w,A,L){return L.detectCycles&&_.set(w,A),A}function zr(_,w,A){if(!w.recurseEverything&&!si(_)||typeof _!="object")return _;if(_===null)return null;if(_ instanceof Date)return _;if(Oo(_))return zr(_.get(),w,A);if(si(_)&&So(_),w.detectCycles===!0&&_!==null&&A.has(_))return A.get(_);if(Br(_)||Array.isArray(_)){var L=ur(A,_,[],w),K=_.map(function(Bt){return zr(Bt,w,A)});L.length=K.length;for(var pe=0,Ee=K.length;pe<Ee;pe++)L[pe]=K[pe];return L}if(cr(_)||Object.getPrototypeOf(_)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=ur(A,_,new Set,w);return _.forEach(function(Bt){Fe.add(zr(Bt,w,A))}),Fe}var ct=ur(A,_,[],w);return _.forEach(function(Bt){ct.push(zr(Bt,w,A))}),ct}if(Rn(_)||Object.getPrototypeOf(_)===Map.prototype){if(w.exportMapsAsObjects===!1){var Ht=ur(A,_,new Map,w);return _.forEach(function(Bt,tn){Ht.set(tn,zr(Bt,w,A))}),Ht}var et=ur(A,_,{},w);return _.forEach(function(Bt,tn){et[tn]=zr(Bt,w,A)}),et}var hn=ur(A,_,{},w);return ie(_).forEach(function(Bt){hn[Bt]=zr(_[Bt],w,A)}),hn}function iu(_,w){var A;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=rc),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(A=new Map),zr(_,w,A)}function en(_){switch(_.length){case 0:return lt.trackingDerivation;case 1:return Fr(_[0]);case 2:return Fr(_[0],_[1])}}function Hn(_,w){w===void 0&&(w=void 0),vr();try{return _.apply(w)}finally{Pr()}}function ia(_,w,A){return arguments.length===1||w&&typeof w=="object"?au(_,w):oc(_,w,A||{})}function oc(_,w,A){var L;typeof A.timeout=="number"&&(L=setTimeout(function(){if(!pe[H].isDisposed){pe();var Ee=new Error("WHEN_TIMEOUT");if(!A.onError)throw Ee;A.onError(Ee)}},A.timeout)),A.name=A.name||"When@"+E();var K=Cn(A.name+"-effect",w),pe=Qa(function(Ee){_()&&(Ee.dispose(),L&&clearTimeout(L),K())},A);return pe}function au(_,w){var A,L=new Promise(function(K,pe){var Ee=oc(_,K,xe(xe({},w),{onError:pe}));A=function(){Ee(),pe("WHEN_CANCELLED")}});return L.cancel=A,L}function aa(_){return _[H]}function ao(_){return typeof _=="string"||typeof _=="number"||typeof _=="symbol"}var jo={has:function(_,w){if(w===H||w==="constructor"||w===Se)return!0;var A=aa(_);return ao(w)?A.has(w):w in _},get:function(_,w){if(w===H||w==="constructor"||w===Se)return _[w];var A=aa(_),L=A.values.get(w);if(L instanceof z){var K=L.get();return K===void 0&&A.has(w),K}return ao(w)&&A.has(w),_[w]},set:function(_,w,A){return!!ao(w)&&(gr(_,w,A),!0)},deleteProperty:function(_,w){return!!ao(w)&&(aa(_).remove(w),!0)},ownKeys:function(_){return aa(_).keysAtom.reportObserved(),Reflect.ownKeys(_)},preventExtensions:function(_){return M("Dynamic observable objects cannot be frozen"),!1}};function li(_){var w=new Proxy(_,jo);return _[H].proxy=w,w}function mr(_){return _.interceptors!==void 0&&_.interceptors.length>0}function Po(_,w){var A=_.interceptors||(_.interceptors=[]);return A.push(w),T(function(){var L=A.indexOf(w);L!==-1&&A.splice(L,1)})}function Zt(_,w){var A=oe();try{for(var L=Be(_.interceptors||[]),K=0,pe=L.length;K<pe&&(P(!(w=L[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{be(A)}}function br(_){return _.changeListeners!==void 0&&_.changeListeners.length>0}function uo(_,w){var A=_.changeListeners||(_.changeListeners=[]);return A.push(w),T(function(){var L=A.indexOf(w);L!==-1&&A.splice(L,1)})}function $n(_,w){var A=oe(),L=_.changeListeners;if(L){for(var K=0,pe=(L=L.slice()).length;K<pe;K++)L[K](w);be(A)}}var ua={get:function(_,w){return w===H?_[H]:w==="length"?_[H].getArrayLength():typeof w=="number"?En.get.call(_,w):typeof w!="string"||isNaN(w)?En.hasOwnProperty(w)?En[w]:_[w]:En.get.call(_,parseInt(w))},set:function(_,w,A){return w==="length"&&_[H].setArrayLength(A),typeof w=="number"&&En.set.call(_,w,A),typeof w=="symbol"||isNaN(w)?_[w]=A:En.set.call(_,parseInt(w),A),!0},preventExtensions:function(_){return M("Observable arrays cannot be frozen"),!1}};function Ni(_,w,A,L){A===void 0&&(A="ObservableArray@"+E()),L===void 0&&(L=!1);var K,pe,Ee,Fe=new uu(A,w,L);K=Fe.values,pe=H,Ee=Fe,Object.defineProperty(K,pe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var ct=new Proxy(Fe.values,ua);if(Fe.proxy=ct,_&&_.length){var Ht=Nt(!0);Fe.spliceWithArray(0,0,_),ln(Ht)}return ct}var uu=function(){function _(w,A,L){this.owned=L,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(w||"ObservableArray@"+E()),this.enhancer=function(K,pe){return A(K,pe,w+"[..]")}}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},_.prototype.intercept=function(w){return Po(this,w)},_.prototype.observe=function(w,A){return A===void 0&&(A=!1),A&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),uo(this,w)},_.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},_.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var A=this.values.length;if(w!==A)if(w>A){for(var L=new Array(w-A),K=0;K<w-A;K++)L[K]=void 0;this.spliceWithArray(A,0,L)}else this.spliceWithArray(w,A-w)},_.prototype.updateArrayLength=function(w,A){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=A},_.prototype.spliceWithArray=function(w,A,L){var K=this;Dt(this.atom);var pe=this.values.length;if(w===void 0?w=0:w>pe?w=pe:w<0&&(w=Math.max(0,pe+w)),A=arguments.length===1?pe-w:A==null?0:Math.max(0,Math.min(A,pe-w)),L===void 0&&(L=O),mr(this)){var Ee=Zt(this,{object:this.proxy,type:"splice",index:w,removedCount:A,added:L});if(!Ee)return O;A=Ee.removedCount,L=Ee.added}L=L.length===0?L:L.map(function(ct){return K.enhancer(ct,void 0)});var Fe=this.spliceItemsIntoValues(w,A,L);return A===0&&L.length===0||this.notifyArraySplice(w,L,Fe),this.dehanceValues(Fe)},_.prototype.spliceItemsIntoValues=function(w,A,L){var K;if(L.length<1e4)return(K=this.values).splice.apply(K,Be([w,A],L));var pe=this.values.slice(w,w+A);return this.values=this.values.slice(0,w).concat(L,this.values.slice(w+A)),pe},_.prototype.notifyArrayChildUpdate=function(w,A,L){var K=!this.owned&&!1,pe=br(this),Ee=pe||K?{object:this.proxy,type:"update",index:w,newValue:A,oldValue:L}:null;this.atom.reportChanged(),pe&&$n(this,Ee)},_.prototype.notifyArraySplice=function(w,A,L){var K=!this.owned&&!1,pe=br(this),Ee=pe||K?{object:this.proxy,type:"splice",index:w,removed:L,added:A,removedCount:L.length,addedCount:A.length}:null;this.atom.reportChanged(),pe&&$n(this,Ee)},_}(),En={intercept:function(_){return this[H].intercept(_)},observe:function(_,w){return w===void 0&&(w=!1),this[H].observe(_,w)},clear:function(){return this.splice(0)},replace:function(_){var w=this[H];return w.spliceWithArray(0,w.values.length,_)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(_,w){for(var A=[],L=2;L<arguments.length;L++)A[L-2]=arguments[L];var K=this[H];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(_);case 2:return K.spliceWithArray(_,w)}return K.spliceWithArray(_,w,A)},spliceWithArray:function(_,w,A){return this[H].spliceWithArray(_,w,A)},push:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var A=this[H];return A.spliceWithArray(A.values.length,0,_),A.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var A=this[H];return A.spliceWithArray(0,0,_),A.values.length},reverse:function(){var _=this.slice();return _.reverse.apply(_,arguments)},sort:function(_){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(_){var w=this[H],A=w.dehanceValues(w.values).indexOf(_);return A>-1&&(this.splice(A,1),!0)},get:function(_){var w=this[H];if(w&&_<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[_])},set:function(_,w){var A=this[H],L=A.values;if(_<L.length){Dt(A.atom);var K=L[_];if(mr(A)){var pe=Zt(A,{type:"update",object:A.proxy,index:_,newValue:w});if(!pe)return;w=pe.newValue}(w=A.enhancer(w,K))!==K&&(L[_]=w,A.notifyArrayChildUpdate(_,w,K))}else{if(_!==L.length)throw new Error("[mobx.array] Index out of bounds, "+_+" is larger than "+L.length);A.spliceWithArray(_,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(_){typeof Array.prototype[_]=="function"&&(En[_]=function(){var w=this[H];w.atom.reportObserved();var A=w.dehanceValues(w.values);return A[_].apply(A,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(_){typeof Array.prototype[_]=="function"&&(En[_]=function(w,A){var L=this,K=this[H];return K.atom.reportObserved(),K.dehanceValues(K.values)[_](function(pe,Ee){return w.call(A,pe,Ee,L)},A)})}),["reduce","reduceRight"].forEach(function(_){En[_]=function(){var w=this,A=this[H];A.atom.reportObserved();var L=arguments[0];return arguments[0]=function(K,pe,Ee){return pe=A.dehanceValue(pe),L(K,pe,Ee,w)},A.values[_].apply(A.values,arguments)}});var ca,Ao=Y("ObservableArrayAdministration",uu);function Br(_){return R(_)&&Ao(_[H])}var cu,Ps={},su=function(){function _(w,A,L){if(A===void 0&&(A=Ze),L===void 0&&(L="ObservableMap@"+E()),this.enhancer=A,this.name=L,this[ca]=Ps,this._keysAtom=W(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return _.prototype._has=function(w){return this._data.has(w)},_.prototype.has=function(w){var A=this;if(!lt.trackingDerivation)return this._has(w);var L=this._hasMap.get(w);if(!L){var K=L=new xn(this._has(w),vt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,K),an(K,function(){return A._hasMap.delete(w)})}return L.get()},_.prototype.set=function(w,A){var L=this._has(w);if(mr(this)){var K=Zt(this,{type:L?"update":"add",object:this,newValue:A,name:w});if(!K)return this;A=K.newValue}return L?this._updateValue(w,A):this._addValue(w,A),this},_.prototype.delete=function(w){var A=this;if(Dt(this._keysAtom),mr(this)&&!(K=Zt(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var L=br(this),K=L?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Hn(function(){A._keysAtom.reportChanged(),A._updateHasMapEntry(w,!1),A._data.get(w).setNewValue(void 0),A._data.delete(w)}),L&&$n(this,K),!0}return!1},_.prototype._updateHasMapEntry=function(w,A){var L=this._hasMap.get(w);L&&L.setNewValue(A)},_.prototype._updateValue=function(w,A){var L=this._data.get(w);if((A=L.prepareNewValue(A))!==lt.UNCHANGED){var K=br(this),pe=K?{type:"update",object:this,oldValue:L.value,name:w,newValue:A}:null;L.setNewValue(A),K&&$n(this,pe)}},_.prototype._addValue=function(w,A){var L=this;Dt(this._keysAtom),Hn(function(){var Ee=new xn(A,L.enhancer,L.name+"."+re(w),!1);L._data.set(w,Ee),A=Ee.value,L._updateHasMapEntry(w,!0),L._keysAtom.reportChanged()});var K=br(this),pe=K?{type:"add",object:this,name:w,newValue:A}:null;K&&$n(this,pe)},_.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},_.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},_.prototype.values=function(){var w=this,A=this.keys();return Wt({next:function(){var L=A.next(),K=L.done,pe=L.value;return{done:K,value:K?void 0:w.get(pe)}}})},_.prototype.entries=function(){var w=this,A=this.keys();return Wt({next:function(){var L=A.next(),K=L.done,pe=L.value;return{done:K,value:K?void 0:[pe,w.get(pe)]}}})},_.prototype[ca=H,Symbol.iterator]=function(){return this.entries()},_.prototype.forEach=function(w,A){var L,K;try{for(var pe=me(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Pe(Ee.value,2),ct=Fe[0],Ht=Fe[1];w.call(A,Ht,ct,this)}}catch(et){L={error:et}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(L)throw L.error}}},_.prototype.merge=function(w){var A=this;return Rn(w)&&(w=w.toJS()),Hn(function(){var L=Nt(!0);try{C(w)?ie(w).forEach(function(K){return A.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var pe=Pe(K,2),Ee=pe[0],Fe=pe[1];return A.set(Ee,Fe)}):V(w)?(w.constructor!==Map&&M("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,pe){return A.set(pe,K)})):w!=null&&M("Cannot initialize map from "+w)}finally{ln(L)}}),this},_.prototype.clear=function(){var w=this;Hn(function(){de(function(){var A,L;try{for(var K=me(w.keys()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){A={error:Fe}}finally{try{pe&&!pe.done&&(L=K.return)&&L.call(K)}finally{if(A)throw A.error}}})})},_.prototype.replace=function(w){var A=this;return Hn(function(){var L,K,pe,Ee,Fe=function(sr){if(V(sr)||Rn(sr))return sr;if(Array.isArray(sr))return new Map(sr);if(C(sr)){var Ii=new Map;for(var fi in sr)Ii.set(fi,sr[fi]);return Ii}return M("Cannot convert to map from '"+sr+"'")}(w),ct=new Map,Ht=!1;try{for(var et=me(A._data.keys()),hn=et.next();!hn.done;hn=et.next()){var Bt=hn.value;if(!Fe.has(Bt))if(A.delete(Bt))Ht=!0;else{var tn=A._data.get(Bt);ct.set(Bt,tn)}}}catch(sr){L={error:sr}}finally{try{hn&&!hn.done&&(K=et.return)&&K.call(et)}finally{if(L)throw L.error}}try{for(var Ur=me(Fe.entries()),_n=Ur.next();!_n.done;_n=Ur.next()){var Or=Pe(_n.value,2),Mo=(Bt=Or[0],tn=Or[1],A._data.has(Bt));if(A.set(Bt,tn),A._data.has(Bt)){var ko=A._data.get(Bt);ct.set(Bt,ko),Mo||(Ht=!0)}}}catch(sr){pe={error:sr}}finally{try{_n&&!_n.done&&(Ee=Ur.return)&&Ee.call(Ur)}finally{if(pe)throw pe.error}}if(!Ht)if(A._data.size!==ct.size)A._keysAtom.reportChanged();else for(var Ri=A._data.keys(),fu=ct.keys(),Uo=Ri.next(),la=fu.next();!Uo.done;){if(Uo.value!==la.value){A._keysAtom.reportChanged();break}Uo=Ri.next(),la=fu.next()}A._data=ct}),this},Object.defineProperty(_.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.toPOJO=function(){var w,A,L={};try{for(var K=me(this),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Fe=Ee[0],ct=Ee[1];L[typeof Fe=="symbol"?Fe:re(Fe)]=ct}}catch(Ht){w={error:Ht}}finally{try{pe&&!pe.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return L},_.prototype.toJS=function(){return new Map(this)},_.prototype.toJSON=function(){return this.toPOJO()},_.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(A){return re(A)+": "+w.get(A)}).join(", ")+" }]"},_.prototype.observe=function(w,A){return uo(this,w)},_.prototype.intercept=function(w){return Po(this,w)},_}(),Rn=Y("ObservableMap",su),Ci={},co=function(){function _(w,A,L){if(A===void 0&&(A=Ze),L===void 0&&(L="ObservableSet@"+E()),this.name=L,this[cu]=Ci,this._data=new Set,this._atom=W(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,pe){return A(K,pe,L)},w&&this.replace(w)}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.clear=function(){var w=this;Hn(function(){de(function(){var A,L;try{for(var K=me(w._data.values()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){A={error:Fe}}finally{try{pe&&!pe.done&&(L=K.return)&&L.call(K)}finally{if(A)throw A.error}}})})},_.prototype.forEach=function(w,A){var L,K;try{for(var pe=me(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Ee.value;w.call(A,Fe,Fe,this)}}catch(ct){L={error:ct}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(L)throw L.error}}},Object.defineProperty(_.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.add=function(w){var A=this;if(Dt(this._atom),mr(this)&&!(K=Zt(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Hn(function(){A._data.add(A.enhancer(w,void 0)),A._atom.reportChanged()});var L=br(this),K=L?{type:"add",object:this,newValue:w}:null;L&&$n(this,K)}return this},_.prototype.delete=function(w){var A=this;if(mr(this)&&!(K=Zt(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var L=br(this),K=L?{type:"delete",object:this,oldValue:w}:null;return Hn(function(){A._atom.reportChanged(),A._data.delete(w)}),L&&$n(this,K),!0}return!1},_.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},_.prototype.entries=function(){var w=0,A=Array.from(this.keys()),L=Array.from(this.values());return Wt({next:function(){var K=w;return w+=1,K<L.length?{value:[A[K],L[K]],done:!1}:{done:!0}}})},_.prototype.keys=function(){return this.values()},_.prototype.values=function(){this._atom.reportObserved();var w=this,A=0,L=Array.from(this._data.values());return Wt({next:function(){return A<L.length?{value:w.dehanceValue(L[A++]),done:!1}:{done:!0}}})},_.prototype.replace=function(w){var A=this;return cr(w)&&(w=w.toJS()),Hn(function(){var L=Nt(!0);try{Array.isArray(w)||te(w)?(A.clear(),w.forEach(function(K){return A.add(K)})):w!=null&&M("Cannot initialize set from "+w)}finally{ln(L)}}),this},_.prototype.observe=function(w,A){return uo(this,w)},_.prototype.intercept=function(w){return Po(this,w)},_.prototype.toJS=function(){return new Set(this)},_.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},_.prototype[cu=H,Symbol.iterator]=function(){return this.values()},_}(),cr=Y("ObservableSet",co),lu=function(){function _(w,A,L,K){A===void 0&&(A=new Map),this.target=w,this.values=A,this.name=L,this.defaultEnhancer=K,this.keysAtom=new z(L+".keys")}return _.prototype.read=function(w){return this.values.get(w).get()},_.prototype.write=function(w,A){var L=this.target,K=this.values.get(w);if(K instanceof io)K.set(A);else{if(mr(this)){if(!(Ee=Zt(this,{type:"update",object:this.proxy||L,name:w,newValue:A})))return;A=Ee.newValue}if((A=K.prepareNewValue(A))!==lt.UNCHANGED){var pe=br(this),Ee=pe?{type:"update",object:this.proxy||L,oldValue:K.value,name:w,newValue:A}:null;K.setNewValue(A),pe&&$n(this,Ee)}}},_.prototype.has=function(w){var A=this.pendingKeys||(this.pendingKeys=new Map),L=A.get(w);if(L)return L.get();var K=!!this.values.get(w);return L=new xn(K,vt,this.name+"."+re(w)+"?",!1),A.set(w,L),L.get()},_.prototype.addObservableProp=function(w,A,L){L===void 0&&(L=this.defaultEnhancer);var K=this.target;if(mr(this)){var pe=Zt(this,{object:this.proxy||K,name:w,type:"add",newValue:A});if(!pe)return;A=pe.newValue}var Ee=new xn(A,L,this.name+"."+re(w),!1);this.values.set(w,Ee),A=Ee.value,Object.defineProperty(K,w,function(Fe){return Fo[Fe]||(Fo[Fe]={configurable:!0,enumerable:!0,get:function(){return this[H].read(Fe)},set:function(ct){this[H].write(Fe,ct)}})}(w)),this.notifyPropertyAddition(w,A)},_.prototype.addComputedProp=function(w,A,L){var K,pe,Ee,Fe=this.target;L.name=L.name||this.name+"."+re(A),this.values.set(A,new io(L)),(w===Fe||(K=w,pe=A,!(Ee=Object.getOwnPropertyDescriptor(K,pe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,A,function(ct){return sa[ct]||(sa[ct]={configurable:lt.computedConfigurable,enumerable:!1,get:function(){return so(this).read(ct)},set:function(Ht){so(this).write(ct,Ht)}})}(A))},_.prototype.remove=function(w){if(this.values.has(w)){var A=this.target;if(mr(this)&&!(ct=Zt(this,{object:this.proxy||A,name:w,type:"remove"})))return;try{vr();var L=br(this),K=!1,pe=this.values.get(w),Ee=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var ct=L?{type:"remove",object:this.proxy||A,oldValue:Ee,name:w}:null;L&&$n(this,ct)}finally{Pr()}}},_.prototype.illegalAccess=function(w,A){},_.prototype.observe=function(w,A){return uo(this,w)},_.prototype.intercept=function(w){return Po(this,w)},_.prototype.notifyPropertyAddition=function(w,A){var L=br(this),K=L?{type:"add",object:this.proxy||this.target,name:w,newValue:A}:null;if(L&&$n(this,K),this.pendingKeys){var pe=this.pendingKeys.get(w);pe&&pe.set(!0)}this.keysAtom.reportChanged()},_.prototype.getKeys=function(){var w,A;this.keysAtom.reportObserved();var L=[];try{for(var K=me(this.values),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Fe=Ee[0];Ee[1]instanceof xn&&L.push(Fe)}}catch(ct){w={error:ct}}finally{try{pe&&!pe.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return L},_}();function Ar(_,w,A){if(w===void 0&&(w=""),A===void 0&&(A=Ze),Object.prototype.hasOwnProperty.call(_,H))return _[H];C(_)||(w=(_.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var L=new lu(_,new Map,re(w),A);return F(_,H,L),L}var Fo=Object.create(null),sa=Object.create(null);function so(_){var w=_[H];return w||(nt(_),_[H])}var Mr=Y("ObservableObjectAdministration",lu);function _r(_){return!!R(_)&&(nt(_),Mr(_[H]))}function Fr(_,w){if(typeof _=="object"&&_!==null){if(Br(_))return w!==void 0&&M(!1),_[H].atom;if(cr(_))return _[H];if(Rn(_)){var A=_;return w===void 0?A._keysAtom:((L=A._data.get(w)||A._hasMap.get(w))||M(!1),L)}var L;if(nt(_),w&&!_[H]&&_[w],_r(_))return w?((L=_[H].values.get(w))||M(!1),L):M(!1);if(G(_)||wo(_)||Ti(_))return _}else if(typeof _=="function"&&Ti(_[H]))return _[H];return M(!1)}function lo(_,w){return _||M("Expecting some object"),w!==void 0?lo(Fr(_,w)):G(_)||wo(_)||Ti(_)||Rn(_)||cr(_)?_:(nt(_),_[H]?_[H]:void M(!1))}var Oe=Object.prototype.toString;function Ne(_,w,A){return A===void 0&&(A=-1),Re(_,w,A)}function Re(_,w,A,L,K){if(_===w)return _!==0||1/_==1/w;if(_==null||w==null)return!1;if(_!=_)return w!=w;var pe=typeof _;if(pe!=="function"&&pe!=="object"&&typeof w!="object")return!1;var Ee=Oe.call(_);if(Ee!==Oe.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+_==""+w;case"[object Number]":return+_!=+_?+w!=+w:+_==0?1/+_==1/w:+_==+w;case"[object Date]":case"[object Boolean]":return+_==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(_)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":A>=0&&A++}_=Qe(_),w=Qe(w);var Fe=Ee==="[object Array]";if(!Fe){if(typeof _!="object"||typeof w!="object")return!1;var ct=_.constructor,Ht=w.constructor;if(ct!==Ht&&!(typeof ct=="function"&&ct instanceof ct&&typeof Ht=="function"&&Ht instanceof Ht)&&"constructor"in _&&"constructor"in w)return!1}if(A===0)return!1;A<0&&(A=-1),K=K||[];for(var et=(L=L||[]).length;et--;)if(L[et]===_)return K[et]===w;if(L.push(_),K.push(w),Fe){if((et=_.length)!==w.length)return!1;for(;et--;)if(!Re(_[et],w[et],A-1,L,K))return!1}else{var hn=Object.keys(_),Bt=void 0;if(et=hn.length,Object.keys(w).length!==et)return!1;for(;et--;)if(!zt(w,Bt=hn[et])||!Re(_[Bt],w[Bt],A-1,L,K))return!1}return L.pop(),K.pop(),!0}function Qe(_){return Br(_)?_.slice():V(_)||Rn(_)||te(_)||cr(_)?Array.from(_.entries()):_}function zt(_,w){return Object.prototype.hasOwnProperty.call(_,w)}function Wt(_){return _[Symbol.iterator]=gn,_}function gn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qa,extras:{getDebugName:function(_,w){return(w!==void 0?Fr(_,w):_r(_)||Rn(_)||cr(_)?lo(_):Fr(_)).name}},$mobx:H})}).call(this,o(163),o(68))},function(s,f,o){var p=o(113),d=o(42),O=o(179);p||d(Object.prototype,"toString",O,{unsafe:!0})},function(s,f,o){var p=o(41),d=o(100),O=o(80),v=o(58),E=o(116),M="Array Iterator",P=v.set,T=v.getterFor(M);s.exports=E(Array,"Array",function(k,R){P(this,{type:M,target:p(k),index:0,kind:R})},function(){var k=T(this),R=k.target,C=k.kind,F=k.index++;return!R||F>=R.length?(k.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:F,done:!1}:C=="values"?{value:R[F],done:!1}:{value:[F,R[F]],done:!1}},"values"),O.Arguments=O.Array,d("keys"),d("values"),d("entries")},function(s,f,o){var p=o(16),d=o(7),O=o(46),v=o(76),E=o(34),M=o(15),P=o(71),T=o(36),k=o(108),R=o(18),C=o(35),F=o(96),Y=o(30),V=o(33),te=o(54),ie=o(87),re=o(32),J=o(40),Z=o(41),H=o(86),z=o(39),G=o(69),W=o(60),$=o(77),ae=o(74),xe=o(139),me=o(112),Pe=o(50),Be=o(38),Se=o(84),ye=o(98),je=o(42),Ae=o(89),Ue=o(93),nt=o(72),Ot=o(90),We=o(28),Ze=o(140),vt=o(141),ce=o(78),ue=o(58),he=o(79).forEach,Te=Ue("hidden"),He="Symbol",Le=We("toPrimitive"),wt=ue.set,kt=ue.getterFor(He),St=Object.prototype,yt=d.Symbol,Me=yt&&yt.prototype,st=d.TypeError,fe=d.QObject,at=O("JSON","stringify"),It=Pe.f,on=Be.f,Lt=xe.f,qt=Se.f,dn=M([].push),bn=Ae("symbols"),Dt=Ae("op-symbols"),Nn=Ae("string-to-symbol-registry"),Q=Ae("symbol-to-string-registry"),de=Ae("wks"),oe=!fe||!fe.prototype||!fe.prototype.findChild,be=T&&R(function(){return W(on({},"a",{get:function(){return on(this,"a",{value:7}).a}})).a!=7})?function(ut,mt,Et){var Nt=It(St,mt);Nt&&delete St[mt],on(ut,mt,Et),Nt&&ut!==St&&on(St,mt,Nt)}:on,Ve=function(ut,mt){var Et=bn[ut]=W(Me);return wt(Et,{type:He,tag:ut,description:mt}),T||(Et.description=mt),Et},Ke=function(ut,mt,Et){ut===St&&Ke(Dt,mt,Et),re(ut);var Nt=H(mt);return re(Et),C(bn,Nt)?(Et.enumerable?(C(ut,Te)&&ut[Te][Nt]&&(ut[Te][Nt]=!1),Et=W(Et,{enumerable:G(0,!1)})):(C(ut,Te)||on(ut,Te,G(1,{})),ut[Te][Nt]=!0),be(ut,Nt,Et)):on(ut,Nt,Et)},ft=function(ut,mt){re(ut);var Et=Z(mt),Nt=$(Et).concat(Cn(Et));return he(Nt,function(ln){T&&!E(Gt,Et,ln)||Ke(ut,ln,Et[ln])}),ut},Gt=function(ut){var mt=H(ut),Et=E(qt,this,mt);return!(this===St&&C(bn,mt)&&!C(Dt,mt))&&(!(Et||!C(this,mt)||!C(bn,mt)||C(this,Te)&&this[Te][mt])||Et)},Xn=function(ut,mt){var Et=Z(ut),Nt=H(mt);if(Et!==St||!C(bn,Nt)||C(Dt,Nt)){var ln=It(Et,Nt);return!ln||!C(bn,Nt)||C(Et,Te)&&Et[Te][Nt]||(ln.enumerable=!0),ln}},Jn=function(ut){var mt=Lt(Z(ut)),Et=[];return he(mt,function(Nt){C(bn,Nt)||C(nt,Nt)||dn(Et,Nt)}),Et},Cn=function(ut){var mt=ut===St,Et=Lt(mt?Dt:Z(ut)),Nt=[];return he(Et,function(ln){!C(bn,ln)||mt&&!C(St,ln)||dn(Nt,bn[ln])}),Nt};if(k||(yt=function(){if(te(Me,this))throw st("Symbol is not a constructor");var ut=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,mt=Ot(ut),Et=function(Nt){this===St&&E(Et,Dt,Nt),C(this,Te)&&C(this[Te],mt)&&(this[Te][mt]=!1),be(this,mt,G(1,Nt))};return T&&oe&&be(St,mt,{configurable:!0,set:Et}),Ve(mt,ut)},je(Me=yt.prototype,"toString",function(){return kt(this).tag}),je(yt,"withoutSetter",function(ut){return Ve(Ot(ut),ut)}),Se.f=Gt,Be.f=Ke,Pe.f=Xn,ae.f=xe.f=Jn,me.f=Cn,Ze.f=function(ut){return Ve(We(ut),ut)},T&&(on(Me,"description",{configurable:!0,get:function(){return kt(this).description}}),P||je(St,"propertyIsEnumerable",Gt,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:yt}),he($(de),function(ut){vt(ut)}),p({target:He,stat:!0,forced:!k},{for:function(ut){var mt=z(ut);if(C(Nn,mt))return Nn[mt];var Et=yt(mt);return Nn[mt]=Et,Q[Et]=mt,Et},keyFor:function(ut){if(!ie(ut))throw st(ut+" is not a symbol");if(C(Q,ut))return Q[ut]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),p({target:"Object",stat:!0,forced:!k,sham:!T},{create:function(ut,mt){return mt===void 0?W(ut):ft(W(ut),mt)},defineProperty:Ke,defineProperties:ft,getOwnPropertyDescriptor:Xn}),p({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Jn,getOwnPropertySymbols:Cn}),p({target:"Object",stat:!0,forced:R(function(){me.f(1)})},{getOwnPropertySymbols:function(ut){return me.f(J(ut))}}),at&&p({target:"JSON",stat:!0,forced:!k||R(function(){var ut=yt();return at([ut])!="[null]"||at({a:ut})!="{}"||at(Object(ut))!="{}"})},{stringify:function(ut,mt,Et){var Nt=ye(arguments),ln=mt;if((V(mt)||ut!==void 0)&&!ie(ut))return F(mt)||(mt=function(xn,Oo){if(Y(ln)&&(Oo=E(ln,this,xn,Oo)),!ie(Oo))return Oo}),Nt[1]=mt,v(at,null,Nt)}}),!Me[Le]){var zn=Me.valueOf;je(Me,Le,function(ut){return E(zn,this)})}ce(yt,He),nt[Te]=!0},function(s,f,o){var p=o(7),d=o(152),O=o(153),v=o(3),E=o(57),M=o(28),P=M("iterator"),T=M("toStringTag"),k=v.values,R=function(F,Y){if(F){if(F[P]!==k)try{E(F,P,k)}catch(te){F[P]=k}if(F[T]||E(F,T,Y),d[Y]){for(var V in v)if(F[V]!==v[V])try{E(F,V,v[V])}catch(te){F[V]=v[V]}}}};for(var C in d)R(p[C]&&p[C].prototype,C);R(O,"DOMTokenList")},function(s,f,o){var p=o(151).charAt,d=o(39),O=o(58),v=o(116),E="String Iterator",M=O.set,P=O.getterFor(E);v(String,"String",function(T){M(this,{type:E,string:d(T),index:0})},function(){var T,k=P(this),R=k.string,C=k.index;return C>=R.length?{value:void 0,done:!0}:(T=p(R,C),k.index+=T.length,{value:T,done:!1})})},function(s,f,o){(function(p){var d=function(O){return O&&O.Math==Math&&O};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(s,f,o){var p=o(16),d=o(36),O=o(7),v=o(15),E=o(35),M=o(30),P=o(54),T=o(39),k=o(38).f,R=o(134),C=O.Symbol,F=C&&C.prototype;if(d&&M(C)&&(!("description"in F)||C().description!==void 0)){var Y={},V=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),G=P(F,this)?new C(z):z===void 0?C():C(z);return z===""&&(Y[G]=!0),G};R(V,C),V.prototype=F,F.constructor=V;var te=String(C("test"))=="Symbol(test)",ie=v(F.toString),re=v(F.valueOf),J=/^Symbol\((.*)\)[^)]+$/,Z=v("".replace),H=v("".slice);k(F,"description",{configurable:!0,get:function(){var z=re(this),G=ie(z);if(E(Y,z))return"";var W=te?H(G,7,-1):Z(G,J,"$1");return W===""?void 0:W}}),p({global:!0,forced:!0},{Symbol:V})}},function(s,f,o){o(141)("iterator")},function(s,f,o){o.d(f,"a",function(){return v.a}),o.d(f,"c",function(){return v.e}),o.d(f,"h",function(){return J}),o.d(f,"i",function(){return te}),o.d(f,"j",function(){return Y}),o.d(f,"b",function(){return Pe}),o.d(f,"e",function(){return je}),o.d(f,"f",function(){return Be}),o.d(f,"g",function(){return bn});var p,d,O,v=o(0),E=0,M=[],P=v.i.__b,T=v.i.__r,k=v.i.diffed,R=v.i.__c,C=v.i.unmount;function F(Q,de){v.i.__h&&v.i.__h(d,Q,E||de),E=0;var oe=d.__H||(d.__H={__:[],__h:[]});return Q>=oe.__.length&&oe.__.push({}),oe.__[Q]}function Y(Q){return E=1,V(ae,Q)}function V(Q,de,oe){var be=F(p++,2);return be.t=Q,be.__c||(be.__=[oe?oe(de):ae(void 0,de),function(Ve){var Ke=be.t(be.__[0],Ve);be.__[0]!==Ke&&(be.__=[Ke,be.__[1]],be.__c.setState({}))}],be.__c=d),be.__}function te(Q,de){var oe=F(p++,3);!v.i.__s&&$(oe.__H,de)&&(oe.__=Q,oe.__H=de,d.__H.__h.push(oe))}function ie(Q,de){var oe=F(p++,4);!v.i.__s&&$(oe.__H,de)&&(oe.__=Q,oe.__H=de,d.__h.push(oe))}function re(Q,de){var oe=F(p++,7);return $(oe.__H,de)&&(oe.__=Q(),oe.__H=de,oe.__h=Q),oe.__}function J(Q,de){return E=8,re(function(){return Q},de)}function Z(){var Q;for(M.sort(function(de,oe){return de.__v.__b-oe.__v.__b});Q=M.pop();)if(Q.__P)try{Q.__H.__h.forEach(G),Q.__H.__h.forEach(W),Q.__H.__h=[]}catch(de){Q.__H.__h=[],v.i.__e(de,Q.__v)}}v.i.__b=function(Q){d=null,P&&P(Q)},v.i.__r=function(Q){T&&T(Q),p=0;var de=(d=Q.__c).__H;de&&(de.__h.forEach(G),de.__h.forEach(W),de.__h=[])},v.i.diffed=function(Q){k&&k(Q);var de=Q.__c;de&&de.__H&&de.__H.__h.length&&(M.push(de)!==1&&O===v.i.requestAnimationFrame||((O=v.i.requestAnimationFrame)||z)(Z)),d=null},v.i.__c=function(Q,de){de.some(function(oe){try{oe.__h.forEach(G),oe.__h=oe.__h.filter(function(be){return!be.__||W(be)})}catch(be){de.some(function(Ve){Ve.__h&&(Ve.__h=[])}),de=[],v.i.__e(be,oe.__v)}}),R&&R(Q,de)},v.i.unmount=function(Q){C&&C(Q);var de,oe=Q.__c;oe&&oe.__H&&(oe.__H.__.forEach(function(be){try{G(be)}catch(Ve){de=Ve}}),de&&v.i.__e(de,oe.__v))};var H=typeof requestAnimationFrame=="function";function z(Q){var de,oe=function(){clearTimeout(be),H&&cancelAnimationFrame(de),setTimeout(Q)},be=setTimeout(oe,100);H&&(de=requestAnimationFrame(oe))}function G(Q){var de=d,oe=Q.__c;typeof oe=="function"&&(Q.__c=void 0,oe()),d=de}function W(Q){var de=d;Q.__c=Q.__(),d=de}function $(Q,de){return!Q||Q.length!==de.length||de.some(function(oe,be){return oe!==Q[be]})}function ae(Q,de){return typeof de=="function"?de(Q):de}function xe(Q,de){for(var oe in de)Q[oe]=de[oe];return Q}function me(Q,de){for(var oe in Q)if(oe!=="__source"&&!(oe in de))return!0;for(var be in de)if(be!=="__source"&&Q[be]!==de[be])return!0;return!1}function Pe(Q){this.props=Q}function Be(Q,de){function oe(Ve){var Ke=this.props.ref,ft=Ke==Ve.ref;return!ft&&Ke&&(Ke.call?Ke(null):Ke.current=null),de?!de(this.props,Ve)||!ft:me(this.props,Ve)}function be(Ve){return this.shouldComponentUpdate=oe,Object(v.e)(Q,Ve)}return be.displayName="Memo("+(Q.displayName||Q.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Pe.prototype=new v.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(Q,de){return me(this.props,Q)||me(this.state,de)};var Se=v.i.__b;v.i.__b=function(Q){Q.type&&Q.type.__f&&Q.ref&&(Q.props.ref=Q.ref,Q.ref=null),Se&&Se(Q)};var ye=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function je(Q){function de(oe,be){var Ve=xe({},oe);return delete Ve.ref,Q(Ve,!(be=oe.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return de.$$typeof=ye,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(Q.displayName||Q.name)+")",de}var Ae=function(Q,de){return Q==null?null:Object(v.k)(Object(v.k)(Q).map(de))},Ue={map:Ae,forEach:Ae,count:function(Q){return Q?Object(v.k)(Q).length:0},only:function(Q){var de=Object(v.k)(Q);if(de.length!==1)throw"Children.only";return de[0]},toArray:v.k},nt=v.i.__e;v.i.__e=function(Q,de,oe){if(Q.then){for(var be,Ve=de;Ve=Ve.__;)if((be=Ve.__c)&&be.__c)return de.__e==null&&(de.__e=oe.__e,de.__k=oe.__k),be.__c(Q,de)}nt(Q,de,oe)};var Ot=v.i.unmount;function We(Q,de,oe){return Q&&(Q.__c&&Q.__c.__H&&(Q.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),Q.__c.__H=null),(Q=xe({},Q)).__c!=null&&(Q.__c.__P===oe&&(Q.__c.__P=de),Q.__c=null),Q.__k=Q.__k&&Q.__k.map(function(be){return We(be,de,oe)})),Q}function Ze(Q,de,oe){return Q&&(Q.__v=null,Q.__k=Q.__k&&Q.__k.map(function(be){return Ze(be,de,oe)}),Q.__c&&Q.__c.__P===de&&(Q.__e&&oe.insertBefore(Q.__e,Q.__d),Q.__c.__e=!0,Q.__c.__P=oe)),Q}function vt(){this.__u=0,this.t=null,this.__b=null}function ce(Q){var de=Q.__.__c;return de&&de.__e&&de.__e(Q)}function ue(){this.u=null,this.o=null}v.i.unmount=function(Q){var de=Q.__c;de&&de.__R&&de.__R(),de&&Q.__h===!0&&(Q.type=null),Ot&&Ot(Q)},(vt.prototype=new v.a).__c=function(Q,de){var oe=de.__c,be=this;be.t==null&&(be.t=[]),be.t.push(oe);var Ve=ce(be.__v),Ke=!1,ft=function(){Ke||(Ke=!0,oe.__R=null,Ve?Ve(Gt):Gt())};oe.__R=ft;var Gt=function(){if(!--be.__u){if(be.state.__e){var Jn=be.state.__e;be.__v.__k[0]=Ze(Jn,Jn.__c.__P,Jn.__c.__O)}var Cn;for(be.setState({__e:be.__b=null});Cn=be.t.pop();)Cn.forceUpdate()}},Xn=de.__h===!0;be.__u++||Xn||be.setState({__e:be.__b=be.__v.__k[0]}),Q.then(ft,ft)},vt.prototype.componentWillUnmount=function(){this.t=[]},vt.prototype.render=function(Q,de){if(this.__b){if(this.__v.__k){var oe=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=We(this.__b,oe,be.__O=be.__P)}this.__b=null}var Ve=de.__e&&Object(v.e)(v.b,null,Q.fallback);return Ve&&(Ve.__h=null),[Object(v.e)(v.b,null,de.__e?null:Q.children),Ve]};var he=function(Q,de,oe){if(++oe[1]===oe[0]&&Q.o.delete(de),Q.props.revealOrder&&(Q.props.revealOrder[0]!=="t"||!Q.o.size))for(oe=Q.u;oe;){for(;oe.length>3;)oe.pop()();if(oe[1]<oe[0])break;Q.u=oe=oe[2]}};function Te(Q){return this.getChildContext=function(){return Q.context},Q.children}function He(Q){var de=this,oe=Q.i;de.componentWillUnmount=function(){Object(v.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==oe&&de.componentWillUnmount(),Q.__v?(de.l||(de.i=oe,de.l={nodeType:1,parentNode:oe,childNodes:[],appendChild:function(be){this.childNodes.push(be),de.i.appendChild(be)},insertBefore:function(be,Ve){this.childNodes.push(be),de.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),de.i.removeChild(be)}}),Object(v.j)(Object(v.e)(Te,{context:de.context},Q.__v),de.l)):de.l&&de.componentWillUnmount()}(ue.prototype=new v.a).__e=function(Q){var de=this,oe=ce(de.__v),be=de.o.get(Q);return be[0]++,function(Ve){var Ke=function(){de.props.revealOrder?(be.push(Ve),he(de,Q,be)):Ve()};oe?oe(Ke):Ke()}},ue.prototype.render=function(Q){this.u=null,this.o=new Map;var de=Object(v.k)(Q.children);Q.revealOrder&&Q.revealOrder[0]==="b"&&de.reverse();for(var oe=de.length;oe--;)this.o.set(de[oe],this.u=[1,0,this.u]);return Q.children},ue.prototype.componentDidUpdate=ue.prototype.componentDidMount=function(){var Q=this;this.o.forEach(function(de,oe){he(Q,oe,de)})};var Le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,wt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kt=typeof document!="undefined",St=function(Q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Q)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Q){Object.defineProperty(v.a.prototype,Q,{configurable:!0,get:function(){return this["UNSAFE_"+Q]},set:function(de){Object.defineProperty(this,Q,{configurable:!0,writable:!0,value:de})}})});var yt=v.i.event;function Me(){}function st(){return this.cancelBubble}function fe(){return this.defaultPrevented}v.i.event=function(Q){return yt&&(Q=yt(Q)),Q.persist=Me,Q.isPropagationStopped=st,Q.isDefaultPrevented=fe,Q.nativeEvent=Q};var at,It={configurable:!0,get:function(){return this.class}},on=v.i.vnode;v.i.vnode=function(Q){var de=Q.type,oe=Q.props,be=oe;if(typeof de=="string"){var Ve=de.indexOf("-")===-1;for(var Ke in be={},oe){var ft=oe[Ke];kt&&Ke==="children"&&de==="noscript"||Ke==="value"&&"defaultValue"in oe&&ft==null||(Ke==="defaultValue"&&"value"in oe&&oe.value==null?Ke="value":Ke==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+de)&&!St(oe.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():Ve&&wt.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),be[Ke]=ft)}de=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(v.k)(oe.children).forEach(function(Gt){Gt.props.selected=be.value.indexOf(Gt.props.value)!=-1})),de=="select"&&be.defaultValue!=null&&(be.value=Object(v.k)(oe.children).forEach(function(Gt){Gt.props.selected=be.multiple?be.defaultValue.indexOf(Gt.props.value)!=-1:be.defaultValue==Gt.props.value})),Q.props=be,oe.class!=oe.className&&(It.enumerable="className"in oe,oe.className!=null&&(be.class=oe.className),Object.defineProperty(be,"className",It))}Q.$$typeof=Le,on&&on(Q)};var Lt=v.i.__r;v.i.__r=function(Q){Lt&&Lt(Q),at=Q.__c};var qt={ReactCurrentDispatcher:{current:{readContext:function(Q){return at.__n[Q.__c].props.value}}}};function dn(Q){return!!Q&&Q.$$typeof===Le}var bn=function(Q,de){return Q(de)},Dt=v.b,Nn={useState:Y,useReducer:V,useEffect:te,useLayoutEffect:ie,useRef:function(Q){return E=5,re(function(){return{current:Q}},[])},useImperativeHandle:function(Q,de,oe){E=6,ie(function(){typeof Q=="function"?Q(de()):Q&&(Q.current=de())},oe==null?oe:oe.concat(Q))},useMemo:re,useCallback:J,useContext:function(Q){var de=d.context[Q.__c],oe=F(p++,9);return oe.c=Q,de?(oe.__==null&&(oe.__=!0,de.sub(d)),de.props.value):Q.__},useDebugValue:function(Q,de){v.i.useDebugValue&&v.i.useDebugValue(de?de(Q):Q)},version:"17.0.2",Children:Ue,render:function(Q,de,oe){return de.__k==null&&(de.textContent=""),Object(v.j)(Q,de),typeof oe=="function"&&oe(),Q?Q.__c:null},hydrate:function(Q,de,oe){return Object(v.h)(Q,de),typeof oe=="function"&&oe(),Q?Q.__c:null},unmountComponentAtNode:function(Q){return!!Q.__k&&(Object(v.j)(null,Q),!0)},createPortal:function(Q,de){return Object(v.e)(He,{__v:Q,i:de})},createElement:v.e,createContext:v.d,createFactory:function(Q){return v.e.bind(null,Q)},cloneElement:function(Q){return dn(Q)?v.c.apply(null,arguments):Q},createRef:v.f,Fragment:v.b,isValidElement:dn,findDOMNode:function(Q){return Q&&(Q.base||Q.nodeType===1&&Q)||null},Component:v.a,PureComponent:Pe,memo:Be,forwardRef:je,flushSync:function(Q,de){return Q(de)},unstable_batchedUpdates:bn,StrictMode:Dt,Suspense:vt,SuspenseList:ue,lazy:function(Q){var de,oe,be;function Ve(Ke){if(de||(de=Q()).then(function(ft){oe=ft.default||ft},function(ft){be=ft}),be)throw be;if(!oe)throw de;return Object(v.e)(oe,Ke)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:qt};f.d=Nn},function(s,f,o){var p=o(7),d=o(152),O=o(153),v=o(187),E=o(57),M=function(T){if(T&&T.forEach!==v)try{E(T,"forEach",v)}catch(k){T.forEach=v}};for(var P in d)d[P]&&M(p[P]&&p[P].prototype);M(O)},function(s,f,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(s,f,o){var p=o(16),d=o(18),O=o(40),v=o(101),E=o(143);p({target:"Object",stat:!0,forced:d(function(){v(1)}),sham:!E},{getPrototypeOf:function(M){return v(O(M))}})},function(s,f,o){var p=o(16),d=o(46),O=o(76),v=o(203),E=o(165),M=o(32),P=o(33),T=o(60),k=o(18),R=d("Reflect","construct"),C=Object.prototype,F=[].push,Y=k(function(){function ie(){}return!(R(function(){},[],ie)instanceof ie)}),V=!k(function(){R(function(){})}),te=Y||V;p({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ie,re){E(ie),M(re);var J=arguments.length<3?ie:E(arguments[2]);if(V&&!Y)return R(ie,re,J);if(ie==J){switch(re.length){case 0:return new ie;case 1:return new ie(re[0]);case 2:return new ie(re[0],re[1]);case 3:return new ie(re[0],re[1],re[2]);case 4:return new ie(re[0],re[1],re[2],re[3])}var Z=[null];return O(F,Z,re),new(O(v,ie,Z))}var H=J.prototype,z=T(P(H)?H:C),G=O(ie,z,re);return P(G)?G:z}})},function(s,f){var o=Function.prototype,p=o.bind,d=o.call,O=p&&p.bind(d);s.exports=p?function(v){return v&&O(d,v)}:function(v){return v&&function(){return d.apply(v,arguments)}}},function(s,f,o){var p=o(7),d=o(50).f,O=o(57),v=o(42),E=o(110),M=o(134),P=o(95);s.exports=function(T,k){var R,C,F,Y,V,te=T.target,ie=T.global,re=T.stat;if(R=ie?p:re?p[te]||E(te,{}):(p[te]||{}).prototype)for(C in k){if(Y=k[C],F=T.noTargetGet?(V=d(R,C))&&V.value:R[C],!P(ie?C:te+(re?".":"#")+C,T.forced)&&F!==void 0){if(typeof Y==typeof F)continue;M(Y,F)}(T.sham||F&&F.sham)&&O(Y,"sham",!0),v(R,C,Y,T)}}},function(s,f,o){var p=o(16),d=o(7),O=o(96),v=o(99),E=o(33),M=o(75),P=o(45),T=o(41),k=o(63),R=o(28),C=o(81),F=o(98),Y=C("slice"),V=R("species"),te=d.Array,ie=Math.max;p({target:"Array",proto:!0,forced:!Y},{slice:function(re,J){var Z,H,z,G=T(this),W=P(G),$=M(re,W),ae=M(J===void 0?W:J,W);if(O(G)&&(Z=G.constructor,(v(Z)&&(Z===te||O(Z.prototype))||E(Z)&&(Z=Z[V])===null)&&(Z=void 0),Z===te||Z===void 0))return F(G,$,ae);for(H=new(Z===void 0?te:Z)(ie(ae-$,0)),z=0;$<ae;$++,z++)$ in G&&k(H,z,G[$]);return H.length=z,H}})},function(s,f){s.exports=function(o){try{return!!o()}catch(p){return!0}}},function(s,f,o){var p=o(16),d=o(103);p({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,f,o){var p=o(16),d=o(40),O=o(77);p({target:"Object",stat:!0,forced:o(18)(function(){O(1)})},{keys:function(v){return O(d(v))}})},function(s,f,o){var p=o(36),d=o(73).EXISTS,O=o(15),v=o(38).f,E=Function.prototype,M=O(E.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=O(P.exec);p&&!d&&v(E,"name",{configurable:!0,get:function(){try{return T(P,M(this))[1]}catch(k){return""}}})},function(s,f,o){var p=o(16),d=o(18),O=o(41),v=o(50).f,E=o(36),M=d(function(){v(1)});p({target:"Object",stat:!0,forced:!E||M,sham:!E},{getOwnPropertyDescriptor:function(P,T){return v(O(P),T)}})},function(s,f,o){var p=o(16),d=o(188);p({target:"Array",stat:!0,forced:!o(120)(function(O){Array.from(O)})},{from:d})},function(s,f,o){var p=o(16),d=o(79).filter;p({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(16),d=o(36),O=o(135),v=o(41),E=o(50),M=o(63);p({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(P){for(var T,k,R=v(P),C=E.f,F=O(R),Y={},V=0;F.length>V;)(k=C(R,T=F[V++]))!==void 0&&M(Y,T,k);return Y}})},,function(s,f,o){var p=o(16),d=o(7),O=o(18),v=o(96),E=o(33),M=o(40),P=o(45),T=o(63),k=o(115),R=o(81),C=o(28),F=o(70),Y=C("isConcatSpreadable"),V=9007199254740991,te="Maximum allowed index exceeded",ie=d.TypeError,re=F>=51||!O(function(){var H=[];return H[Y]=!1,H.concat()[0]!==H}),J=R("concat"),Z=function(H){if(!E(H))return!1;var z=H[Y];return z!==void 0?!!z:v(H)};p({target:"Array",proto:!0,forced:!re||!J},{concat:function(H){var z,G,W,$,ae,xe=M(this),me=k(xe,0),Pe=0;for(z=-1,W=arguments.length;z<W;z++)if(Z(ae=z===-1?xe:arguments[z])){if(Pe+($=P(ae))>V)throw ie(te);for(G=0;G<$;G++,Pe++)G in ae&&T(me,Pe,ae[G])}else{if(Pe>=V)throw ie(te);T(me,Pe++,ae)}return me.length=Pe,me}})},function(s,f,o){var p=o(7),d=o(89),O=o(35),v=o(90),E=o(108),M=o(132),P=d("wks"),T=p.Symbol,k=T&&T.for,R=M?T:T&&T.withoutSetter||v;s.exports=function(C){if(!O(P,C)||!E&&typeof P[C]!="string"){var F="Symbol."+C;E&&O(T,C)?P[C]=T[C]:P[C]=M&&k?k(F):R(F)}return P[C]}},function(s,f,o){var p=o(16),d=o(202);p({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,f){s.exports=function(o){return typeof o=="function"}},function(s,f,o){var p=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,O=p.a||d||Function("return this")();f.a=O},function(s,f,o){var p=o(7),d=o(33),O=p.String,v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not an object")}},function(s,f,o){var p=o(30);s.exports=function(d){return typeof d=="object"?d!==null:p(d)}},function(s,f){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,f,o){var p=o(15),d=o(40),O=p({}.hasOwnProperty);s.exports=Object.hasOwn||function(v,E){return O(d(v),E)}},function(s,f,o){var p=o(18);s.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,f,o){var p=o(16),d=o(79).map;p({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(7),d=o(36),O=o(133),v=o(32),E=o(86),M=p.TypeError,P=Object.defineProperty;f.f=d?P:function(T,k,R){if(v(T),k=E(k),v(R),O)try{return P(T,k,R)}catch(C){}if("get"in R||"set"in R)throw M("Accessors not supported");return"value"in R&&(T[k]=R.value),T}},function(s,f,o){var p=o(7),d=o(97),O=p.String;s.exports=function(v){if(d(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O(v)}},function(s,f,o){var p=o(7),d=o(44),O=p.Object;s.exports=function(v){return O(d(v))}},function(s,f,o){var p=o(85),d=o(44);s.exports=function(O){return p(d(O))}},function(s,f,o){var p=o(7),d=o(30),O=o(35),v=o(57),E=o(110),M=o(92),P=o(58),T=o(73).CONFIGURABLE,k=P.get,R=P.enforce,C=String(String).split("String");(s.exports=function(F,Y,V,te){var ie,re=!!te&&!!te.unsafe,J=!!te&&!!te.enumerable,Z=!!te&&!!te.noTargetGet,H=te&&te.name!==void 0?te.name:Y;d(V)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!O(V,"name")||T&&V.name!==H)&&v(V,"name",H),(ie=R(V)).source||(ie.source=C.join(typeof H=="string"?H:""))),F!==p?(re?!Z&&F[Y]&&(J=!0):delete F[Y],J?F[Y]=V:v(F,Y,V)):J?F[Y]=V:E(Y,V)})(Function.prototype,"toString",function(){return d(this)&&k(this).source||M(this)})},function(s,f,o){(function(p){o.d(f,"d",function(){return v}),o.d(f,"c",function(){return E}),o.d(f,"b",function(){return M}),o.d(f,"a",function(){return T});var d=o(10),O=function(k,R){var C=typeof Symbol=="function"&&k[Symbol.iterator];if(!C)return k;var F,Y,V=C.call(k),te=[];try{for(;(R===void 0||R-- >0)&&!(F=V.next()).done;)te.push(F.value)}catch(ie){Y={error:ie}}finally{try{F&&!F.done&&(C=V.return)&&C.call(V)}finally{if(Y)throw Y.error}}return te};function v(){var k=O(Object(d.j)(0),2)[1];return Object(d.h)(function(){k(function(R){return R+1})},[])}function E(k){if(!k||typeof k!="object")return!1;var R=Object.getPrototypeOf(k);return!R||R===Object.prototype}function M(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var P={};function T(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:P}}).call(this,o(68))},function(s,f,o){var p=o(7).TypeError;s.exports=function(d){if(d==null)throw p("Can't call method on "+d);return d}},function(s,f,o){var p=o(94);s.exports=function(d){return p(d.length)}},function(s,f,o){var p=o(7),d=o(30),O=function(v){return d(v)?v:void 0};s.exports=function(v,E){return arguments.length<2?O(p[v]):p[v]&&p[v][E]}},function(s,f,o){var p=o(16),d=o(34),O=o(33),v=o(32),E=o(204),M=o(50),P=o(101);p({target:"Reflect",stat:!0},{get:function T(k,R){var C,F,Y=arguments.length<3?k:arguments[2];return v(k)===Y?k[R]:(C=M.f(k,R))?E(C)?C.value:C.get===void 0?void 0:d(C.get,Y):O(F=P(k))?T(F,R,Y):void 0}})},function(s,f,o){(function(p){var d=o(31),O=o(171),v=y&&!y.nodeType&&y,E=v&&typeof p=="object"&&p&&!p.nodeType&&p,M=E&&E.exports===v?d.a.Buffer:void 0,P=(M?M.isBuffer:void 0)||O.a;f.a=P}).call(this,o(122)(s))},function(s,f,o){(function(p){var d=o(106),O=y&&!y.nodeType&&y,v=O&&typeof p=="object"&&p&&!p.nodeType&&p,E=v&&v.exports===O&&d.a.process,M=function(){try{var P=v&&v.require&&v.require("util").types;return P||E&&E.binding&&E.binding("util")}catch(T){}}();f.a=M}).call(this,o(122)(s))},function(s,f,o){var p=o(36),d=o(34),O=o(84),v=o(69),E=o(41),M=o(86),P=o(35),T=o(133),k=Object.getOwnPropertyDescriptor;f.f=p?k:function(R,C){if(R=E(R),C=M(C),T)try{return k(R,C)}catch(F){}if(P(R,C))return v(!d(O.f,R,C),R[C])}},function(s,f,o){var p=o(15),d=p({}.toString),O=p("".slice);s.exports=function(v){return O(d(v),8,-1)}},function(s,f,o){o(182)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},o(186))},function(s,f,o){var p=o(16),d=o(220).entries;p({target:"Object",stat:!0},{entries:function(O){return d(O)}})},function(s,f,o){var p=o(15);s.exports=p({}.isPrototypeOf)},function(s,f,o){var p=o(46);s.exports=p("navigator","userAgent")||""},function(s,f,o){var p=o(7),d=o(30),O=o(88),v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a function")}},function(s,f,o){var p=o(36),d=o(38),O=o(69);s.exports=p?function(v,E,M){return d.f(v,E,O(1,M))}:function(v,E,M){return v[E]=M,v}},function(s,f,o){var p,d,O,v=o(175),E=o(7),M=o(15),P=o(33),T=o(57),k=o(35),R=o(109),C=o(93),F=o(72),Y="Object already initialized",V=E.TypeError,te=E.WeakMap;if(v||R.state){var ie=R.state||(R.state=new te),re=M(ie.get),J=M(ie.has),Z=M(ie.set);p=function(z,G){if(J(ie,z))throw new V(Y);return G.facade=z,Z(ie,z,G),G},d=function(z){return re(ie,z)||{}},O=function(z){return J(ie,z)}}else{var H=C("state");F[H]=!0,p=function(z,G){if(k(z,H))throw new V(Y);return G.facade=z,T(z,H,G),G},d=function(z){return k(z,H)?z[H]:{}},O=function(z){return k(z,H)}}s.exports={set:p,get:d,has:O,enforce:function(z){return O(z)?d(z):p(z,{})},getterFor:function(z){return function(G){var W;if(!P(G)||(W=d(G)).type!==z)throw V("Incompatible receiver, "+z+" required");return W}}}},function(s,f){var o=Math.ceil,p=Math.floor;s.exports=function(d){var O=+d;return O!=O||O===0?0:(O>0?p:o)(O)}},function(s,f,o){var p,d=o(32),O=o(176),v=o(111),E=o(72),M=o(138),P=o(91),T=o(93),k=T("IE_PROTO"),R=function(){},C=function(V){return"<script>"+V+"<\/script>"},F=function(V){V.write(C("")),V.close();var te=V.parentWindow.Object;return V=null,te},Y=function(){try{p=new ActiveXObject("htmlfile")}catch(re){}var V,te;Y=typeof document!="undefined"?document.domain&&p?F(p):((te=P("iframe")).style.display="none",M.appendChild(te),te.src="javascript:",(V=te.contentWindow.document).open(),V.write(C("document.F=Object")),V.close(),V.F):F(p);for(var ie=v.length;ie--;)delete Y.prototype[v[ie]];return Y()};E[k]=!0,s.exports=Object.create||function(V,te){var ie;return V!==null?(R.prototype=d(V),ie=new R,R.prototype=null,ie[k]=V):ie=Y(),te===void 0?ie:O(ie,te)}},function(s,f,o){var p=o(36),d=o(7),O=o(15),v=o(95),E=o(42),M=o(35),P=o(148),T=o(54),k=o(87),R=o(131),C=o(18),F=o(74).f,Y=o(50).f,V=o(38).f,te=o(160),ie=o(161).trim,re="Number",J=d.Number,Z=J.prototype,H=d.TypeError,z=O("".slice),G=O("".charCodeAt),W=function(Be){var Se=R(Be,"number");return typeof Se=="bigint"?Se:$(Se)},$=function(Be){var Se,ye,je,Ae,Ue,nt,Ot,We,Ze=R(Be,"number");if(k(Ze))throw H("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ie(Ze),(Se=G(Ze,0))===43||Se===45){if((ye=G(Ze,2))===88||ye===120)return NaN}else if(Se===48){switch(G(Ze,1)){case 66:case 98:je=2,Ae=49;break;case 79:case 111:je=8,Ae=55;break;default:return+Ze}for(nt=(Ue=z(Ze,2)).length,Ot=0;Ot<nt;Ot++)if((We=G(Ue,Ot))<48||We>Ae)return NaN;return parseInt(Ue,je)}}return+Ze};if(v(re,!J(" 0o1")||!J("0b1")||J("+0x1"))){for(var ae,xe=function(Be){var Se=arguments.length<1?0:J(W(Be)),ye=this;return T(Z,ye)&&C(function(){te(ye)})?P(Object(Se),ye,xe):Se},me=p?F(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;me.length>Pe;Pe++)M(J,ae=me[Pe])&&!M(xe,ae)&&V(xe,ae,Y(J,ae));xe.prototype=Z,Z.constructor=xe,E(d,re,xe)}},function(s,f,o){var p=o(56);s.exports=function(d,O){var v=d[O];return v==null?void 0:p(v)}},function(s,f,o){var p=o(86),d=o(38),O=o(69);s.exports=function(v,E,M){var P=p(E);P in v?d.f(v,P,O(0,M)):v[P]=M}},function(s,f,o){var p=o(15),d=o(56),O=p(p.bind);s.exports=function(v,E){return d(v),E===void 0?v:O?O(v,E):function(){return v.apply(E,arguments)}}},function(s,f,o){var p=o(16),d=o(15),O=o(85),v=o(41),E=o(121),M=d([].join),P=O!=Object,T=E("join",",");p({target:"Array",proto:!0,forced:P||!T},{join:function(k){return M(v(this),k===void 0?",":k)}})},function(s,f,o){var p=o(15),d=o(73).PROPER,O=o(42),v=o(32),E=o(54),M=o(39),P=o(18),T=o(154),k="toString",R=RegExp.prototype,C=R.toString,F=p(T),Y=P(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),V=d&&C.name!=k;(Y||V)&&O(RegExp.prototype,k,function(){var te=v(this),ie=M(te.source),re=te.flags;return"/"+ie+"/"+M(re===void 0&&E(R,te)&&!("flags"in R)?F(te):re)},{unsafe:!0})},function(s,f,o){var p=o(16),d=o(217),O=o(100);p({target:"Array",proto:!0},{fill:d}),O("fill")},function(s,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(p){typeof window=="object"&&(o=window)}s.exports=o},function(s,f){s.exports=function(o,p){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:p}}},function(s,f,o){var p,d,O=o(7),v=o(55),E=O.process,M=O.Deno,P=E&&E.versions||M&&M.version,T=P&&P.v8;T&&(d=(p=T.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!d&&v&&(!(p=v.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=v.match(/Chrome\/(\d+)/))&&(d=+p[1]),s.exports=d},function(s,f){s.exports=!1},function(s,f){s.exports={}},function(s,f,o){var p=o(36),d=o(35),O=Function.prototype,v=p&&Object.getOwnPropertyDescriptor,E=d(O,"name"),M=E&&function(){}.name==="something",P=E&&(!p||p&&v(O,"name").configurable);s.exports={EXISTS:E,PROPER:M,CONFIGURABLE:P}},function(s,f,o){var p=o(136),d=o(111).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(O){return p(O,d)}},function(s,f,o){var p=o(59),d=Math.max,O=Math.min;s.exports=function(v,E){var M=p(v);return M<0?d(M+E,0):O(M,E)}},function(s,f){var o=Function.prototype,p=o.apply,d=o.bind,O=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(d?O.bind(p):function(){return O.apply(p,arguments)})},function(s,f,o){var p=o(136),d=o(111);s.exports=Object.keys||function(O){return p(O,d)}},function(s,f,o){var p=o(38).f,d=o(35),O=o(28)("toStringTag");s.exports=function(v,E,M){v&&!d(v=M?v:v.prototype,O)&&p(v,O,{configurable:!0,value:E})}},function(s,f,o){var p=o(64),d=o(15),O=o(85),v=o(40),E=o(45),M=o(115),P=d([].push),T=function(k){var R=k==1,C=k==2,F=k==3,Y=k==4,V=k==6,te=k==7,ie=k==5||V;return function(re,J,Z,H){for(var z,G,W=v(re),$=O(W),ae=p(J,Z),xe=E($),me=0,Pe=H||M,Be=R?Pe(re,xe):C||te?Pe(re,0):void 0;xe>me;me++)if((ie||me in $)&&(G=ae(z=$[me],me,W),k))if(R)Be[me]=G;else if(G)switch(k){case 3:return!0;case 5:return z;case 6:return me;case 2:P(Be,z)}else switch(k){case 4:return!1;case 7:P(Be,z)}return V?-1:F||Y?Y:Be}};s.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(s,f){s.exports={}},function(s,f,o){var p=o(18),d=o(28),O=o(70),v=d("species");s.exports=function(E){return O>=51||!p(function(){var M=[];return(M.constructor={})[v]=function(){return{foo:1}},M[E](Boolean).foo!==1})}},function(s,f,o){var p=o(76),d=o(34),O=o(15),v=o(123),E=o(159),M=o(32),P=o(44),T=o(164),k=o(124),R=o(94),C=o(39),F=o(62),Y=o(114),V=o(125),te=o(103),ie=o(155),re=o(18),J=ie.UNSUPPORTED_Y,Z=4294967295,H=Math.min,z=[].push,G=O(/./.exec),W=O(z),$=O("".slice),ae=!re(function(){var xe=/(?:)/,me=xe.exec;xe.exec=function(){return me.apply(this,arguments)};var Pe="ab".split(xe);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});v("split",function(xe,me,Pe){var Be;return Be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Se,ye){var je=C(P(this)),Ae=ye===void 0?Z:ye>>>0;if(Ae===0)return[];if(Se===void 0)return[je];if(!E(Se))return d(me,je,Se,Ae);for(var Ue,nt,Ot,We=[],Ze=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Se.sticky?"y":""),vt=0,ce=new RegExp(Se.source,Ze+"g");(Ue=d(te,ce,je))&&!((nt=ce.lastIndex)>vt&&(W(We,$(je,vt,Ue.index)),Ue.length>1&&Ue.index<je.length&&p(z,We,Y(Ue,1)),Ot=Ue[0].length,vt=nt,We.length>=Ae));)ce.lastIndex===Ue.index&&ce.lastIndex++;return vt===je.length?!Ot&&G(ce,"")||W(We,""):W(We,$(je,vt)),We.length>Ae?Y(We,0,Ae):We}:"0".split(void 0,0).length?function(Se,ye){return Se===void 0&&ye===0?[]:d(me,this,Se,ye)}:me,[function(Se,ye){var je=P(this),Ae=Se==null?void 0:F(Se,xe);return Ae?d(Ae,Se,je,ye):d(Be,C(je),Se,ye)},function(Se,ye){var je=M(this),Ae=C(Se),Ue=Pe(Be,je,Ae,ye,Be!==me);if(Ue.done)return Ue.value;var nt=T(je,RegExp),Ot=je.unicode,We=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(J?"g":"y"),Ze=new nt(J?"^(?:"+je.source+")":je,We),vt=ye===void 0?Z:ye>>>0;if(vt===0)return[];if(Ae.length===0)return V(Ze,Ae)===null?[Ae]:[];for(var ce=0,ue=0,he=[];ue<Ae.length;){Ze.lastIndex=J?0:ue;var Te,He=V(Ze,J?$(Ae,ue):Ae);if(He===null||(Te=H(R(Ze.lastIndex+(J?ue:0)),Ae.length))===ce)ue=k(Ae,ue,Ot);else{if(W(he,$(Ae,ce,ue)),he.length===vt)return he;for(var Le=1;Le<=He.length-1;Le++)if(W(he,He[Le]),he.length===vt)return he;ue=ce=Te}}return W(he,$(Ae,ce)),he}]},!ae,J)},function(s,f,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,f,o){var p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,O=d&&!p.call({1:2},1);f.f=O?function(v){var E=d(this,v);return!!E&&E.enumerable}:p},function(s,f,o){var p=o(7),d=o(15),O=o(18),v=o(51),E=p.Object,M=d("".split);s.exports=O(function(){return!E("z").propertyIsEnumerable(0)})?function(P){return v(P)=="String"?M(P,""):E(P)}:E},function(s,f,o){var p=o(131),d=o(87);s.exports=function(O){var v=p(O,"string");return d(v)?v:v+""}},function(s,f,o){var p=o(7),d=o(46),O=o(30),v=o(54),E=o(132),M=p.Object;s.exports=E?function(P){return typeof P=="symbol"}:function(P){var T=d("Symbol");return O(T)&&v(T.prototype,M(P))}},function(s,f,o){var p=o(7).String;s.exports=function(d){try{return p(d)}catch(O){return"Object"}}},function(s,f,o){var p=o(71),d=o(109);(s.exports=function(O,v){return d[O]||(d[O]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f,o){var p=o(15),d=0,O=Math.random(),v=p(1 .toString);s.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+v(++d+O,36)}},function(s,f,o){var p=o(7),d=o(33),O=p.document,v=d(O)&&d(O.createElement);s.exports=function(E){return v?O.createElement(E):{}}},function(s,f,o){var p=o(15),d=o(30),O=o(109),v=p(Function.toString);d(O.inspectSource)||(O.inspectSource=function(E){return v(E)}),s.exports=O.inspectSource},function(s,f,o){var p=o(89),d=o(90),O=p("keys");s.exports=function(v){return O[v]||(O[v]=d(v))}},function(s,f,o){var p=o(59),d=Math.min;s.exports=function(O){return O>0?d(p(O),9007199254740991):0}},function(s,f,o){var p=o(18),d=o(30),O=/#|\.prototype\./,v=function(k,R){var C=M[E(k)];return C==T||C!=P&&(d(R)?p(R):!!R)},E=v.normalize=function(k){return String(k).replace(O,".").toLowerCase()},M=v.data={},P=v.NATIVE="N",T=v.POLYFILL="P";s.exports=v},function(s,f,o){var p=o(51);s.exports=Array.isArray||function(d){return p(d)=="Array"}},function(s,f,o){var p=o(7),d=o(113),O=o(30),v=o(51),E=o(28)("toStringTag"),M=p.Object,P=v(function(){return arguments}())=="Arguments";s.exports=d?v:function(T){var k,R,C;return T===void 0?"Undefined":T===null?"Null":typeof(R=function(F,Y){try{return F[Y]}catch(V){}}(k=M(T),E))=="string"?R:P?v(k):(C=v(k))=="Object"&&O(k.callee)?"Arguments":C}},function(s,f,o){var p=o(15);s.exports=p([].slice)},function(s,f,o){var p=o(15),d=o(18),O=o(30),v=o(97),E=o(46),M=o(92),P=function(){},T=[],k=E("Reflect","construct"),R=/^\s*(?:class|function)\b/,C=p(R.exec),F=!R.exec(P),Y=function(V){if(!O(V))return!1;try{return k(P,T,V),!0}catch(te){return!1}};s.exports=!k||d(function(){var V;return Y(Y.call)||!Y(Object)||!Y(function(){V=!0})||V})?function(V){if(!O(V))return!1;switch(v(V)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!C(R,M(V))}:Y},function(s,f,o){var p=o(28),d=o(60),O=o(38),v=p("unscopables"),E=Array.prototype;E[v]==null&&O.f(E,v,{configurable:!0,value:d(null)}),s.exports=function(M){E[v][M]=!0}},function(s,f,o){var p=o(7),d=o(35),O=o(30),v=o(40),E=o(93),M=o(143),P=E("IE_PROTO"),T=p.Object,k=T.prototype;s.exports=M?T.getPrototypeOf:function(R){var C=v(R);if(d(C,P))return C[P];var F=C.constructor;return O(F)&&C instanceof F?F.prototype:C instanceof T?k:null}},function(s,f,o){var p=o(15),d=o(32),O=o(181);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,M={};try{(v=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(M,[]),E=M instanceof Array}catch(P){}return function(P,T){return d(P),O(T),E?v(P,T):P.__proto__=T,P}}():void 0)},function(s,f,o){var p,d,O=o(34),v=o(15),E=o(39),M=o(154),P=o(155),T=o(89),k=o(60),R=o(58).get,C=o(190),F=o(191),Y=T("native-string-replace",String.prototype.replace),V=RegExp.prototype.exec,te=V,ie=v("".charAt),re=v("".indexOf),J=v("".replace),Z=v("".slice),H=(d=/b*/g,O(V,p=/a/,"a"),O(V,d,"a"),p.lastIndex!==0||d.lastIndex!==0),z=P.BROKEN_CARET,G=/()??/.exec("")[1]!==void 0;(H||G||z||C||F)&&(te=function(W){var $,ae,xe,me,Pe,Be,Se,ye=this,je=R(ye),Ae=E(W),Ue=je.raw;if(Ue)return Ue.lastIndex=ye.lastIndex,$=O(te,Ue,Ae),ye.lastIndex=Ue.lastIndex,$;var nt=je.groups,Ot=z&&ye.sticky,We=O(M,ye),Ze=ye.source,vt=0,ce=Ae;if(Ot&&(We=J(We,"y",""),re(We,"g")===-1&&(We+="g"),ce=Z(Ae,ye.lastIndex),ye.lastIndex>0&&(!ye.multiline||ye.multiline&&ie(Ae,ye.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",ce=" "+ce,vt++),ae=new RegExp("^(?:"+Ze+")",We)),G&&(ae=new RegExp("^"+Ze+"$(?!\\s)",We)),H&&(xe=ye.lastIndex),me=O(V,Ot?ae:ye,ce),Ot?me?(me.input=Z(me.input,vt),me[0]=Z(me[0],vt),me.index=ye.lastIndex,ye.lastIndex+=me[0].length):ye.lastIndex=0:H&&me&&(ye.lastIndex=ye.global?me.index+me[0].length:xe),G&&me&&me.length>1&&O(Y,me[0],ae,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(me[Pe]=void 0)}),me&&nt)for(me.groups=Be=k(null),Pe=0;Pe<nt.length;Pe++)Be[(Se=nt[Pe])[0]]=me[Se[1]];return me}),s.exports=te},function(s,f,o){var p=o(16),d=o(7),O=o(75),v=o(59),E=o(45),M=o(40),P=o(115),T=o(63),k=o(81)("splice"),R=d.TypeError,C=Math.max,F=Math.min,Y=9007199254740991,V="Maximum allowed length exceeded";p({target:"Array",proto:!0,forced:!k},{splice:function(te,ie){var re,J,Z,H,z,G,W=M(this),$=E(W),ae=O(te,$),xe=arguments.length;if(xe===0?re=J=0:xe===1?(re=0,J=$-ae):(re=xe-2,J=F(C(v(ie),0),$-ae)),$+re-J>Y)throw R(V);for(Z=P(W,J),H=0;H<J;H++)(z=ae+H)in W&&T(Z,H,W[z]);if(Z.length=J,re<J){for(H=ae;H<$-J;H++)G=H+re,(z=H+J)in W?W[G]=W[z]:delete W[G];for(H=$;H>$-J+re;H--)delete W[H-1]}else if(re>J)for(H=$-J;H>ae;H--)G=H+re-1,(z=H+J-1)in W?W[G]=W[z]:delete W[G];for(H=0;H<re;H++)W[H+ae]=arguments[H+2];return W.length=$-J+re,Z}})},function(s,f,o){var p=o(16),d=o(205);p({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(O){return d(this,"a","name",O)}})},function(s,f,o){(function(p){var d=typeof p=="object"&&p&&p.Object===Object&&p;f.a=d}).call(this,o(68))},function(s,f,o){(function(p){var d=o(31),O=y&&!y.nodeType&&y,v=O&&typeof p=="object"&&p&&!p.nodeType&&p,E=v&&v.exports===O?d.a.Buffer:void 0,M=E?E.allocUnsafe:void 0;f.a=function(P,T){if(T)return P.slice();var k=P.length,R=M?M(k):new P.constructor(k);return P.copy(R),R}}).call(this,o(122)(s))},function(s,f,o){var p=o(70),d=o(18);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var O=Symbol();return!String(O)||!(Object(O)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(s,f,o){var p=o(7),d=o(110),O="__core-js_shared__",v=p[O]||d(O,{});s.exports=v},function(s,f,o){var p=o(7),d=Object.defineProperty;s.exports=function(O,v){try{d(p,O,{value:v,configurable:!0,writable:!0})}catch(E){p[O]=v}return v}},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,o){var p={};p[o(28)("toStringTag")]="z",s.exports=String(p)==="[object z]"},function(s,f,o){var p=o(7),d=o(75),O=o(45),v=o(63),E=p.Array,M=Math.max;s.exports=function(P,T,k){for(var R=O(P),C=d(T,R),F=d(k===void 0?R:k,R),Y=E(M(F-C,0)),V=0;C<F;C++,V++)v(Y,V,P[C]);return Y.length=V,Y}},function(s,f,o){var p=o(178);s.exports=function(d,O){return new(p(d))(O===0?0:O)}},function(s,f,o){var p=o(16),d=o(34),O=o(71),v=o(73),E=o(30),M=o(180),P=o(101),T=o(102),k=o(78),R=o(57),C=o(42),F=o(28),Y=o(80),V=o(142),te=v.PROPER,ie=v.CONFIGURABLE,re=V.IteratorPrototype,J=V.BUGGY_SAFARI_ITERATORS,Z=F("iterator"),H="keys",z="values",G="entries",W=function(){return this};s.exports=function($,ae,xe,me,Pe,Be,Se){M(xe,ae,me);var ye,je,Ae,Ue=function(ue){if(ue===Pe&&vt)return vt;if(!J&&ue in We)return We[ue];switch(ue){case H:case z:case G:return function(){return new xe(this,ue)}}return function(){return new xe(this)}},nt=ae+" Iterator",Ot=!1,We=$.prototype,Ze=We[Z]||We["@@iterator"]||Pe&&We[Pe],vt=!J&&Ze||Ue(Pe),ce=ae=="Array"&&We.entries||Ze;if(ce&&(ye=P(ce.call(new $)))!==Object.prototype&&ye.next&&(O||P(ye)===re||(T?T(ye,re):E(ye[Z])||C(ye,Z,W)),k(ye,nt,!0,!0),O&&(Y[nt]=W)),te&&Pe==z&&Ze&&Ze.name!==z&&(!O&&ie?R(We,"name",z):(Ot=!0,vt=function(){return d(Ze,this)})),Pe)if(je={values:Ue(z),keys:Be?vt:Ue(H),entries:Ue(G)},Se)for(Ae in je)(J||Ot||!(Ae in We))&&C(We,Ae,je[Ae]);else p({target:ae,proto:!0,forced:J||Ot},je);return O&&!Se||We[Z]===vt||C(We,Z,vt,{name:Pe}),Y[ae]=vt,je}},function(s,f,o){var p=o(7),d=o(64),O=o(34),v=o(32),E=o(88),M=o(145),P=o(45),T=o(54),k=o(146),R=o(118),C=o(147),F=p.TypeError,Y=function(te,ie){this.stopped=te,this.result=ie},V=Y.prototype;s.exports=function(te,ie,re){var J,Z,H,z,G,W,$,ae=re&&re.that,xe=!(!re||!re.AS_ENTRIES),me=!(!re||!re.IS_ITERATOR),Pe=!(!re||!re.INTERRUPTED),Be=d(ie,ae),Se=function(je){return J&&C(J,"normal",je),new Y(!0,je)},ye=function(je){return xe?(v(je),Pe?Be(je[0],je[1],Se):Be(je[0],je[1])):Pe?Be(je,Se):Be(je)};if(me)J=te;else{if(!(Z=R(te)))throw F(E(te)+" is not iterable");if(M(Z)){for(H=0,z=P(te);z>H;H++)if((G=ye(te[H]))&&T(V,G))return G;return new Y(!1)}J=k(te,Z)}for(W=J.next;!($=O(W,J)).done;){try{G=ye($.value)}catch(je){C(J,"throw",je)}if(typeof G=="object"&&G&&T(V,G))return G}return new Y(!1)}},function(s,f,o){var p=o(97),d=o(62),O=o(80),v=o(28)("iterator");s.exports=function(E){if(E!=null)return d(E,v)||d(E,"@@iterator")||O[p(E)]}},function(s,f,o){var p=o(7),d=o(54),O=p.TypeError;s.exports=function(v,E){if(d(E,v))return v;throw O("Incorrect invocation")}},function(s,f,o){var p=o(28)("iterator"),d=!1;try{var O=0,v={next:function(){return{done:!!O++}},return:function(){d=!0}};v[p]=function(){return this},Array.from(v,function(){throw 2})}catch(E){}s.exports=function(E,M){if(!M&&!d)return!1;var P=!1;try{var T={};T[p]=function(){return{next:function(){return{done:P=!0}}}},E(T)}catch(k){}return P}},function(s,f,o){var p=o(18);s.exports=function(d,O){var v=[][d];return!!v&&p(function(){v.call(null,O||function(){throw 1},1)})}},function(s,f){s.exports=function(o){if(!o.webpackPolyfill){var p=Object.create(o);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(s,f,o){o(19);var p=o(15),d=o(42),O=o(103),v=o(18),E=o(28),M=o(57),P=E("species"),T=RegExp.prototype;s.exports=function(k,R,C,F){var Y=E(k),V=!v(function(){var J={};return J[Y]=function(){return 7},""[k](J)!=7}),te=V&&!v(function(){var J=!1,Z=/a/;return k==="split"&&((Z={}).constructor={},Z.constructor[P]=function(){return Z},Z.flags="",Z[Y]=/./[Y]),Z.exec=function(){return J=!0,null},Z[Y](""),!J});if(!V||!te||C){var ie=p(/./[Y]),re=R(Y,""[k],function(J,Z,H,z,G){var W=p(J),$=Z.exec;return $===O||$===T.exec?V&&!G?{done:!0,value:ie(Z,H,z)}:{done:!0,value:W(H,Z,z)}:{done:!1}});d(String.prototype,k,re[0]),d(T,Y,re[1])}F&&M(T[Y],"sham",!0)}},function(s,f,o){var p=o(151).charAt;s.exports=function(d,O,v){return O+(v?p(d,O).length:1)}},function(s,f,o){var p=o(7),d=o(34),O=o(32),v=o(30),E=o(51),M=o(103),P=p.TypeError;s.exports=function(T,k){var R=T.exec;if(v(R)){var C=d(R,T,k);return C!==null&&O(C),C}if(E(T)==="RegExp")return d(M,T,k);throw P("RegExp#exec called on incompatible receiver")}},function(s,f,o){var p=o(76),d=o(34),O=o(15),v=o(123),E=o(18),M=o(32),P=o(30),T=o(59),k=o(94),R=o(39),C=o(44),F=o(124),Y=o(62),V=o(201),te=o(125),ie=o(28)("replace"),re=Math.max,J=Math.min,Z=O([].concat),H=O([].push),z=O("".indexOf),G=O("".slice),W="a".replace(/./,"$0")==="$0",$=!!/./[ie]&&/./[ie]("a","$0")==="";v("replace",function(ae,xe,me){var Pe=$?"$":"$0";return[function(Be,Se){var ye=C(this),je=Be==null?void 0:Y(Be,ie);return je?d(je,Be,ye,Se):d(xe,R(ye),Be,Se)},function(Be,Se){var ye=M(this),je=R(Be);if(typeof Se=="string"&&z(Se,Pe)===-1&&z(Se,"$<")===-1){var Ae=me(xe,ye,je,Se);if(Ae.done)return Ae.value}var Ue=P(Se);Ue||(Se=R(Se));var nt=ye.global;if(nt){var Ot=ye.unicode;ye.lastIndex=0}for(var We=[];;){var Ze=te(ye,je);if(Ze===null||(H(We,Ze),!nt))break;R(Ze[0])===""&&(ye.lastIndex=F(je,k(ye.lastIndex),Ot))}for(var vt,ce="",ue=0,he=0;he<We.length;he++){for(var Te=R((Ze=We[he])[0]),He=re(J(T(Ze.index),je.length),0),Le=[],wt=1;wt<Ze.length;wt++)H(Le,(vt=Ze[wt])===void 0?vt:String(vt));var kt=Ze.groups;if(Ue){var St=Z([Te],Le,He,je);kt!==void 0&&H(St,kt);var yt=R(p(Se,void 0,St))}else yt=V(Te,je,He,Le,kt,Se);He>=ue&&(ce+=G(je,ue,He)+yt,ue=He+Te.length)}return ce+G(je,ue)}]},!!E(function(){var ae=/./;return ae.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"".replace(ae,"$<a>")!=="7"})||!W||$)},function(s,f,o){var p=o(16),d=Math.hypot,O=Math.abs,v=Math.sqrt;p({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,M){for(var P,T,k=0,R=0,C=arguments.length,F=0;R<C;)F<(P=O(arguments[R++]))?(k=k*(T=F/P)*T+1,F=P):k+=P>0?(T=P/F)*T:P;return F===1/0?1/0:F*v(k)}})},function(s,f,o){var p=o(51),d=o(7);s.exports=p(d.process)=="process"},function(s,f,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,f,o){(function(p,d){var O;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,E="Expected a function",M="__lodash_hash_undefined__",P="__lodash_placeholder__",T=16,k=32,R=64,C=128,F=256,Y=1/0,V=9007199254740991,te=NaN,ie=4294967295,re=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",T],["flip",512],["partial",k],["partialRight",R],["rearg",F]],J="[object Arguments]",Z="[object Array]",H="[object Boolean]",z="[object Date]",G="[object Error]",W="[object Function]",$="[object GeneratorFunction]",ae="[object Map]",xe="[object Number]",me="[object Object]",Pe="[object Promise]",Be="[object RegExp]",Se="[object Set]",ye="[object String]",je="[object Symbol]",Ae="[object WeakMap]",Ue="[object ArrayBuffer]",nt="[object DataView]",Ot="[object Float32Array]",We="[object Float64Array]",Ze="[object Int8Array]",vt="[object Int16Array]",ce="[object Int32Array]",ue="[object Uint8Array]",he="[object Uint8ClampedArray]",Te="[object Uint16Array]",He="[object Uint32Array]",Le=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,Me=RegExp(St.source),st=RegExp(yt.source),fe=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dn=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(dn.source),Dt=/^\s+/,Nn=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gt=/\w*$/,Xn=/^[-+]0x[0-9a-f]+$/i,Jn=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,zn=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,ln="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xn="\\u2700-\\u27bf",Oo="a-z\\xdf-\\xf6\\xf8-\\xff",io="A-Z\\xc0-\\xd6\\xd8-\\xde",wo="\\ufe0e\\ufe0f",ui="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Os="['’]",Ya="[\\ud800-\\udfff]",Ir="["+ui+"]",ki="["+ln+"]",lt="\\d+",ws="[\\u2700-\\u27bf]",Wa="["+Oo+"]",Va="[^\\ud800-\\udfff"+ui+lt+xn+Oo+io+"]",vr="\\ud83c[\\udffb-\\udfff]",Pr="[^\\ud800-\\udfff]",ta="(?:\\ud83c[\\udde6-\\uddff]){2}",$r="[\\ud800-\\udbff][\\udc00-\\udfff]",Lr="["+io+"]",qr="(?:"+Wa+"|"+Va+")",Ka="(?:"+Lr+"|"+Va+")",$a="(?:['’](?:d|ll|m|re|s|t|ve))?",qu="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ti="(?:"+ki+"|"+vr+")?",Zu="[\\ufe0e\\ufe0f]?",qa=Zu+Ti+("(?:\\u200d(?:"+[Pr,ta,$r].join("|")+")"+Zu+Ti+")*"),xs="(?:"+[ws,ta,$r].join("|")+")"+qa,Bo="(?:"+[Pr+ki+"?",ki,ta,$r,Ya].join("|")+")",Ju=RegExp(Os,"g"),xo=RegExp(ki,"g"),Za=RegExp(vr+"(?="+vr+")|"+Bo+qa,"g"),na=RegExp([Lr+"?"+Wa+"+"+$a+"(?="+[Ir,Lr,"$"].join("|")+")",Ka+"+"+qu+"(?="+[Ir,Lr+qr,"$"].join("|")+")",Lr+"?"+qr+"+"+$a,Lr+"+"+qu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt,xs].join("|"),"g"),Ja=RegExp("[\\u200d\\ud800-\\udfff"+ln+wo+"]"),Qa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Es=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qu=-1,cn={};cn[Ot]=cn[We]=cn[Ze]=cn[vt]=cn[ce]=cn[ue]=cn[he]=cn[Te]=cn[He]=!0,cn[J]=cn[Z]=cn[Ue]=cn[H]=cn[nt]=cn[z]=cn[G]=cn[W]=cn[ae]=cn[xe]=cn[me]=cn[Be]=cn[Se]=cn[ye]=cn[Ae]=!1;var an={};an[J]=an[Z]=an[Ue]=an[nt]=an[H]=an[z]=an[Ot]=an[We]=an[Ze]=an[vt]=an[ce]=an[ae]=an[xe]=an[me]=an[Be]=an[Se]=an[ye]=an[je]=an[ue]=an[he]=an[Te]=an[He]=!0,an[G]=an[W]=an[Ae]=!1;var ec={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ci=parseFloat,Eo=parseInt,eu=typeof p=="object"&&p&&p.Object===Object&&p,tc=typeof self=="object"&&self&&self.Object===Object&&self,An=eu||tc||Function("return this")(),tu=f&&!f.nodeType&&f,Di=tu&&typeof d=="object"&&d&&!d.nodeType&&d,nu=Di&&Di.exports===tu,ra=nu&&eu.process,Qn=function(){try{var Oe=Di&&Di.require&&Di.require("util").types;return Oe||ra&&ra.binding&&ra.binding("util")}catch(Ne){}}(),ru=Qn&&Qn.isArrayBuffer,nc=Qn&&Qn.isDate,ou=Qn&&Qn.isMap,oa=Qn&&Qn.isRegExp,si=Qn&&Qn.isSet,So=Qn&&Qn.isTypedArray;function vn(Oe,Ne,Re){switch(Re.length){case 0:return Oe.call(Ne);case 1:return Oe.call(Ne,Re[0]);case 2:return Oe.call(Ne,Re[0],Re[1]);case 3:return Oe.call(Ne,Re[0],Re[1],Re[2])}return Oe.apply(Ne,Re)}function Ss(Oe,Ne,Re,Qe){for(var zt=-1,Wt=Oe==null?0:Oe.length;++zt<Wt;){var gn=Oe[zt];Ne(Qe,gn,Re(gn),Oe)}return Qe}function gr(Oe,Ne){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe&&Ne(Oe[Re],Re,Oe)!==!1;);return Oe}function js(Oe,Ne){for(var Re=Oe==null?0:Oe.length;Re--&&Ne(Oe[Re],Re,Oe)!==!1;);return Oe}function rc(Oe,Ne){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(!Ne(Oe[Re],Re,Oe))return!1;return!0}function ur(Oe,Ne){for(var Re=-1,Qe=Oe==null?0:Oe.length,zt=0,Wt=[];++Re<Qe;){var gn=Oe[Re];Ne(gn,Re,Oe)&&(Wt[zt++]=gn)}return Wt}function zr(Oe,Ne){return!!(Oe!=null&&Oe.length)&&li(Oe,Ne,0)>-1}function iu(Oe,Ne,Re){for(var Qe=-1,zt=Oe==null?0:Oe.length;++Qe<zt;)if(Re(Ne,Oe[Qe]))return!0;return!1}function en(Oe,Ne){for(var Re=-1,Qe=Oe==null?0:Oe.length,zt=Array(Qe);++Re<Qe;)zt[Re]=Ne(Oe[Re],Re,Oe);return zt}function Hn(Oe,Ne){for(var Re=-1,Qe=Ne.length,zt=Oe.length;++Re<Qe;)Oe[zt+Re]=Ne[Re];return Oe}function ia(Oe,Ne,Re,Qe){var zt=-1,Wt=Oe==null?0:Oe.length;for(Qe&&Wt&&(Re=Oe[++zt]);++zt<Wt;)Re=Ne(Re,Oe[zt],zt,Oe);return Re}function oc(Oe,Ne,Re,Qe){var zt=Oe==null?0:Oe.length;for(Qe&&zt&&(Re=Oe[--zt]);zt--;)Re=Ne(Re,Oe[zt],zt,Oe);return Re}function au(Oe,Ne){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(Ne(Oe[Re],Re,Oe))return!0;return!1}var aa=br("length");function ao(Oe,Ne,Re){var Qe;return Re(Oe,function(zt,Wt,gn){if(Ne(zt,Wt,gn))return Qe=Wt,!1}),Qe}function jo(Oe,Ne,Re,Qe){for(var zt=Oe.length,Wt=Re+(Qe?1:-1);Qe?Wt--:++Wt<zt;)if(Ne(Oe[Wt],Wt,Oe))return Wt;return-1}function li(Oe,Ne,Re){return Ne==Ne?function(Qe,zt,Wt){for(var gn=Wt-1,_=Qe.length;++gn<_;)if(Qe[gn]===zt)return gn;return-1}(Oe,Ne,Re):jo(Oe,Po,Re)}function mr(Oe,Ne,Re,Qe){for(var zt=Re-1,Wt=Oe.length;++zt<Wt;)if(Qe(Oe[zt],Ne))return zt;return-1}function Po(Oe){return Oe!=Oe}function Zt(Oe,Ne){var Re=Oe==null?0:Oe.length;return Re?ua(Oe,Ne)/Re:te}function br(Oe){return function(Ne){return Ne==null?v:Ne[Oe]}}function uo(Oe){return function(Ne){return Oe==null?v:Oe[Ne]}}function $n(Oe,Ne,Re,Qe,zt){return zt(Oe,function(Wt,gn,_){Re=Qe?(Qe=!1,Wt):Ne(Re,Wt,gn,_)}),Re}function ua(Oe,Ne){for(var Re,Qe=-1,zt=Oe.length;++Qe<zt;){var Wt=Ne(Oe[Qe]);Wt!==v&&(Re=Re===v?Wt:Re+Wt)}return Re}function Ni(Oe,Ne){for(var Re=-1,Qe=Array(Oe);++Re<Oe;)Qe[Re]=Ne(Re);return Qe}function uu(Oe){return Oe&&Oe.slice(0,_r(Oe)+1).replace(Dt,"")}function En(Oe){return function(Ne){return Oe(Ne)}}function ca(Oe,Ne){return en(Ne,function(Re){return Oe[Re]})}function Ao(Oe,Ne){return Oe.has(Ne)}function Br(Oe,Ne){for(var Re=-1,Qe=Oe.length;++Re<Qe&&li(Ne,Oe[Re],0)>-1;);return Re}function cu(Oe,Ne){for(var Re=Oe.length;Re--&&li(Ne,Oe[Re],0)>-1;);return Re}function Ps(Oe,Ne){for(var Re=Oe.length,Qe=0;Re--;)Oe[Re]===Ne&&++Qe;return Qe}var su=uo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Rn=uo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ci(Oe){return"\\"+ec[Oe]}function co(Oe){return Ja.test(Oe)}function cr(Oe){var Ne=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe,zt){Re[++Ne]=[zt,Qe]}),Re}function lu(Oe,Ne){return function(Re){return Oe(Ne(Re))}}function Ar(Oe,Ne){for(var Re=-1,Qe=Oe.length,zt=0,Wt=[];++Re<Qe;){var gn=Oe[Re];gn!==Ne&&gn!==P||(Oe[Re]=P,Wt[zt++]=Re)}return Wt}function Fo(Oe){var Ne=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++Ne]=Qe}),Re}function sa(Oe){var Ne=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++Ne]=[Qe,Qe]}),Re}function so(Oe){return co(Oe)?function(Ne){for(var Re=Za.lastIndex=0;Za.test(Ne);)++Re;return Re}(Oe):aa(Oe)}function Mr(Oe){return co(Oe)?function(Ne){return Ne.match(Za)||[]}(Oe):function(Ne){return Ne.split("")}(Oe)}function _r(Oe){for(var Ne=Oe.length;Ne--&&Nn.test(Oe.charAt(Ne)););return Ne}var Fr=uo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),lo=function Oe(Ne){var Re,Qe=(Ne=Ne==null?An:lo.defaults(An.Object(),Ne,lo.pick(An,Es))).Array,zt=Ne.Date,Wt=Ne.Error,gn=Ne.Function,_=Ne.Math,w=Ne.Object,A=Ne.RegExp,L=Ne.String,K=Ne.TypeError,pe=Qe.prototype,Ee=gn.prototype,Fe=w.prototype,ct=Ne["__core-js_shared__"],Ht=Ee.toString,et=Fe.hasOwnProperty,hn=0,Bt=(Re=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",tn=Fe.toString,Ur=Ht.call(w),_n=An._,Or=A("^"+Ht.call(et).replace(dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mo=nu?Ne.Buffer:v,ko=Ne.Symbol,Ri=Ne.Uint8Array,fu=Mo?Mo.allocUnsafe:v,Uo=lu(w.getPrototypeOf,w),la=w.create,sr=Fe.propertyIsEnumerable,Ii=pe.splice,fi=ko?ko.isConcatSpreadable:v,Go=ko?ko.iterator:v,Xo=ko?ko.toStringTag:v,fa=function(){try{var u=Ui(w,"defineProperty");return u({},"",{}),u}catch(l){}}(),Bd=Ne.clearTimeout!==An.clearTimeout&&Ne.clearTimeout,Fd=zt&&zt.now!==An.Date.now&&zt.now,lf=Ne.setTimeout!==An.setTimeout&&Ne.setTimeout,ic=_.ceil,pa=_.floor,As=w.getOwnPropertySymbols,Ud=Mo?Mo.isBuffer:v,ff=Ne.isFinite,Ms=pe.join,pf=lu(w.keys,w),qn=_.max,lr=_.min,ac=zt.now,uc=Ne.parseInt,cc=_.random,Gd=pe.reverse,da=Ui(Ne,"DataView"),ha=Ui(Ne,"Map"),ks=Ui(Ne,"Promise"),Li=Ui(Ne,"Set"),ya=Ui(Ne,"WeakMap"),pu=Ui(w,"create"),sc=ya&&new ya,va={},Xd=vi(da),df=vi(ha),Hd=vi(ks),Yd=vi(Li),hf=vi(ya),lc=ko?ko.prototype:v,or=lc?lc.valueOf:v,yf=lc?lc.toString:v;function B(u){if(kn(u)&&!Ft(u)&&!(u instanceof Qt)){if(u instanceof Zr)return u;if(et.call(u,"__wrapped__"))return sl(u)}return new Zr(u)}var ga=function(){function u(){}return function(l){if(!Pn(l))return{};if(la)return la(l);u.prototype=l;var b=new u;return u.prototype=v,b}}();function du(){}function Zr(u,l){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=v}function Qt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function zi(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function yn(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function To(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function pi(u){var l=-1,b=u==null?0:u.length;for(this.__data__=new To;++l<b;)this.add(u[l])}function Jr(u){var l=this.__data__=new yn(u);this.size=l.size}function Ts(u,l){var b=Ft(u),j=!b&&Gi(u),N=!b&&!j&&wr(u),U=!b&&!j&&!N&&Zo(u),ne=b||j||N||U,le=ne?Ni(u.length,L):[],_e=le.length;for(var Ie in u)!l&&!et.call(u,Ie)||ne&&(Ie=="length"||N&&(Ie=="offset"||Ie=="parent")||U&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Hr(Ie,_e))||le.push(Ie);return le}function Ds(u){var l=u.length;return l?u[Fs(0,l-1)]:v}function vf(u,l){return wu(Tr(u),di(l,0,u.length))}function gf(u){return wu(Tr(u))}function fc(u,l,b){(b!==v&&!yo(u[l],b)||b===v&&!(l in u))&&Do(u,l,b)}function ma(u,l,b){var j=u[l];et.call(u,l)&&yo(j,b)&&(b!==v||l in u)||Do(u,l,b)}function hu(u,l){for(var b=u.length;b--;)if(yo(u[b][0],l))return b;return-1}function mf(u,l,b,j){return On(u,function(N,U,ne){l(j,N,b(N),ne)}),j}function Ns(u,l){return u&&fo(l,Tn(l),u)}function Do(u,l,b){l=="__proto__"&&fa?fa(u,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[l]=b}function pc(u,l){for(var b=-1,j=l.length,N=Qe(j),U=u==null;++b<j;)N[b]=U?v:Ta(u,l[b]);return N}function di(u,l,b){return u==u&&(b!==v&&(u=u<=b?u:b),l!==v&&(u=u>=l?u:l)),u}function Gr(u,l,b,j,N,U){var ne,le=1&l,_e=2&l,Ie=4&l;if(b&&(ne=N?b(u,j,N,U):b(u)),ne!==v)return ne;if(!Pn(u))return u;var De=Ft(u);if(De){if(ne=function(ze){var Xe=ze.length,jt=new ze.constructor(Xe);return Xe&&typeof ze[0]=="string"&&et.call(ze,"index")&&(jt.index=ze.index,jt.input=ze.input),jt}(u),!le)return Tr(u,ne)}else{var Ge=fr(u),rt=Ge==W||Ge==$;if(wr(u))return Df(u,le);if(Ge==me||Ge==J||rt&&!N){if(ne=_e||rt?{}:qo(u),!le)return _e?function(ze,Xe){return fo(ze,Mc(ze),Xe)}(u,function(ze,Xe){return ze&&fo(Xe,hr(Xe),ze)}(ne,u)):function(ze,Xe){return fo(ze,Zn(ze),Xe)}(u,Ns(ne,u))}else{if(!an[Ge])return N?u:{};ne=function(ze,Xe,jt){var it=ze.constructor;switch(Xe){case Ue:return Ks(ze);case H:case z:return new it(+ze);case nt:return function(Rt,$t){var bt=$t?Ks(Rt.buffer):Rt.buffer;return new Rt.constructor(bt,Rt.byteOffset,Rt.byteLength)}(ze,jt);case Ot:case We:case Ze:case vt:case ce:case ue:case he:case Te:case He:return Nf(ze,jt);case ae:return new it;case xe:case ye:return new it(ze);case Be:return function(Rt){var $t=new Rt.constructor(Rt.source,Gt.exec(Rt));return $t.lastIndex=Rt.lastIndex,$t}(ze);case Se:return new it;case je:return se=ze,or?w(or.call(se)):{}}var se}(u,Ge,le)}}U||(U=new Jr);var dt=U.get(u);if(dt)return dt;U.set(u,ne),ip(u)?u.forEach(function(ze){ne.add(Gr(ze,l,b,ze,u,U))}):_l(u)&&u.forEach(function(ze,Xe){ne.set(Xe,Gr(ze,l,b,Xe,u,U))});var xt=De?v:(Ie?_e?Js:Zs:_e?hr:Tn)(u);return gr(xt||u,function(ze,Xe){xt&&(ze=u[Xe=ze]),ma(ne,Xe,Gr(ze,l,b,Xe,u,U))}),ne}function Cs(u,l,b){var j=b.length;if(u==null)return!j;for(u=w(u);j--;){var N=b[j],U=l[N],ne=u[N];if(ne===v&&!(N in u)||!U(ne))return!1}return!0}function Rs(u,l,b){if(typeof u!="function")throw new K(E);return Ea(function(){u.apply(v,b)},l)}function Ho(u,l,b,j){var N=-1,U=zr,ne=!0,le=u.length,_e=[],Ie=l.length;if(!le)return _e;b&&(l=en(l,En(b))),j?(U=iu,ne=!1):l.length>=200&&(U=Ao,ne=!1,l=new pi(l));e:for(;++N<le;){var De=u[N],Ge=b==null?De:b(De);if(De=j||De!==0?De:0,ne&&Ge==Ge){for(var rt=Ie;rt--;)if(l[rt]===Ge)continue e;_e.push(De)}else U(l,Ge,j)||_e.push(De)}return _e}B.templateSettings={escape:fe,evaluate:at,interpolate:It,variable:"",imports:{_:B}},B.prototype=du.prototype,B.prototype.constructor=B,Zr.prototype=ga(du.prototype),Zr.prototype.constructor=Zr,Qt.prototype=ga(du.prototype),Qt.prototype.constructor=Qt,zi.prototype.clear=function(){this.__data__=pu?pu(null):{},this.size=0},zi.prototype.delete=function(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l},zi.prototype.get=function(u){var l=this.__data__;if(pu){var b=l[u];return b===M?v:b}return et.call(l,u)?l[u]:v},zi.prototype.has=function(u){var l=this.__data__;return pu?l[u]!==v:et.call(l,u)},zi.prototype.set=function(u,l){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=pu&&l===v?M:l,this},yn.prototype.clear=function(){this.__data__=[],this.size=0},yn.prototype.delete=function(u){var l=this.__data__,b=hu(l,u);return!(b<0)&&(b==l.length-1?l.pop():Ii.call(l,b,1),--this.size,!0)},yn.prototype.get=function(u){var l=this.__data__,b=hu(l,u);return b<0?v:l[b][1]},yn.prototype.has=function(u){return hu(this.__data__,u)>-1},yn.prototype.set=function(u,l){var b=this.__data__,j=hu(b,u);return j<0?(++this.size,b.push([u,l])):b[j][1]=l,this},To.prototype.clear=function(){this.size=0,this.__data__={hash:new zi,map:new(ha||yn),string:new zi}},To.prototype.delete=function(u){var l=Ac(this,u).delete(u);return this.size-=l?1:0,l},To.prototype.get=function(u){return Ac(this,u).get(u)},To.prototype.has=function(u){return Ac(this,u).has(u)},To.prototype.set=function(u,l){var b=Ac(this,u),j=b.size;return b.set(u,l),this.size+=b.size==j?0:1,this},pi.prototype.add=pi.prototype.push=function(u){return this.__data__.set(u,M),this},pi.prototype.has=function(u){return this.__data__.has(u)},Jr.prototype.clear=function(){this.__data__=new yn,this.size=0},Jr.prototype.delete=function(u){var l=this.__data__,b=l.delete(u);return this.size=l.size,b},Jr.prototype.get=function(u){return this.__data__.get(u)},Jr.prototype.has=function(u){return this.__data__.has(u)},Jr.prototype.set=function(u,l){var b=this.__data__;if(b instanceof yn){var j=b.__data__;if(!ha||j.length<199)return j.push([u,l]),this.size=++b.size,this;b=this.__data__=new To(j)}return b.set(u,l),this.size=b.size,this};var On=If(pt),bf=If(mn,!0);function _f(u,l){var b=!0;return On(u,function(j,N,U){return b=!!l(j,N,U)}),b}function In(u,l,b){for(var j=-1,N=u.length;++j<N;){var U=u[j],ne=l(U);if(ne!=null&&(le===v?ne==ne&&!xr(ne):b(ne,le)))var le=ne,_e=U}return _e}function sn(u,l){var b=[];return On(u,function(j,N,U){l(j,N,U)&&b.push(j)}),b}function er(u,l,b,j,N){var U=-1,ne=u.length;for(b||(b=Qd),N||(N=[]);++U<ne;){var le=u[U];l>0&&b(le)?l>1?er(le,l-1,b,j,N):Hn(N,le):j||(N[N.length]=le)}return N}var Yt=gu(),Bn=gu(!0);function pt(u,l){return u&&Yt(u,l,Tn)}function mn(u,l){return u&&Bn(u,l,Tn)}function dc(u,l){return ur(l,function(b){return to(u[b])})}function Yo(u,l){for(var b=0,j=(l=un(l,u)).length;u!=null&&b<j;)u=u[po(l[b++])];return b&&b==j?u:v}function Is(u,l,b){var j=l(u);return Ft(u)?j:Hn(j,b(u))}function Sn(u){return u==null?u===v?"[object Undefined]":"[object Null]":Xo&&Xo in w(u)?function(l){var b=et.call(l,Xo),j=l[Xo];try{l[Xo]=v;var N=!0}catch(ne){}var U=tn.call(l);return N&&(b?l[Xo]=j:delete l[Xo]),U}(u):function(l){return tn.call(l)}(u)}function Mn(u,l){return u>l}function Of(u,l){return u!=null&&et.call(u,l)}function wf(u,l){return u!=null&&l in w(u)}function hc(u,l,b){for(var j=b?iu:zr,N=u[0].length,U=u.length,ne=U,le=Qe(U),_e=1/0,Ie=[];ne--;){var De=u[ne];ne&&l&&(De=en(De,En(l))),_e=lr(De.length,_e),le[ne]=!b&&(l||N>=120&&De.length>=120)?new pi(ne&&De):v}De=u[0];var Ge=-1,rt=le[0];e:for(;++Ge<N&&Ie.length<_e;){var dt=De[Ge],xt=l?l(dt):dt;if(dt=b||dt!==0?dt:0,!(rt?Ao(rt,xt):j(Ie,xt,b))){for(ne=U;--ne;){var ze=le[ne];if(!(ze?Ao(ze,xt):j(u[ne],xt,b)))continue e}rt&&rt.push(xt),Ie.push(dt)}}return Ie}function ba(u,l,b){var j=(u=ol(u,l=un(l,u)))==null?u:u[po(jn(l))];return j==null?v:vn(j,u,b)}function Ls(u){return kn(u)&&Sn(u)==J}function _a(u,l,b,j,N){return u===l||(u==null||l==null||!kn(u)&&!kn(l)?u!=u&&l!=l:function(U,ne,le,_e,Ie,De){var Ge=Ft(U),rt=Ft(ne),dt=Ge?Z:fr(U),xt=rt?Z:fr(ne),ze=(dt=dt==J?me:dt)==me,Xe=(xt=xt==J?me:xt)==me,jt=dt==xt;if(jt&&wr(U)){if(!wr(ne))return!1;Ge=!0,ze=!1}if(jt&&!ze)return De||(De=new Jr),Ge||Zo(U)?Pc(U,ne,le,_e,Ie,De):function(bt,Mt,Wn,Cr,vo,Vn,Co){switch(Wn){case nt:if(bt.byteLength!=Mt.byteLength||bt.byteOffset!=Mt.byteOffset)return!1;bt=bt.buffer,Mt=Mt.buffer;case Ue:return!(bt.byteLength!=Mt.byteLength||!Vn(new Ri(bt),new Ri(Mt)));case H:case z:case xe:return yo(+bt,+Mt);case G:return bt.name==Mt.name&&bt.message==Mt.message;case Be:case ye:return bt==Mt+"";case ae:var ei=cr;case Se:var Na=1&Cr;if(ei||(ei=Fo),bt.size!=Mt.size&&!Na)return!1;var Lu=Co.get(bt);if(Lu)return Lu==Mt;Cr|=2,Co.set(bt,Mt);var Ro=Pc(ei(bt),ei(Mt),Cr,vo,Vn,Co);return Co.delete(bt),Ro;case je:if(or)return or.call(bt)==or.call(Mt)}return!1}(U,ne,dt,le,_e,Ie,De);if(!(1&le)){var it=ze&&et.call(U,"__wrapped__"),se=Xe&&et.call(ne,"__wrapped__");if(it||se){var Rt=it?U.value():U,$t=se?ne.value():ne;return De||(De=new Jr),Ie(Rt,$t,le,_e,De)}}return jt?(De||(De=new Jr),function(bt,Mt,Wn,Cr,vo,Vn){var Co=1&Wn,ei=Zs(bt),Na=ei.length,Lu=Zs(Mt).length;if(Na!=Lu&&!Co)return!1;for(var Ro=Na;Ro--;){var Oi=ei[Ro];if(!(Co?Oi in Mt:et.call(Mt,Oi)))return!1}var Bl=Vn.get(bt),Ca=Vn.get(Mt);if(Bl&&Ca)return Bl==Mt&&Ca==bt;var zu=!0;Vn.set(bt,Mt),Vn.set(Mt,bt);for(var Fl=Co;++Ro<Na;){var Bu=bt[Oi=ei[Ro]],Hi=Mt[Oi];if(Cr)var Yi=Co?Cr(Hi,Bu,Oi,Mt,bt,Vn):Cr(Bu,Hi,Oi,bt,Mt,Vn);if(!(Yi===v?Bu===Hi||vo(Bu,Hi,Wn,Cr,Vn):Yi)){zu=!1;break}Fl||(Fl=Oi=="constructor")}if(zu&&!Fl){var ti=bt.constructor,Fu=Mt.constructor;ti==Fu||!("constructor"in bt)||!("constructor"in Mt)||typeof ti=="function"&&ti instanceof ti&&typeof Fu=="function"&&Fu instanceof Fu||(zu=!1)}return Vn.delete(bt),Vn.delete(Mt),zu}(U,ne,le,_e,Ie,De)):!1}(u,l,b,j,_a,N))}function yc(u,l,b,j){var N=b.length,U=N,ne=!j;if(u==null)return!U;for(u=w(u);N--;){var le=b[N];if(ne&&le[2]?le[1]!==u[le[0]]:!(le[0]in u))return!1}for(;++N<U;){var _e=(le=b[N])[0],Ie=u[_e],De=le[1];if(ne&&le[2]){if(Ie===v&&!(_e in u))return!1}else{var Ge=new Jr;if(j)var rt=j(Ie,De,_e,u,l,Ge);if(!(rt===v?_a(De,Ie,3,j,Ge):rt))return!1}}return!0}function Oa(u){return!(!Pn(u)||(l=u,Bt&&Bt in l))&&(to(u)?Or:Cn).test(vi(u));var l}function zs(u){return typeof u=="function"?u:u==null?Er:typeof u=="object"?Ft(u)?Ef(u[0],u[1]):xf(u):$c(u)}function Wo(u){if(!ke(u))return pf(u);var l=[];for(var b in w(u))et.call(u,b)&&b!="constructor"&&l.push(b);return l}function Wd(u){if(!Pn(u))return function(N){var U=[];if(N!=null)for(var ne in w(N))U.push(ne);return U}(u);var l=ke(u),b=[];for(var j in u)(j!="constructor"||!l&&et.call(u,j))&&b.push(j);return b}function Vo(u,l){return u<l}function Qr(u,l){var b=-1,j=Nr(u)?Qe(u.length):[];return On(u,function(N,U,ne){j[++b]=l(N,U,ne)}),j}function xf(u){var l=el(u);return l.length==1&&l[0][2]?nl(l[0][0],l[0][1]):function(b){return b===u||yc(b,u,l)}}function Ef(u,l){return Tc(u)&&tl(l)?nl(po(u),l):function(b){var j=Ta(b,u);return j===v&&j===l?Wc(b,u):_a(l,j,3)}}function vc(u,l,b,j,N){u!==l&&Yt(l,function(U,ne){if(N||(N=new Jr),Pn(U))(function(_e,Ie,De,Ge,rt,dt,xt){var ze=Nc(_e,De),Xe=Nc(Ie,De),jt=xt.get(Xe);if(jt)return void fc(_e,De,jt);var it=dt?dt(ze,Xe,De+"",_e,Ie,xt):v,se=it===v;if(se){var Rt=Ft(Xe),$t=!Rt&&wr(Xe),bt=!Rt&&!$t&&Zo(Xe);it=Xe,Rt||$t||bt?Ft(ze)?it=ze:wn(ze)?it=Tr(ze):$t?(se=!1,it=Df(Xe,!0)):bt?(se=!1,it=Nf(Xe,!0)):it=[]:Ma(Xe)||Gi(Xe)?(it=ze,Gi(ze)?it=xl(ze):Pn(ze)&&!to(ze)||(it=qo(Xe))):se=!1}se&&(xt.set(Xe,it),rt(it,Xe,Ge,dt,xt),xt.delete(Xe)),fc(_e,De,it)})(u,l,ne,b,vc,j,N);else{var le=j?j(Nc(u,ne),U,ne+"",u,l,N):v;le===v&&(le=U),fc(u,ne,le)}},hr)}function Sf(u,l){var b=u.length;if(b)return Hr(l+=l<0?b:0,b)?u[l]:v}function jf(u,l,b){l=l.length?en(l,function(U){return Ft(U)?function(ne){return Yo(ne,U.length===1?U[0]:U)}:U}):[Er];var j=-1;l=en(l,En(At()));var N=Qr(u,function(U,ne,le){var _e=en(l,function(Ie){return Ie(U)});return{criteria:_e,index:++j,value:U}});return function(U,ne){var le=U.length;for(U.sort(ne);le--;)U[le]=U[le].value;return U}(N,function(U,ne){return function(le,_e,Ie){for(var De=-1,Ge=le.criteria,rt=_e.criteria,dt=Ge.length,xt=Ie.length;++De<dt;){var ze=$s(Ge[De],rt[De]);if(ze)return De>=xt?ze:ze*(Ie[De]=="desc"?-1:1)}return le.index-_e.index}(U,ne,b)})}function Pf(u,l,b){for(var j=-1,N=l.length,U={};++j<N;){var ne=l[j],le=Yo(u,ne);b(le,ne)&&yu(U,un(ne,u),le)}return U}function gc(u,l,b,j){var N=j?mr:li,U=-1,ne=l.length,le=u;for(u===l&&(l=Tr(l)),b&&(le=en(u,En(b)));++U<ne;)for(var _e=0,Ie=l[U],De=b?b(Ie):Ie;(_e=N(le,De,_e,j))>-1;)le!==u&&Ii.call(le,_e,1),Ii.call(u,_e,1);return u}function Bs(u,l){for(var b=u?l.length:0,j=b-1;b--;){var N=l[b];if(b==j||N!==U){var U=N;Hr(N)?Ii.call(u,N,1):bc(u,N)}}return u}function Fs(u,l){return u+pa(cc()*(l-u+1))}function mc(u,l){var b="";if(!u||l<1||l>V)return b;do l%2&&(b+=u),(l=pa(l/2))&&(u+=u);while(l);return b}function Vt(u,l){return Cc(rl(u,l,Er),u+"")}function Vd(u){return Ds(_i(u))}function Us(u,l){var b=_i(u);return wu(b,di(l,0,b.length))}function yu(u,l,b,j){if(!Pn(u))return u;for(var N=-1,U=(l=un(l,u)).length,ne=U-1,le=u;le!=null&&++N<U;){var _e=po(l[N]),Ie=b;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return u;if(N!=ne){var De=le[_e];(Ie=j?j(De,_e,le):v)===v&&(Ie=Pn(De)?De:Hr(l[N+1])?[]:{})}ma(le,_e,Ie),le=le[_e]}return u}var Af=sc?function(u,l){return sc.set(u,l),u}:Er,Kd=fa?function(u,l){return fa(u,"toString",{configurable:!0,enumerable:!1,value:ku(l),writable:!0})}:Er;function Mf(u){return wu(_i(u))}function Xr(u,l,b){var j=-1,N=u.length;l<0&&(l=-l>N?0:N+l),(b=b>N?N:b)<0&&(b+=N),N=l>b?0:b-l>>>0,l>>>=0;for(var U=Qe(N);++j<N;)U[j]=u[j+l];return U}function $d(u,l){var b;return On(u,function(j,N,U){return!(b=l(j,N,U))}),!!b}function vu(u,l,b){var j=0,N=u==null?j:u.length;if(typeof l=="number"&&l==l&&N<=2147483647){for(;j<N;){var U=j+N>>>1,ne=u[U];ne!==null&&!xr(ne)&&(b?ne<=l:ne<l)?j=U+1:N=U}return N}return Gs(u,l,Er,b)}function Gs(u,l,b,j){var N=0,U=u==null?0:u.length;if(U===0)return 0;for(var ne=(l=b(l))!=l,le=l===null,_e=xr(l),Ie=l===v;N<U;){var De=pa((N+U)/2),Ge=b(u[De]),rt=Ge!==v,dt=Ge===null,xt=Ge==Ge,ze=xr(Ge);if(ne)var Xe=j||xt;else Xe=Ie?xt&&(j||rt):le?xt&&rt&&(j||!dt):_e?xt&&rt&&!dt&&(j||!ze):!dt&&!ze&&(j?Ge<=l:Ge<l);Xe?N=De+1:U=De}return lr(U,4294967294)}function Xs(u,l){for(var b=-1,j=u.length,N=0,U=[];++b<j;){var ne=u[b],le=l?l(ne):ne;if(!b||!yo(le,_e)){var _e=le;U[N++]=ne===0?0:ne}}return U}function kf(u){return typeof u=="number"?u:xr(u)?te:+u}function kr(u){if(typeof u=="string")return u;if(Ft(u))return en(u,kr)+"";if(xr(u))return yf?yf.call(u):"";var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function hi(u,l,b){var j=-1,N=zr,U=u.length,ne=!0,le=[],_e=le;if(b)ne=!1,N=iu;else if(U>=200){var Ie=l?null:Zd(u);if(Ie)return Fo(Ie);ne=!1,N=Ao,_e=new pi}else _e=l?[]:le;e:for(;++j<U;){var De=u[j],Ge=l?l(De):De;if(De=b||De!==0?De:0,ne&&Ge==Ge){for(var rt=_e.length;rt--;)if(_e[rt]===Ge)continue e;l&&_e.push(Ge),le.push(De)}else N(_e,Ge,b)||(_e!==le&&_e.push(Ge),le.push(De))}return le}function bc(u,l){return(u=ol(u,l=un(l,u)))==null||delete u[po(jn(l))]}function Tf(u,l,b,j){return yu(u,l,b(Yo(u,l)),j)}function _c(u,l,b,j){for(var N=u.length,U=j?N:-1;(j?U--:++U<N)&&l(u[U],U,u););return b?Xr(u,j?0:U,j?U+1:N):Xr(u,j?U+1:0,j?N:U)}function Hs(u,l){var b=u;return b instanceof Qt&&(b=b.value()),ia(l,function(j,N){return N.func.apply(N.thisArg,Hn([j],N.args))},b)}function Ys(u,l,b){var j=u.length;if(j<2)return j?hi(u[0]):[];for(var N=-1,U=Qe(j);++N<j;)for(var ne=u[N],le=-1;++le<j;)le!=N&&(U[N]=Ho(U[N]||ne,u[le],l,b));return hi(er(U,1),l,b)}function Ws(u,l,b){for(var j=-1,N=u.length,U=l.length,ne={};++j<N;){var le=j<U?l[j]:v;b(ne,u[j],le)}return ne}function Oc(u){return wn(u)?u:[]}function Vs(u){return typeof u=="function"?u:Er}function un(u,l){return Ft(u)?u:Tc(u,l)?[u]:cl(nn(u))}var qd=Vt;function fn(u,l,b){var j=u.length;return b=b===v?j:b,!l&&b>=j?u:Xr(u,l,b)}var wc=Bd||function(u){return An.clearTimeout(u)};function Df(u,l){if(l)return u.slice();var b=u.length,j=fu?fu(b):new u.constructor(b);return u.copy(j),j}function Ks(u){var l=new u.constructor(u.byteLength);return new Ri(l).set(new Ri(u)),l}function Nf(u,l){var b=l?Ks(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function $s(u,l){if(u!==l){var b=u!==v,j=u===null,N=u==u,U=xr(u),ne=l!==v,le=l===null,_e=l==l,Ie=xr(l);if(!le&&!Ie&&!U&&u>l||U&&ne&&_e&&!le&&!Ie||j&&ne&&_e||!b&&_e||!N)return 1;if(!j&&!U&&!Ie&&u<l||Ie&&b&&N&&!j&&!U||le&&b&&N||!ne&&N||!_e)return-1}return 0}function Cf(u,l,b,j){for(var N=-1,U=u.length,ne=b.length,le=-1,_e=l.length,Ie=qn(U-ne,0),De=Qe(_e+Ie),Ge=!j;++le<_e;)De[le]=l[le];for(;++N<ne;)(Ge||N<U)&&(De[b[N]]=u[N]);for(;Ie--;)De[le++]=u[N++];return De}function Rf(u,l,b,j){for(var N=-1,U=u.length,ne=-1,le=b.length,_e=-1,Ie=l.length,De=qn(U-le,0),Ge=Qe(De+Ie),rt=!j;++N<De;)Ge[N]=u[N];for(var dt=N;++_e<Ie;)Ge[dt+_e]=l[_e];for(;++ne<le;)(rt||N<U)&&(Ge[dt+b[ne]]=u[N++]);return Ge}function Tr(u,l){var b=-1,j=u.length;for(l||(l=Qe(j));++b<j;)l[b]=u[b];return l}function fo(u,l,b,j){var N=!b;b||(b={});for(var U=-1,ne=l.length;++U<ne;){var le=l[U],_e=j?j(b[le],u[le],le,b,u):v;_e===v&&(_e=u[le]),N?Do(b,le,_e):ma(b,le,_e)}return b}function xc(u,l){return function(b,j){var N=Ft(b)?Ss:mf,U=l?l():{};return N(b,u,At(j,2),U)}}function wa(u){return Vt(function(l,b){var j=-1,N=b.length,U=N>1?b[N-1]:v,ne=N>2?b[2]:v;for(U=u.length>3&&typeof U=="function"?(N--,U):v,ne&&ir(b[0],b[1],ne)&&(U=N<3?v:U,N=1),l=w(l);++j<N;){var le=b[j];le&&u(l,le,j,U)}return l})}function If(u,l){return function(b,j){if(b==null)return b;if(!Nr(b))return u(b,j);for(var N=b.length,U=l?N:-1,ne=w(b);(l?U--:++U<N)&&j(ne[U],U,ne)!==!1;);return b}}function gu(u){return function(l,b,j){for(var N=-1,U=w(l),ne=j(l),le=ne.length;le--;){var _e=ne[u?le:++N];if(b(U[_e],_e,U)===!1)break}return l}}function Lf(u){return function(l){var b=co(l=nn(l))?Mr(l):v,j=b?b[0]:l.charAt(0),N=b?fn(b,1).join(""):l.slice(1);return j[u]()+N}}function Bi(u){return function(l){return ia(Au(Jo(l).replace(Ju,"")),u,"")}}function mu(u){return function(){var l=arguments;switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3]);case 5:return new u(l[0],l[1],l[2],l[3],l[4]);case 6:return new u(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new u(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=ga(u.prototype),j=u.apply(b,l);return Pn(j)?j:b}}function zf(u){return function(l,b,j){var N=w(l);if(!Nr(l)){var U=At(b,3);l=Tn(l),b=function(le){return U(N[le],le,N)}}var ne=u(l,b,j);return ne>-1?N[U?l[ne]:ne]:v}}function yi(u){return $o(function(l){var b=l.length,j=b,N=Zr.prototype.thru;for(u&&l.reverse();j--;){var U=l[j];if(typeof U!="function")throw new K(E);if(N&&!ne&&xa(U)=="wrapper")var ne=new Zr([],!0)}for(j=ne?j:b;++j<b;){var le=xa(U=l[j]),_e=le=="wrapper"?Qs(U):v;ne=_e&&Dc(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?ne[xa(_e[0])].apply(ne,_e[3]):U.length==1&&Dc(U)?ne[le]():ne.thru(U)}return function(){var Ie=arguments,De=Ie[0];if(ne&&Ie.length==1&&Ft(De))return ne.plant(De).value();for(var Ge=0,rt=b?l[Ge].apply(this,Ie):De;++Ge<b;)rt=l[Ge].call(this,rt);return rt}})}function Ec(u,l,b,j,N,U,ne,le,_e,Ie){var De=l&C,Ge=1&l,rt=2&l,dt=24&l,xt=512&l,ze=rt?v:mu(u);return function Xe(){for(var jt=arguments.length,it=Qe(jt),se=jt;se--;)it[se]=arguments[se];if(dt)var Rt=Fi(Xe),$t=Ps(it,Rt);if(j&&(it=Cf(it,j,N,dt)),U&&(it=Rf(it,U,ne,dt)),jt-=$t,dt&&jt<Ie){var bt=Ar(it,Rt);return Ff(u,l,Ec,Xe.placeholder,b,it,bt,le,_e,Ie-jt)}var Mt=Ge?b:this,Wn=rt?Mt[u]:u;return jt=it.length,le?it=Hf(it,le):xt&&jt>1&&it.reverse(),De&&_e<jt&&(it.length=_e),this&&this!==An&&this instanceof Xe&&(Wn=ze||mu(Wn)),Wn.apply(Mt,it)}}function Sc(u,l){return function(b,j){return function(N,U,ne,le){return pt(N,function(_e,Ie,De){U(le,ne(_e),Ie,De)}),le}(b,u,l(j),{})}}function bu(u,l){return function(b,j){var N;if(b===v&&j===v)return l;if(b!==v&&(N=b),j!==v){if(N===v)return j;typeof b=="string"||typeof j=="string"?(b=kr(b),j=kr(j)):(b=kf(b),j=kf(j)),N=u(b,j)}return N}}function _u(u){return $o(function(l){return l=en(l,En(At())),Vt(function(b){var j=this;return u(l,function(N){return vn(N,j,b)})})})}function Ou(u,l){var b=(l=l===v?" ":kr(l)).length;if(b<2)return b?mc(l,u):l;var j=mc(l,ic(u/so(l)));return co(l)?fn(Mr(j),0,u).join(""):j.slice(0,u)}function Bf(u){return function(l,b,j){return j&&typeof j!="number"&&ir(l,b,j)&&(b=j=v),l=No(l),b===v?(b=l,l=0):b=No(b),function(N,U,ne,le){for(var _e=-1,Ie=qn(ic((U-N)/(ne||1)),0),De=Qe(Ie);Ie--;)De[le?Ie:++_e]=N,N+=ne;return De}(l,b,j=j===v?l<b?1:-1:No(j),u)}}function jc(u){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=dr(l),b=dr(b)),u(l,b)}}function Ff(u,l,b,j,N,U,ne,le,_e,Ie){var De=8&l;l|=De?k:R,4&(l&=~(De?R:k))||(l&=-4);var Ge=[u,l,N,De?U:v,De?ne:v,De?v:U,De?v:ne,le,_e,Ie],rt=b.apply(v,Ge);return Dc(u)&&il(rt,Ge),rt.placeholder=j,al(rt,u,l)}function qs(u){var l=_[u];return function(b,j){if(b=dr(b),(j=j==null?0:lr(Ut(j),292))&&ff(b)){var N=(nn(b)+"e").split("e");return+((N=(nn(l(N[0]+"e"+(+N[1]+j)))+"e").split("e"))[0]+"e"+(+N[1]-j))}return l(b)}}var Zd=Li&&1/Fo(new Li([,-0]))[1]==Y?function(u){return new Li(u)}:Du;function Uf(u){return function(l){var b=fr(l);return b==ae?cr(l):b==Se?sa(l):function(j,N){return en(N,function(U){return[U,j[U]]})}(l,u(l))}}function Ko(u,l,b,j,N,U,ne,le){var _e=2&l;if(!_e&&typeof u!="function")throw new K(E);var Ie=j?j.length:0;if(Ie||(l&=-97,j=N=v),ne=ne===v?ne:qn(Ut(ne),0),le=le===v?le:Ut(le),Ie-=N?N.length:0,l&R){var De=j,Ge=N;j=N=v}var rt=_e?v:Qs(u),dt=[u,l,b,j,N,De,Ge,U,ne,le];if(rt&&function(ze,Xe){var jt=ze[1],it=Xe[1],se=jt|it,Rt=se<131,$t=it==C&&jt==8||it==C&&jt==F&&ze[7].length<=Xe[8]||it==384&&Xe[7].length<=Xe[8]&&jt==8;if(!Rt&&!$t)return ze;1&it&&(ze[2]=Xe[2],se|=1&jt?0:4);var bt=Xe[3];if(bt){var Mt=ze[3];ze[3]=Mt?Cf(Mt,bt,Xe[4]):bt,ze[4]=Mt?Ar(ze[3],P):Xe[4]}(bt=Xe[5])&&(Mt=ze[5],ze[5]=Mt?Rf(Mt,bt,Xe[6]):bt,ze[6]=Mt?Ar(ze[5],P):Xe[6]),(bt=Xe[7])&&(ze[7]=bt),it&C&&(ze[8]=ze[8]==null?Xe[8]:lr(ze[8],Xe[8])),ze[9]==null&&(ze[9]=Xe[9]),ze[0]=Xe[0],ze[1]=se}(dt,rt),u=dt[0],l=dt[1],b=dt[2],j=dt[3],N=dt[4],!(le=dt[9]=dt[9]===v?_e?0:u.length:qn(dt[9]-Ie,0))&&24&l&&(l&=-25),l&&l!=1)xt=l==8||l==T?function(ze,Xe,jt){var it=mu(ze);return function se(){for(var Rt=arguments.length,$t=Qe(Rt),bt=Rt,Mt=Fi(se);bt--;)$t[bt]=arguments[bt];var Wn=Rt<3&&$t[0]!==Mt&&$t[Rt-1]!==Mt?[]:Ar($t,Mt);return(Rt-=Wn.length)<jt?Ff(ze,Xe,Ec,se.placeholder,v,$t,Wn,v,v,jt-Rt):vn(this&&this!==An&&this instanceof se?it:ze,this,$t)}}(u,l,le):l!=k&&l!=33||N.length?Ec.apply(v,dt):function(ze,Xe,jt,it){var se=1&Xe,Rt=mu(ze);return function $t(){for(var bt=-1,Mt=arguments.length,Wn=-1,Cr=it.length,vo=Qe(Cr+Mt),Vn=this&&this!==An&&this instanceof $t?Rt:ze;++Wn<Cr;)vo[Wn]=it[Wn];for(;Mt--;)vo[Wn++]=arguments[++bt];return vn(Vn,se?jt:this,vo)}}(u,l,b,j);else var xt=function(ze,Xe,jt){var it=1&Xe,se=mu(ze);return function Rt(){return(this&&this!==An&&this instanceof Rt?se:ze).apply(it?jt:this,arguments)}}(u,l,b);return al((rt?Af:il)(xt,dt),u,l)}function Gf(u,l,b,j){return u===v||yo(u,Fe[b])&&!et.call(j,b)?l:u}function Xf(u,l,b,j,N,U){return Pn(u)&&Pn(l)&&(U.set(l,u),vc(u,l,v,Xf,U),U.delete(l)),u}function Jd(u){return Ma(u)?v:u}function Pc(u,l,b,j,N,U){var ne=1&b,le=u.length,_e=l.length;if(le!=_e&&!(ne&&_e>le))return!1;var Ie=U.get(u),De=U.get(l);if(Ie&&De)return Ie==l&&De==u;var Ge=-1,rt=!0,dt=2&b?new pi:v;for(U.set(u,l),U.set(l,u);++Ge<le;){var xt=u[Ge],ze=l[Ge];if(j)var Xe=ne?j(ze,xt,Ge,l,u,U):j(xt,ze,Ge,u,l,U);if(Xe!==v){if(Xe)continue;rt=!1;break}if(dt){if(!au(l,function(jt,it){if(!Ao(dt,it)&&(xt===jt||N(xt,jt,b,j,U)))return dt.push(it)})){rt=!1;break}}else if(xt!==ze&&!N(xt,ze,b,j,U)){rt=!1;break}}return U.delete(u),U.delete(l),rt}function $o(u){return Cc(rl(u,v,xu),u+"")}function Zs(u){return Is(u,Tn,Zn)}function Js(u){return Is(u,hr,Mc)}var Qs=sc?function(u){return sc.get(u)}:Du;function xa(u){for(var l=u.name+"",b=va[l],j=et.call(va,l)?b.length:0;j--;){var N=b[j],U=N.func;if(U==null||U==u)return N.name}return l}function Fi(u){return(et.call(B,"placeholder")?B:u).placeholder}function At(){var u=B.iteratee||Tu;return u=u===Tu?zs:u,arguments.length?u(arguments[0],arguments[1]):u}function Ac(u,l){var b,j,N=u.__data__;return((j=typeof(b=l))=="string"||j=="number"||j=="symbol"||j=="boolean"?b!=="__proto__":b===null)?N[typeof l=="string"?"string":"hash"]:N.map}function el(u){for(var l=Tn(u),b=l.length;b--;){var j=l[b],N=u[j];l[b]=[j,N,tl(N)]}return l}function Ui(u,l){var b=function(j,N){return j==null?v:j[N]}(u,l);return Oa(b)?b:v}var Zn=As?function(u){return u==null?[]:(u=w(u),ur(As(u),function(l){return sr.call(u,l)}))}:Qo,Mc=As?function(u){for(var l=[];u;)Hn(l,Zn(u)),u=Uo(u);return l}:Qo,fr=Sn;function kc(u,l,b){for(var j=-1,N=(l=un(l,u)).length,U=!1;++j<N;){var ne=po(l[j]);if(!(U=u!=null&&b(u,ne)))break;u=u[ne]}return U||++j!=N?U:!!(N=u==null?0:u.length)&&Hc(N)&&Hr(ne,N)&&(Ft(u)||Gi(u))}function qo(u){return typeof u.constructor!="function"||ke(u)?{}:ga(Uo(u))}function Qd(u){return Ft(u)||Gi(u)||!!(fi&&u&&u[fi])}function Hr(u,l){var b=typeof u;return!!(l=l==null?V:l)&&(b=="number"||b!="symbol"&&ut.test(u))&&u>-1&&u%1==0&&u<l}function ir(u,l,b){if(!Pn(b))return!1;var j=typeof l;return!!(j=="number"?Nr(b)&&Hr(l,b.length):j=="string"&&l in b)&&yo(b[l],u)}function Tc(u,l){if(Ft(u))return!1;var b=typeof u;return!(b!="number"&&b!="symbol"&&b!="boolean"&&u!=null&&!xr(u))||Lt.test(u)||!on.test(u)||l!=null&&u in w(l)}function Dc(u){var l=xa(u),b=B[l];if(typeof b!="function"||!(l in Qt.prototype))return!1;if(u===b)return!0;var j=Qs(b);return!!j&&u===j[0]}(da&&fr(new da(new ArrayBuffer(1)))!=nt||ha&&fr(new ha)!=ae||ks&&fr(ks.resolve())!=Pe||Li&&fr(new Li)!=Se||ya&&fr(new ya)!=Ae)&&(fr=function(u){var l=Sn(u),b=l==me?u.constructor:v,j=b?vi(b):"";if(j)switch(j){case Xd:return nt;case df:return ae;case Hd:return Pe;case Yd:return Se;case hf:return Ae}return l});var eh=ct?to:Nu;function ke(u){var l=u&&u.constructor;return u===(typeof l=="function"&&l.prototype||Fe)}function tl(u){return u==u&&!Pn(u)}function nl(u,l){return function(b){return b!=null&&b[u]===l&&(l!==v||u in w(b))}}function rl(u,l,b){return l=qn(l===v?u.length-1:l,0),function(){for(var j=arguments,N=-1,U=qn(j.length-l,0),ne=Qe(U);++N<U;)ne[N]=j[l+N];N=-1;for(var le=Qe(l+1);++N<l;)le[N]=j[N];return le[l]=b(ne),vn(u,this,le)}}function ol(u,l){return l.length<2?u:Yo(u,Xr(l,0,-1))}function Hf(u,l){for(var b=u.length,j=lr(l.length,b),N=Tr(u);j--;){var U=l[j];u[j]=Hr(U,b)?N[U]:v}return u}function Nc(u,l){if((l!=="constructor"||typeof u[l]!="function")&&l!="__proto__")return u[l]}var il=ul(Af),Ea=lf||function(u,l){return An.setTimeout(u,l)},Cc=ul(Kd);function al(u,l,b){var j=l+"";return Cc(u,function(N,U){var ne=U.length;if(!ne)return N;var le=ne-1;return U[le]=(ne>1?"& ":"")+U[le],U=U.join(ne>2?", ":" "),N.replace(Q,`{
/* [wrapped with `+U+`] */
`)}(j,function(N,U){return gr(re,function(ne){var le="_."+ne[0];U&ne[1]&&!zr(N,le)&&N.push(le)}),N.sort()}(function(N){var U=N.match(de);return U?U[1].split(oe):[]}(j),b)))}function ul(u){var l=0,b=0;return function(){var j=ac(),N=16-(j-b);if(b=j,N>0){if(++l>=800)return arguments[0]}else l=0;return u.apply(v,arguments)}}function wu(u,l){var b=-1,j=u.length,N=j-1;for(l=l===v?j:l;++b<l;){var U=Fs(b,N),ne=u[U];u[U]=u[b],u[b]=ne}return u.length=l,u}var cl=function(u){var l=Pa(u,function(j){return b.size===500&&b.clear(),j}),b=l.cache;return l}(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(qt,function(b,j,N,U){l.push(N?U.replace(Ke,"$1"):j||b)}),l});function po(u){if(typeof u=="string"||xr(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function vi(u){if(u!=null){try{return Ht.call(u)}catch(l){}try{return u+""}catch(l){}}return""}function sl(u){if(u instanceof Qt)return u.clone();var l=new Zr(u.__wrapped__,u.__chain__);return l.__actions__=Tr(u.__actions__),l.__index__=u.__index__,l.__values__=u.__values__,l}var Yf=Vt(function(u,l){return wn(u)?Ho(u,er(l,1,wn,!0)):[]}),Wf=Vt(function(u,l){var b=jn(l);return wn(b)&&(b=v),wn(u)?Ho(u,er(l,1,wn,!0),At(b,2)):[]}),Vf=Vt(function(u,l){var b=jn(l);return wn(b)&&(b=v),wn(u)?Ho(u,er(l,1,wn,!0),v,b):[]});function ll(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Ut(b);return N<0&&(N=qn(j+N,0)),jo(u,At(l,3),N)}function Rc(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j-1;return b!==v&&(N=Ut(b),N=b<0?qn(j+N,0):lr(N,j-1)),jo(u,At(l,3),N,!0)}function xu(u){return u!=null&&u.length?er(u,1):[]}function Kf(u){return u&&u.length?u[0]:v}var ho=Vt(function(u){var l=en(u,Oc);return l.length&&l[0]===u[0]?hc(l):[]}),gi=Vt(function(u){var l=jn(u),b=en(u,Oc);return l===jn(b)?l=v:b.pop(),b.length&&b[0]===u[0]?hc(b,At(l,2)):[]}),th=Vt(function(u){var l=jn(u),b=en(u,Oc);return(l=typeof l=="function"?l:v)&&b.pop(),b.length&&b[0]===u[0]?hc(b,v,l):[]});function jn(u){var l=u==null?0:u.length;return l?u[l-1]:v}var $f=Vt(Ic);function Ic(u,l){return u&&u.length&&l&&l.length?gc(u,l):u}var qf=$o(function(u,l){var b=u==null?0:u.length,j=pc(u,l);return Bs(u,en(l,function(N){return Hr(N,b)?+N:N}).sort($s)),j});function Lc(u){return u==null?u:Gd.call(u)}var Zf=Vt(function(u){return hi(er(u,1,wn,!0))}),Jf=Vt(function(u){var l=jn(u);return wn(l)&&(l=v),hi(er(u,1,wn,!0),At(l,2))}),Qf=Vt(function(u){var l=jn(u);return l=typeof l=="function"?l:v,hi(er(u,1,wn,!0),v,l)});function Eu(u){if(!u||!u.length)return[];var l=0;return u=ur(u,function(b){if(wn(b))return l=qn(b.length,l),!0}),Ni(l,function(b){return en(u,br(b))})}function Sa(u,l){if(!u||!u.length)return[];var b=Eu(u);return l==null?b:en(b,function(j){return vn(l,v,j)})}var pr=Vt(function(u,l){return wn(u)?Ho(u,l):[]}),nh=Vt(function(u){return Ys(ur(u,wn))}),rh=Vt(function(u){var l=jn(u);return wn(l)&&(l=v),Ys(ur(u,wn),At(l,2))}),fl=Vt(function(u){var l=jn(u);return l=typeof l=="function"?l:v,Ys(ur(u,wn),v,l)}),ep=Vt(Eu),Dr=Vt(function(u){var l=u.length,b=l>1?u[l-1]:v;return b=typeof b=="function"?(u.pop(),b):v,Sa(u,b)});function Fn(u){var l=B(u);return l.__chain__=!0,l}function zc(u,l){return l(u)}var eo=$o(function(u){var l=u.length,b=l?u[0]:0,j=this.__wrapped__,N=function(U){return pc(U,u)};return!(l>1||this.__actions__.length)&&j instanceof Qt&&Hr(b)?((j=j.slice(b,+b+(l?1:0))).__actions__.push({func:zc,args:[N],thisArg:v}),new Zr(j,this.__chain__).thru(function(U){return l&&!U.length&&U.push(v),U})):this.thru(N)}),Pt=xc(function(u,l,b){et.call(u,b)?++u[b]:Do(u,b,1)}),pl=zf(ll),dl=zf(Rc);function Bc(u,l){return(Ft(u)?gr:On)(u,At(l,3))}function hl(u,l){return(Ft(u)?js:bf)(u,At(l,3))}var tp=xc(function(u,l,b){et.call(u,b)?u[b].push(l):Do(u,b,[l])}),oh=Vt(function(u,l,b){var j=-1,N=typeof l=="function",U=Nr(u)?Qe(u.length):[];return On(u,function(ne){U[++j]=N?vn(l,ne,b):ba(ne,l,b)}),U}),ih=xc(function(u,l,b){Do(u,b,l)});function ja(u,l){return(Ft(u)?en:Qr)(u,At(l,3))}var ah=xc(function(u,l,b){u[b?0:1].push(l)},function(){return[[],[]]}),yl=Vt(function(u,l){if(u==null)return[];var b=l.length;return b>1&&ir(u,l[0],l[1])?l=[]:b>2&&ir(l[0],l[1],l[2])&&(l=[l[0]]),jf(u,er(l,1),[])}),Fc=Fd||function(){return An.Date.now()};function np(u,l,b){return l=b?v:l,l=u&&l==null?u.length:l,Ko(u,C,v,v,v,v,l)}function vl(u,l){var b;if(typeof l!="function")throw new K(E);return u=Ut(u),function(){return--u>0&&(b=l.apply(this,arguments)),u<=1&&(l=v),b}}var mi=Vt(function(u,l,b){var j=1;if(b.length){var N=Ar(b,Fi(mi));j|=k}return Ko(u,j,l,b,N)}),gl=Vt(function(u,l,b){var j=3;if(b.length){var N=Ar(b,Fi(gl));j|=k}return Ko(l,j,u,b,N)});function Ct(u,l,b){var j,N,U,ne,le,_e,Ie=0,De=!1,Ge=!1,rt=!0;if(typeof u!="function")throw new K(E);function dt(se){var Rt=j,$t=N;return j=N=v,Ie=se,ne=u.apply($t,Rt)}function xt(se){return Ie=se,le=Ea(Xe,l),De?dt(se):ne}function ze(se){var Rt=se-_e;return _e===v||Rt>=l||Rt<0||Ge&&se-Ie>=U}function Xe(){var se=Fc();if(ze(se))return jt(se);le=Ea(Xe,function(Rt){var $t=l-(Rt-_e);return Ge?lr($t,U-(Rt-Ie)):$t}(se))}function jt(se){return le=v,rt&&j?dt(se):(j=N=v,ne)}function it(){var se=Fc(),Rt=ze(se);if(j=arguments,N=this,_e=se,Rt){if(le===v)return xt(_e);if(Ge)return wc(le),le=Ea(Xe,l),dt(_e)}return le===v&&(le=Ea(Xe,l)),ne}return l=dr(l)||0,Pn(b)&&(De=!!b.leading,U=(Ge="maxWait"in b)?qn(dr(b.maxWait)||0,l):U,rt="trailing"in b?!!b.trailing:rt),it.cancel=function(){le!==v&&wc(le),Ie=0,j=_e=N=le=v},it.flush=function(){return le===v?ne:jt(Fc())},it}var rp=Vt(function(u,l){return Rs(u,1,l)}),Uc=Vt(function(u,l,b){return Rs(u,dr(l)||0,b)});function Pa(u,l){if(typeof u!="function"||l!=null&&typeof l!="function")throw new K(E);var b=function(){var j=arguments,N=l?l.apply(this,j):j[0],U=b.cache;if(U.has(N))return U.get(N);var ne=u.apply(this,j);return b.cache=U.set(N,ne)||U,ne};return b.cache=new(Pa.Cache||To),b}function Gc(u){if(typeof u!="function")throw new K(E);return function(){var l=arguments;switch(l.length){case 0:return!u.call(this);case 1:return!u.call(this,l[0]);case 2:return!u.call(this,l[0],l[1]);case 3:return!u.call(this,l[0],l[1],l[2])}return!u.apply(this,l)}}Pa.Cache=To;var op=qd(function(u,l){var b=(l=l.length==1&&Ft(l[0])?en(l[0],En(At())):en(er(l,1),En(At()))).length;return Vt(function(j){for(var N=-1,U=lr(j.length,b);++N<U;)j[N]=l[N].call(this,j[N]);return vn(u,this,j)})}),Xc=Vt(function(u,l){var b=Ar(l,Fi(Xc));return Ko(u,k,v,l,b)}),ml=Vt(function(u,l){var b=Ar(l,Fi(ml));return Ko(u,R,v,l,b)}),uh=$o(function(u,l){return Ko(u,F,v,v,v,l)});function yo(u,l){return u===l||u!=u&&l!=l}var ch=jc(Mn),Su=jc(function(u,l){return u>=l}),Gi=Ls(function(){return arguments}())?Ls:function(u){return kn(u)&&et.call(u,"callee")&&!sr.call(u,"callee")},Ft=Qe.isArray,sh=ru?En(ru):function(u){return kn(u)&&Sn(u)==Ue};function Nr(u){return u!=null&&Hc(u.length)&&!to(u)}function wn(u){return kn(u)&&Nr(u)}var wr=Ud||Nu,bl=nc?En(nc):function(u){return kn(u)&&Sn(u)==z};function tr(u){if(!kn(u))return!1;var l=Sn(u);return l==G||l=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!Ma(u)}function to(u){if(!Pn(u))return!1;var l=Sn(u);return l==W||l==$||l=="[object AsyncFunction]"||l=="[object Proxy]"}function Aa(u){return typeof u=="number"&&u==Ut(u)}function Hc(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=V}function Pn(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}function kn(u){return u!=null&&typeof u=="object"}var _l=ou?En(ou):function(u){return kn(u)&&fr(u)==ae};function Ol(u){return typeof u=="number"||kn(u)&&Sn(u)==xe}function Ma(u){if(!kn(u)||Sn(u)!=me)return!1;var l=Uo(u);if(l===null)return!0;var b=et.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&Ht.call(b)==Ur}var ka=oa?En(oa):function(u){return kn(u)&&Sn(u)==Be},ip=si?En(si):function(u){return kn(u)&&fr(u)==Se};function Yc(u){return typeof u=="string"||!Ft(u)&&kn(u)&&Sn(u)==ye}function xr(u){return typeof u=="symbol"||kn(u)&&Sn(u)==je}var Zo=So?En(So):function(u){return kn(u)&&Hc(u.length)&&!!cn[Sn(u)]},ap=jc(Vo),wl=jc(function(u,l){return u<=l});function up(u){if(!u)return[];if(Nr(u))return Yc(u)?Mr(u):Tr(u);if(Go&&u[Go])return function(b){for(var j,N=[];!(j=b.next()).done;)N.push(j.value);return N}(u[Go]());var l=fr(u);return(l==ae?cr:l==Se?Fo:_i)(u)}function No(u){return u?(u=dr(u))===Y||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function Ut(u){var l=No(u),b=l%1;return l==l?b?l-b:l:0}function cp(u){return u?di(Ut(u),0,ie):0}function dr(u){if(typeof u=="number")return u;if(xr(u))return te;if(Pn(u)){var l=typeof u.valueOf=="function"?u.valueOf():u;u=Pn(l)?l+"":l}if(typeof u!="string")return u===0?u:+u;u=uu(u);var b=Jn.test(u);return b||zn.test(u)?Eo(u.slice(2),b?2:8):Xn.test(u)?te:+u}function xl(u){return fo(u,hr(u))}function nn(u){return u==null?"":kr(u)}var El=wa(function(u,l){if(ke(l)||Nr(l))fo(l,Tn(l),u);else for(var b in l)et.call(l,b)&&ma(u,b,l[b])}),Xi=wa(function(u,l){fo(l,hr(l),u)}),bi=wa(function(u,l,b,j){fo(l,hr(l),u,j)}),ju=wa(function(u,l,b,j){fo(l,Tn(l),u,j)}),sp=$o(pc),lp=Vt(function(u,l){u=w(u);var b=-1,j=l.length,N=j>2?l[2]:v;for(N&&ir(l[0],l[1],N)&&(j=1);++b<j;)for(var U=l[b],ne=hr(U),le=-1,_e=ne.length;++le<_e;){var Ie=ne[le],De=u[Ie];(De===v||yo(De,Fe[Ie])&&!et.call(u,Ie))&&(u[Ie]=U[Ie])}return u}),fp=Vt(function(u){return u.push(v,Xf),vn(jl,v,u)});function Ta(u,l,b){var j=u==null?v:Yo(u,l);return j===v?b:j}function Wc(u,l){return u!=null&&kc(u,l,wf)}var Sl=Sc(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=tn.call(l)),u[l]=b},ku(Er)),pp=Sc(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=tn.call(l)),et.call(u,l)?u[l].push(b):u[l]=[b]},At),dp=Vt(ba);function Tn(u){return Nr(u)?Ts(u):Wo(u)}function hr(u){return Nr(u)?Ts(u,!0):Wd(u)}var hp=wa(function(u,l,b){vc(u,l,b)}),jl=wa(function(u,l,b,j){vc(u,l,b,j)}),Pl=$o(function(u,l){var b={};if(u==null)return b;var j=!1;l=en(l,function(U){return U=un(U,u),j||(j=U.length>1),U}),fo(u,Js(u),b),j&&(b=Gr(b,7,Jd));for(var N=l.length;N--;)bc(b,l[N]);return b}),Al=$o(function(u,l){return u==null?{}:function(b,j){return Pf(b,j,function(N,U){return Wc(b,U)})}(u,l)});function Vc(u,l){if(u==null)return{};var b=en(Js(u),function(j){return[j]});return l=At(l),Pf(u,b,function(j,N){return l(j,N[0])})}var Ml=Uf(Tn),Kc=Uf(hr);function _i(u){return u==null?[]:ca(u,Tn(u))}var kl=Bi(function(u,l,b){return l=l.toLowerCase(),u+(b?Da(l):l)});function Da(u){return Pu(nn(u).toLowerCase())}function Jo(u){return(u=nn(u))&&u.replace(mt,su).replace(xo,"")}var yp=Bi(function(u,l,b){return u+(b?"-":"")+l.toLowerCase()}),vp=Bi(function(u,l,b){return u+(b?" ":"")+l.toLowerCase()}),Tl=Lf("toLowerCase"),Dl=Bi(function(u,l,b){return u+(b?"_":"")+l.toLowerCase()}),lh=Bi(function(u,l,b){return u+(b?" ":"")+Pu(l)}),gp=Bi(function(u,l,b){return u+(b?" ":"")+l.toUpperCase()}),Pu=Lf("toUpperCase");function Au(u,l,b){return u=nn(u),(l=b?v:l)===v?function(j){return Qa.test(j)}(u)?function(j){return j.match(na)||[]}(u):function(j){return j.match(be)||[]}(u):u.match(l)||[]}var Mu=Vt(function(u,l){try{return vn(u,v,l)}catch(b){return tr(b)?b:new Wt(b)}}),Nl=$o(function(u,l){return gr(l,function(b){b=po(b),Do(u,b,mi(u[b],u))}),u});function ku(u){return function(){return u}}var mp=yi(),Cl=yi(!0);function Er(u){return u}function Tu(u){return zs(typeof u=="function"?u:Gr(u,1))}var fh=Vt(function(u,l){return function(b){return ba(b,u,l)}}),Yn=Vt(function(u,l){return function(b){return ba(u,b,l)}});function no(u,l,b){var j=Tn(l),N=dc(l,j);b!=null||Pn(l)&&(N.length||!j.length)||(b=l,l=u,u=this,N=dc(l,Tn(l)));var U=!(Pn(b)&&"chain"in b&&!b.chain),ne=to(u);return gr(N,function(le){var _e=l[le];u[le]=_e,ne&&(u.prototype[le]=function(){var Ie=this.__chain__;if(U||Ie){var De=u(this.__wrapped__),Ge=De.__actions__=Tr(this.__actions__);return Ge.push({func:_e,args:arguments,thisArg:u}),De.__chain__=Ie,De}return _e.apply(u,Hn([this.value()],arguments))})}),u}function Du(){}var Rl=_u(en),ph=_u(rc),Il=_u(au);function $c(u){return Tc(u)?br(po(u)):function(l){return function(b){return Yo(b,l)}}(u)}var Ll=Bf(),dh=Bf(!0);function Qo(){return[]}function Nu(){return!1}var zl=bu(function(u,l){return u+l},0),bp=qs("ceil"),Cu=bu(function(u,l){return u/l},1),Ru=qs("floor"),Iu,_p=bu(function(u,l){return u*l},1),Op=qs("round"),nr=bu(function(u,l){return u-l},0);return B.after=function(u,l){if(typeof l!="function")throw new K(E);return u=Ut(u),function(){if(--u<1)return l.apply(this,arguments)}},B.ary=np,B.assign=El,B.assignIn=Xi,B.assignInWith=bi,B.assignWith=ju,B.at=sp,B.before=vl,B.bind=mi,B.bindAll=Nl,B.bindKey=gl,B.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Ft(u)?u:[u]},B.chain=Fn,B.chunk=function(u,l,b){l=(b?ir(u,l,b):l===v)?1:qn(Ut(l),0);var j=u==null?0:u.length;if(!j||l<1)return[];for(var N=0,U=0,ne=Qe(ic(j/l));N<j;)ne[U++]=Xr(u,N,N+=l);return ne},B.compact=function(u){for(var l=-1,b=u==null?0:u.length,j=0,N=[];++l<b;){var U=u[l];U&&(N[j++]=U)}return N},B.concat=function(){var u=arguments.length;if(!u)return[];for(var l=Qe(u-1),b=arguments[0],j=u;j--;)l[j-1]=arguments[j];return Hn(Ft(b)?Tr(b):[b],er(l,1))},B.cond=function(u){var l=u==null?0:u.length,b=At();return u=l?en(u,function(j){if(typeof j[1]!="function")throw new K(E);return[b(j[0]),j[1]]}):[],Vt(function(j){for(var N=-1;++N<l;){var U=u[N];if(vn(U[0],this,j))return vn(U[1],this,j)}})},B.conforms=function(u){return function(l){var b=Tn(l);return function(j){return Cs(j,l,b)}}(Gr(u,1))},B.constant=ku,B.countBy=Pt,B.create=function(u,l){var b=ga(u);return l==null?b:Ns(b,l)},B.curry=function u(l,b,j){var N=Ko(l,8,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},B.curryRight=function u(l,b,j){var N=Ko(l,T,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},B.debounce=Ct,B.defaults=lp,B.defaultsDeep=fp,B.defer=rp,B.delay=Uc,B.difference=Yf,B.differenceBy=Wf,B.differenceWith=Vf,B.drop=function(u,l,b){var j=u==null?0:u.length;return j?Xr(u,(l=b||l===v?1:Ut(l))<0?0:l,j):[]},B.dropRight=function(u,l,b){var j=u==null?0:u.length;return j?Xr(u,0,(l=j-(l=b||l===v?1:Ut(l)))<0?0:l):[]},B.dropRightWhile=function(u,l){return u&&u.length?_c(u,At(l,3),!0,!0):[]},B.dropWhile=function(u,l){return u&&u.length?_c(u,At(l,3),!0):[]},B.fill=function(u,l,b,j){var N=u==null?0:u.length;return N?(b&&typeof b!="number"&&ir(u,l,b)&&(b=0,j=N),function(U,ne,le,_e){var Ie=U.length;for((le=Ut(le))<0&&(le=-le>Ie?0:Ie+le),(_e=_e===v||_e>Ie?Ie:Ut(_e))<0&&(_e+=Ie),_e=le>_e?0:cp(_e);le<_e;)U[le++]=ne;return U}(u,l,b,j)):[]},B.filter=function(u,l){return(Ft(u)?ur:sn)(u,At(l,3))},B.flatMap=function(u,l){return er(ja(u,l),1)},B.flatMapDeep=function(u,l){return er(ja(u,l),Y)},B.flatMapDepth=function(u,l,b){return b=b===v?1:Ut(b),er(ja(u,l),b)},B.flatten=xu,B.flattenDeep=function(u){return u!=null&&u.length?er(u,Y):[]},B.flattenDepth=function(u,l){return u!=null&&u.length?er(u,l=l===v?1:Ut(l)):[]},B.flip=function(u){return Ko(u,512)},B.flow=mp,B.flowRight=Cl,B.fromPairs=function(u){for(var l=-1,b=u==null?0:u.length,j={};++l<b;){var N=u[l];j[N[0]]=N[1]}return j},B.functions=function(u){return u==null?[]:dc(u,Tn(u))},B.functionsIn=function(u){return u==null?[]:dc(u,hr(u))},B.groupBy=tp,B.initial=function(u){return u!=null&&u.length?Xr(u,0,-1):[]},B.intersection=ho,B.intersectionBy=gi,B.intersectionWith=th,B.invert=Sl,B.invertBy=pp,B.invokeMap=oh,B.iteratee=Tu,B.keyBy=ih,B.keys=Tn,B.keysIn=hr,B.map=ja,B.mapKeys=function(u,l){var b={};return l=At(l,3),pt(u,function(j,N,U){Do(b,l(j,N,U),j)}),b},B.mapValues=function(u,l){var b={};return l=At(l,3),pt(u,function(j,N,U){Do(b,N,l(j,N,U))}),b},B.matches=function(u){return xf(Gr(u,1))},B.matchesProperty=function(u,l){return Ef(u,Gr(l,1))},B.memoize=Pa,B.merge=hp,B.mergeWith=jl,B.method=fh,B.methodOf=Yn,B.mixin=no,B.negate=Gc,B.nthArg=function(u){return u=Ut(u),Vt(function(l){return Sf(l,u)})},B.omit=Pl,B.omitBy=function(u,l){return Vc(u,Gc(At(l)))},B.once=function(u){return vl(2,u)},B.orderBy=function(u,l,b,j){return u==null?[]:(Ft(l)||(l=l==null?[]:[l]),Ft(b=j?v:b)||(b=b==null?[]:[b]),jf(u,l,b))},B.over=Rl,B.overArgs=op,B.overEvery=ph,B.overSome=Il,B.partial=Xc,B.partialRight=ml,B.partition=ah,B.pick=Al,B.pickBy=Vc,B.property=$c,B.propertyOf=function(u){return function(l){return u==null?v:Yo(u,l)}},B.pull=$f,B.pullAll=Ic,B.pullAllBy=function(u,l,b){return u&&u.length&&l&&l.length?gc(u,l,At(b,2)):u},B.pullAllWith=function(u,l,b){return u&&u.length&&l&&l.length?gc(u,l,v,b):u},B.pullAt=qf,B.range=Ll,B.rangeRight=dh,B.rearg=uh,B.reject=function(u,l){return(Ft(u)?ur:sn)(u,Gc(At(l,3)))},B.remove=function(u,l){var b=[];if(!u||!u.length)return b;var j=-1,N=[],U=u.length;for(l=At(l,3);++j<U;){var ne=u[j];l(ne,j,u)&&(b.push(ne),N.push(j))}return Bs(u,N),b},B.rest=function(u,l){if(typeof u!="function")throw new K(E);return Vt(u,l=l===v?l:Ut(l))},B.reverse=Lc,B.sampleSize=function(u,l,b){return l=(b?ir(u,l,b):l===v)?1:Ut(l),(Ft(u)?vf:Us)(u,l)},B.set=function(u,l,b){return u==null?u:yu(u,l,b)},B.setWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:yu(u,l,b,j)},B.shuffle=function(u){return(Ft(u)?gf:Mf)(u)},B.slice=function(u,l,b){var j=u==null?0:u.length;return j?(b&&typeof b!="number"&&ir(u,l,b)?(l=0,b=j):(l=l==null?0:Ut(l),b=b===v?j:Ut(b)),Xr(u,l,b)):[]},B.sortBy=yl,B.sortedUniq=function(u){return u&&u.length?Xs(u):[]},B.sortedUniqBy=function(u,l){return u&&u.length?Xs(u,At(l,2)):[]},B.split=function(u,l,b){return b&&typeof b!="number"&&ir(u,l,b)&&(l=b=v),(b=b===v?ie:b>>>0)?(u=nn(u))&&(typeof l=="string"||l!=null&&!ka(l))&&!(l=kr(l))&&co(u)?fn(Mr(u),0,b):u.split(l,b):[]},B.spread=function(u,l){if(typeof u!="function")throw new K(E);return l=l==null?0:qn(Ut(l),0),Vt(function(b){var j=b[l],N=fn(b,0,l);return j&&Hn(N,j),vn(u,this,N)})},B.tail=function(u){var l=u==null?0:u.length;return l?Xr(u,1,l):[]},B.take=function(u,l,b){return u&&u.length?Xr(u,0,(l=b||l===v?1:Ut(l))<0?0:l):[]},B.takeRight=function(u,l,b){var j=u==null?0:u.length;return j?Xr(u,(l=j-(l=b||l===v?1:Ut(l)))<0?0:l,j):[]},B.takeRightWhile=function(u,l){return u&&u.length?_c(u,At(l,3),!1,!0):[]},B.takeWhile=function(u,l){return u&&u.length?_c(u,At(l,3)):[]},B.tap=function(u,l){return l(u),u},B.throttle=function(u,l,b){var j=!0,N=!0;if(typeof u!="function")throw new K(E);return Pn(b)&&(j="leading"in b?!!b.leading:j,N="trailing"in b?!!b.trailing:N),Ct(u,l,{leading:j,maxWait:l,trailing:N})},B.thru=zc,B.toArray=up,B.toPairs=Ml,B.toPairsIn=Kc,B.toPath=function(u){return Ft(u)?en(u,po):xr(u)?[u]:Tr(cl(nn(u)))},B.toPlainObject=xl,B.transform=function(u,l,b){var j=Ft(u),N=j||wr(u)||Zo(u);if(l=At(l,4),b==null){var U=u&&u.constructor;b=N?j?new U:[]:Pn(u)&&to(U)?ga(Uo(u)):{}}return(N?gr:pt)(u,function(ne,le,_e){return l(b,ne,le,_e)}),b},B.unary=function(u){return np(u,1)},B.union=Zf,B.unionBy=Jf,B.unionWith=Qf,B.uniq=function(u){return u&&u.length?hi(u):[]},B.uniqBy=function(u,l){return u&&u.length?hi(u,At(l,2)):[]},B.uniqWith=function(u,l){return l=typeof l=="function"?l:v,u&&u.length?hi(u,v,l):[]},B.unset=function(u,l){return u==null||bc(u,l)},B.unzip=Eu,B.unzipWith=Sa,B.update=function(u,l,b){return u==null?u:Tf(u,l,Vs(b))},B.updateWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:Tf(u,l,Vs(b),j)},B.values=_i,B.valuesIn=function(u){return u==null?[]:ca(u,hr(u))},B.without=pr,B.words=Au,B.wrap=function(u,l){return Xc(Vs(l),u)},B.xor=nh,B.xorBy=rh,B.xorWith=fl,B.zip=ep,B.zipObject=function(u,l){return Ws(u||[],l||[],ma)},B.zipObjectDeep=function(u,l){return Ws(u||[],l||[],yu)},B.zipWith=Dr,B.entries=Ml,B.entriesIn=Kc,B.extend=Xi,B.extendWith=bi,no(B,B),B.add=zl,B.attempt=Mu,B.camelCase=kl,B.capitalize=Da,B.ceil=bp,B.clamp=function(u,l,b){return b===v&&(b=l,l=v),b!==v&&(b=(b=dr(b))==b?b:0),l!==v&&(l=(l=dr(l))==l?l:0),di(dr(u),l,b)},B.clone=function(u){return Gr(u,4)},B.cloneDeep=function(u){return Gr(u,5)},B.cloneDeepWith=function(u,l){return Gr(u,5,l=typeof l=="function"?l:v)},B.cloneWith=function(u,l){return Gr(u,4,l=typeof l=="function"?l:v)},B.conformsTo=function(u,l){return l==null||Cs(u,l,Tn(l))},B.deburr=Jo,B.defaultTo=function(u,l){return u==null||u!=u?l:u},B.divide=Cu,B.endsWith=function(u,l,b){u=nn(u),l=kr(l);var j=u.length,N=b=b===v?j:di(Ut(b),0,j);return(b-=l.length)>=0&&u.slice(b,N)==l},B.eq=yo,B.escape=function(u){return(u=nn(u))&&st.test(u)?u.replace(yt,Rn):u},B.escapeRegExp=function(u){return(u=nn(u))&&bn.test(u)?u.replace(dn,"\\$&"):u},B.every=function(u,l,b){var j=Ft(u)?rc:_f;return b&&ir(u,l,b)&&(l=v),j(u,At(l,3))},B.find=pl,B.findIndex=ll,B.findKey=function(u,l){return ao(u,At(l,3),pt)},B.findLast=dl,B.findLastIndex=Rc,B.findLastKey=function(u,l){return ao(u,At(l,3),mn)},B.floor=Ru,B.forEach=Bc,B.forEachRight=hl,B.forIn=function(u,l){return u==null?u:Yt(u,At(l,3),hr)},B.forInRight=function(u,l){return u==null?u:Bn(u,At(l,3),hr)},B.forOwn=function(u,l){return u&&pt(u,At(l,3))},B.forOwnRight=function(u,l){return u&&mn(u,At(l,3))},B.get=Ta,B.gt=ch,B.gte=Su,B.has=function(u,l){return u!=null&&kc(u,l,Of)},B.hasIn=Wc,B.head=Kf,B.identity=Er,B.includes=function(u,l,b,j){u=Nr(u)?u:_i(u),b=b&&!j?Ut(b):0;var N=u.length;return b<0&&(b=qn(N+b,0)),Yc(u)?b<=N&&u.indexOf(l,b)>-1:!!N&&li(u,l,b)>-1},B.indexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Ut(b);return N<0&&(N=qn(j+N,0)),li(u,l,N)},B.inRange=function(u,l,b){return l=No(l),b===v?(b=l,l=0):b=No(b),function(j,N,U){return j>=lr(N,U)&&j<qn(N,U)}(u=dr(u),l,b)},B.invoke=dp,B.isArguments=Gi,B.isArray=Ft,B.isArrayBuffer=sh,B.isArrayLike=Nr,B.isArrayLikeObject=wn,B.isBoolean=function(u){return u===!0||u===!1||kn(u)&&Sn(u)==H},B.isBuffer=wr,B.isDate=bl,B.isElement=function(u){return kn(u)&&u.nodeType===1&&!Ma(u)},B.isEmpty=function(u){if(u==null)return!0;if(Nr(u)&&(Ft(u)||typeof u=="string"||typeof u.splice=="function"||wr(u)||Zo(u)||Gi(u)))return!u.length;var l=fr(u);if(l==ae||l==Se)return!u.size;if(ke(u))return!Wo(u).length;for(var b in u)if(et.call(u,b))return!1;return!0},B.isEqual=function(u,l){return _a(u,l)},B.isEqualWith=function(u,l,b){var j=(b=typeof b=="function"?b:v)?b(u,l):v;return j===v?_a(u,l,v,b):!!j},B.isError=tr,B.isFinite=function(u){return typeof u=="number"&&ff(u)},B.isFunction=to,B.isInteger=Aa,B.isLength=Hc,B.isMap=_l,B.isMatch=function(u,l){return u===l||yc(u,l,el(l))},B.isMatchWith=function(u,l,b){return b=typeof b=="function"?b:v,yc(u,l,el(l),b)},B.isNaN=function(u){return Ol(u)&&u!=+u},B.isNative=function(u){if(eh(u))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Oa(u)},B.isNil=function(u){return u==null},B.isNull=function(u){return u===null},B.isNumber=Ol,B.isObject=Pn,B.isObjectLike=kn,B.isPlainObject=Ma,B.isRegExp=ka,B.isSafeInteger=function(u){return Aa(u)&&u>=-9007199254740991&&u<=V},B.isSet=ip,B.isString=Yc,B.isSymbol=xr,B.isTypedArray=Zo,B.isUndefined=function(u){return u===v},B.isWeakMap=function(u){return kn(u)&&fr(u)==Ae},B.isWeakSet=function(u){return kn(u)&&Sn(u)=="[object WeakSet]"},B.join=function(u,l){return u==null?"":Ms.call(u,l)},B.kebabCase=yp,B.last=jn,B.lastIndexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j;return b!==v&&(N=(N=Ut(b))<0?qn(j+N,0):lr(N,j-1)),l==l?function(U,ne,le){for(var _e=le+1;_e--;)if(U[_e]===ne)return _e;return _e}(u,l,N):jo(u,Po,N,!0)},B.lowerCase=vp,B.lowerFirst=Tl,B.lt=ap,B.lte=wl,B.max=function(u){return u&&u.length?In(u,Er,Mn):v},B.maxBy=function(u,l){return u&&u.length?In(u,At(l,2),Mn):v},B.mean=function(u){return Zt(u,Er)},B.meanBy=function(u,l){return Zt(u,At(l,2))},B.min=function(u){return u&&u.length?In(u,Er,Vo):v},B.minBy=function(u,l){return u&&u.length?In(u,At(l,2),Vo):v},B.stubArray=Qo,B.stubFalse=Nu,B.stubObject=function(){return{}},B.stubString=function(){return""},B.stubTrue=function(){return!0},B.multiply=_p,B.nth=function(u,l){return u&&u.length?Sf(u,Ut(l)):v},B.noConflict=function(){return An._===this&&(An._=_n),this},B.noop=Du,B.now=Fc,B.pad=function(u,l,b){u=nn(u);var j=(l=Ut(l))?so(u):0;if(!l||j>=l)return u;var N=(l-j)/2;return Ou(pa(N),b)+u+Ou(ic(N),b)},B.padEnd=function(u,l,b){u=nn(u);var j=(l=Ut(l))?so(u):0;return l&&j<l?u+Ou(l-j,b):u},B.padStart=function(u,l,b){u=nn(u);var j=(l=Ut(l))?so(u):0;return l&&j<l?Ou(l-j,b)+u:u},B.parseInt=function(u,l,b){return b||l==null?l=0:l&&(l=+l),uc(nn(u).replace(Dt,""),l||0)},B.random=function(u,l,b){if(b&&typeof b!="boolean"&&ir(u,l,b)&&(l=b=v),b===v&&(typeof l=="boolean"?(b=l,l=v):typeof u=="boolean"&&(b=u,u=v)),u===v&&l===v?(u=0,l=1):(u=No(u),l===v?(l=u,u=0):l=No(l)),u>l){var j=u;u=l,l=j}if(b||u%1||l%1){var N=cc();return lr(u+N*(l-u+ci("1e-"+((N+"").length-1))),l)}return Fs(u,l)},B.reduce=function(u,l,b){var j=Ft(u)?ia:$n,N=arguments.length<3;return j(u,At(l,4),b,N,On)},B.reduceRight=function(u,l,b){var j=Ft(u)?oc:$n,N=arguments.length<3;return j(u,At(l,4),b,N,bf)},B.repeat=function(u,l,b){return l=(b?ir(u,l,b):l===v)?1:Ut(l),mc(nn(u),l)},B.replace=function(){var u=arguments,l=nn(u[0]);return u.length<3?l:l.replace(u[1],u[2])},B.result=function(u,l,b){var j=-1,N=(l=un(l,u)).length;for(N||(N=1,u=v);++j<N;){var U=u==null?v:u[po(l[j])];U===v&&(j=N,U=b),u=to(U)?U.call(u):U}return u},B.round=Op,B.runInContext=Oe,B.sample=function(u){return(Ft(u)?Ds:Vd)(u)},B.size=function(u){if(u==null)return 0;if(Nr(u))return Yc(u)?so(u):u.length;var l=fr(u);return l==ae||l==Se?u.size:Wo(u).length},B.snakeCase=Dl,B.some=function(u,l,b){var j=Ft(u)?au:$d;return b&&ir(u,l,b)&&(l=v),j(u,At(l,3))},B.sortedIndex=function(u,l){return vu(u,l)},B.sortedIndexBy=function(u,l,b){return Gs(u,l,At(b,2))},B.sortedIndexOf=function(u,l){var b=u==null?0:u.length;if(b){var j=vu(u,l);if(j<b&&yo(u[j],l))return j}return-1},B.sortedLastIndex=function(u,l){return vu(u,l,!0)},B.sortedLastIndexBy=function(u,l,b){return Gs(u,l,At(b,2),!0)},B.sortedLastIndexOf=function(u,l){if(u!=null&&u.length){var b=vu(u,l,!0)-1;if(yo(u[b],l))return b}return-1},B.startCase=lh,B.startsWith=function(u,l,b){return u=nn(u),b=b==null?0:di(Ut(b),0,u.length),l=kr(l),u.slice(b,b+l.length)==l},B.subtract=nr,B.sum=function(u){return u&&u.length?ua(u,Er):0},B.sumBy=function(u,l){return u&&u.length?ua(u,At(l,2)):0},B.template=function(u,l,b){var j=B.templateSettings;b&&ir(u,l,b)&&(l=v),u=nn(u),l=bi({},l,j,Gf);var N,U,ne=bi({},l.imports,j.imports,Gf),le=Tn(ne),_e=ca(ne,le),Ie=0,De=l.interpolate||Et,Ge="__p += '",rt=A((l.escape||Et).source+"|"+De.source+"|"+(De===It?ft:Et).source+"|"+(l.evaluate||Et).source+"|$","g"),dt="//# sourceURL="+(et.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qu+"]")+`
`;u.replace(rt,function(Xe,jt,it,se,Rt,$t){return it||(it=se),Ge+=u.slice(Ie,$t).replace(Nt,Ci),jt&&(N=!0,Ge+=`' +
__e(`+jt+`) +
'`),Rt&&(U=!0,Ge+=`';
`+Rt+`;
__p += '`),it&&(Ge+=`' +
((__t = (`+it+`)) == null ? '' : __t) +
'`),Ie=$t+Xe.length,Xe}),Ge+=`';
`;var xt=et.call(l,"variable")&&l.variable;if(xt){if(Ve.test(xt))throw new Wt("Invalid `variable` option passed into `_.template`")}else Ge=`with (obj) {
`+Ge+`
}
`;Ge=(U?Ge.replace(Le,""):Ge).replace(wt,"$1").replace(kt,"$1;"),Ge="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ge+`return __p
}`;var ze=Mu(function(){return gn(le,dt+"return "+Ge).apply(v,_e)});if(ze.source=Ge,tr(ze))throw ze;return ze},B.times=function(u,l){if((u=Ut(u))<1||u>V)return[];var b=ie,j=lr(u,ie);l=At(l),u-=ie;for(var N=Ni(j,l);++b<u;)l(b);return N},B.toFinite=No,B.toInteger=Ut,B.toLength=cp,B.toLower=function(u){return nn(u).toLowerCase()},B.toNumber=dr,B.toSafeInteger=function(u){return u?di(Ut(u),-9007199254740991,V):u===0?u:0},B.toString=nn,B.toUpper=function(u){return nn(u).toUpperCase()},B.trim=function(u,l,b){if((u=nn(u))&&(b||l===v))return uu(u);if(!u||!(l=kr(l)))return u;var j=Mr(u),N=Mr(l);return fn(j,Br(j,N),cu(j,N)+1).join("")},B.trimEnd=function(u,l,b){if((u=nn(u))&&(b||l===v))return u.slice(0,_r(u)+1);if(!u||!(l=kr(l)))return u;var j=Mr(u);return fn(j,0,cu(j,Mr(l))+1).join("")},B.trimStart=function(u,l,b){if((u=nn(u))&&(b||l===v))return u.replace(Dt,"");if(!u||!(l=kr(l)))return u;var j=Mr(u);return fn(j,Br(j,Mr(l))).join("")},B.truncate=function(u,l){var b=30,j="...";if(Pn(l)){var N="separator"in l?l.separator:N;b="length"in l?Ut(l.length):b,j="omission"in l?kr(l.omission):j}var U=(u=nn(u)).length;if(co(u)){var ne=Mr(u);U=ne.length}if(b>=U)return u;var le=b-so(j);if(le<1)return j;var _e=ne?fn(ne,0,le).join(""):u.slice(0,le);if(N===v)return _e+j;if(ne&&(le+=_e.length-le),ka(N)){if(u.slice(le).search(N)){var Ie,De=_e;for(N.global||(N=A(N.source,nn(Gt.exec(N))+"g")),N.lastIndex=0;Ie=N.exec(De);)var Ge=Ie.index;_e=_e.slice(0,Ge===v?le:Ge)}}else if(u.indexOf(kr(N),le)!=le){var rt=_e.lastIndexOf(N);rt>-1&&(_e=_e.slice(0,rt))}return _e+j},B.unescape=function(u){return(u=nn(u))&&Me.test(u)?u.replace(St,Fr):u},B.uniqueId=function(u){var l=++hn;return nn(u)+l},B.upperCase=gp,B.upperFirst=Pu,B.each=Bc,B.eachRight=hl,B.first=Kf,no(B,(Iu={},pt(B,function(u,l){et.call(B.prototype,l)||(Iu[l]=u)}),Iu),{chain:!1}),B.VERSION="4.17.21",gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){B[u].placeholder=B}),gr(["drop","take"],function(u,l){Qt.prototype[u]=function(b){b=b===v?1:qn(Ut(b),0);var j=this.__filtered__&&!l?new Qt(this):this.clone();return j.__filtered__?j.__takeCount__=lr(b,j.__takeCount__):j.__views__.push({size:lr(b,ie),type:u+(j.__dir__<0?"Right":"")}),j},Qt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),gr(["filter","map","takeWhile"],function(u,l){var b=l+1,j=b==1||b==3;Qt.prototype[u]=function(N){var U=this.clone();return U.__iteratees__.push({iteratee:At(N,3),type:b}),U.__filtered__=U.__filtered__||j,U}}),gr(["head","last"],function(u,l){var b="take"+(l?"Right":"");Qt.prototype[u]=function(){return this[b](1).value()[0]}}),gr(["initial","tail"],function(u,l){var b="drop"+(l?"":"Right");Qt.prototype[u]=function(){return this.__filtered__?new Qt(this):this[b](1)}}),Qt.prototype.compact=function(){return this.filter(Er)},Qt.prototype.find=function(u){return this.filter(u).head()},Qt.prototype.findLast=function(u){return this.reverse().find(u)},Qt.prototype.invokeMap=Vt(function(u,l){return typeof u=="function"?new Qt(this):this.map(function(b){return ba(b,u,l)})}),Qt.prototype.reject=function(u){return this.filter(Gc(At(u)))},Qt.prototype.slice=function(u,l){u=Ut(u);var b=this;return b.__filtered__&&(u>0||l<0)?new Qt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),l!==v&&(b=(l=Ut(l))<0?b.dropRight(-l):b.take(l-u)),b)},Qt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Qt.prototype.toArray=function(){return this.take(ie)},pt(Qt.prototype,function(u,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),j=/^(?:head|last)$/.test(l),N=B[j?"take"+(l=="last"?"Right":""):l],U=j||/^find/.test(l);N&&(B.prototype[l]=function(){var ne=this.__wrapped__,le=j?[1]:arguments,_e=ne instanceof Qt,Ie=le[0],De=_e||Ft(ne),Ge=function(jt){var it=N.apply(B,Hn([jt],le));return j&&rt?it[0]:it};De&&b&&typeof Ie=="function"&&Ie.length!=1&&(_e=De=!1);var rt=this.__chain__,dt=!!this.__actions__.length,xt=U&&!rt,ze=_e&&!dt;if(!U&&De){ne=ze?ne:new Qt(this);var Xe=u.apply(ne,le);return Xe.__actions__.push({func:zc,args:[Ge],thisArg:v}),new Zr(Xe,rt)}return xt&&ze?u.apply(this,le):(Xe=this.thru(Ge),xt?j?Xe.value()[0]:Xe.value():Xe)})}),gr(["pop","push","shift","sort","splice","unshift"],function(u){var l=pe[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);B.prototype[u]=function(){var N=arguments;if(j&&!this.__chain__){var U=this.value();return l.apply(Ft(U)?U:[],N)}return this[b](function(ne){return l.apply(Ft(ne)?ne:[],N)})}}),pt(Qt.prototype,function(u,l){var b=B[l];if(b){var j=b.name+"";et.call(va,j)||(va[j]=[]),va[j].push({name:l,func:b})}}),va[Ec(v,2).name]=[{name:"wrapper",func:v}],Qt.prototype.clone=function(){var u=new Qt(this.__wrapped__);return u.__actions__=Tr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Tr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Tr(this.__views__),u},Qt.prototype.reverse=function(){if(this.__filtered__){var u=new Qt(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Qt.prototype.value=function(){var u=this.__wrapped__.value(),l=this.__dir__,b=Ft(u),j=l<0,N=b?u.length:0,U=function($t,bt,Mt){for(var Wn=-1,Cr=Mt.length;++Wn<Cr;){var vo=Mt[Wn],Vn=vo.size;switch(vo.type){case"drop":$t+=Vn;break;case"dropRight":bt-=Vn;break;case"take":bt=lr(bt,$t+Vn);break;case"takeRight":$t=qn($t,bt-Vn)}}return{start:$t,end:bt}}(0,N,this.__views__),ne=U.start,le=U.end,_e=le-ne,Ie=j?le:ne-1,De=this.__iteratees__,Ge=De.length,rt=0,dt=lr(_e,this.__takeCount__);if(!b||!j&&N==_e&&dt==_e)return Hs(u,this.__actions__);var xt=[];e:for(;_e--&&rt<dt;){for(var ze=-1,Xe=u[Ie+=l];++ze<Ge;){var jt=De[ze],it=jt.iteratee,se=jt.type,Rt=it(Xe);if(se==2)Xe=Rt;else if(!Rt){if(se==1)continue e;break e}}xt[rt++]=Xe}return xt},B.prototype.at=eo,B.prototype.chain=function(){return Fn(this)},B.prototype.commit=function(){return new Zr(this.value(),this.__chain__)},B.prototype.next=function(){this.__values__===v&&(this.__values__=up(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?v:this.__values__[this.__index__++]}},B.prototype.plant=function(u){for(var l,b=this;b instanceof du;){var j=sl(b);j.__index__=0,j.__values__=v,l?N.__wrapped__=j:l=j;var N=j;b=b.__wrapped__}return N.__wrapped__=u,l},B.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof Qt){var l=u;return this.__actions__.length&&(l=new Qt(this)),(l=l.reverse()).__actions__.push({func:zc,args:[Lc],thisArg:v}),new Zr(l,this.__chain__)}return this.thru(Lc)},B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=function(){return Hs(this.__wrapped__,this.__actions__)},B.prototype.first=B.prototype.head,Go&&(B.prototype[Go]=function(){return this}),B}();An._=lo,(O=function(){return lo}.call(f,o,f,d))===v||(d.exports=O)}).call(this)}).call(this,o(68),o(221)(s))},function(s,f,o){var p=o(7),d=o(34),O=o(33),v=o(87),E=o(62),M=o(174),P=o(28),T=p.TypeError,k=P("toPrimitive");s.exports=function(R,C){if(!O(R)||v(R))return R;var F,Y=E(R,k);if(Y){if(C===void 0&&(C="default"),F=d(Y,R,C),!O(F)||v(F))return F;throw T("Can't convert object to primitive value")}return C===void 0&&(C="number"),M(R,C)}},function(s,f,o){var p=o(108);s.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,f,o){var p=o(36),d=o(18),O=o(91);s.exports=!p&&!d(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7})},function(s,f,o){var p=o(35),d=o(135),O=o(50),v=o(38);s.exports=function(E,M){for(var P=d(M),T=v.f,k=O.f,R=0;R<P.length;R++){var C=P[R];p(E,C)||T(E,C,k(M,C))}}},function(s,f,o){var p=o(46),d=o(15),O=o(74),v=o(112),E=o(32),M=d([].concat);s.exports=p("Reflect","ownKeys")||function(P){var T=O.f(E(P)),k=v.f;return k?M(T,k(P)):T}},function(s,f,o){var p=o(15),d=o(35),O=o(41),v=o(137).indexOf,E=o(72),M=p([].push);s.exports=function(P,T){var k,R=O(P),C=0,F=[];for(k in R)!d(E,k)&&d(R,k)&&M(F,k);for(;T.length>C;)d(R,k=T[C++])&&(~v(F,k)||M(F,k));return F}},function(s,f,o){var p=o(41),d=o(75),O=o(45),v=function(E){return function(M,P,T){var k,R=p(M),C=O(R),F=d(T,C);if(E&&P!=P){for(;C>F;)if((k=R[F++])!=k)return!0}else for(;C>F;F++)if((E||F in R)&&R[F]===P)return E||F||0;return!E&&-1}};s.exports={includes:v(!0),indexOf:v(!1)}},function(s,f,o){var p=o(46);s.exports=p("document","documentElement")},function(s,f,o){var p=o(51),d=o(41),O=o(74).f,v=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(M){return E&&p(M)=="Window"?function(P){try{return O(P)}catch(T){return v(E)}}(M):O(d(M))}},function(s,f,o){var p=o(28);f.f=p},function(s,f,o){var p=o(177),d=o(35),O=o(140),v=o(38).f;s.exports=function(E){var M=p.Symbol||(p.Symbol={});d(M,E)||v(M,E,{value:O.f(E)})}},function(s,f,o){var p,d,O,v=o(18),E=o(30),M=o(60),P=o(101),T=o(42),k=o(28),R=o(71),C=k("iterator"),F=!1;[].keys&&("next"in(O=[].keys())?(d=P(P(O)))!==Object.prototype&&(p=d):F=!0),p==null||v(function(){var Y={};return p[C].call(Y)!==Y})?p={}:R&&(p=M(p)),E(p[C])||T(p,C,function(){return this}),s.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:F}},function(s,f,o){var p=o(18);s.exports=!p(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,f,o){var p=o(16),d=o(15),O=o(72),v=o(33),E=o(35),M=o(38).f,P=o(74),T=o(139),k=o(183),R=o(90),C=o(185),F=!1,Y=R("meta"),V=0,te=function(re){M(re,Y,{value:{objectID:"O"+V++,weakData:{}}})},ie=s.exports={enable:function(){ie.enable=function(){},F=!0;var re=P.f,J=d([].splice),Z={};Z[Y]=1,re(Z).length&&(P.f=function(H){for(var z=re(H),G=0,W=z.length;G<W;G++)if(z[G]===Y){J(z,G,1);break}return z},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function(re,J){if(!v(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,Y)){if(!k(re))return"F";if(!J)return"E";te(re)}return re[Y].objectID},getWeakData:function(re,J){if(!E(re,Y)){if(!k(re))return!0;if(!J)return!1;te(re)}return re[Y].weakData},onFreeze:function(re){return C&&F&&k(re)&&!E(re,Y)&&te(re),re}};O[Y]=!0},function(s,f,o){var p=o(28),d=o(80),O=p("iterator"),v=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||v[O]===E)}},function(s,f,o){var p=o(7),d=o(34),O=o(56),v=o(32),E=o(88),M=o(118),P=p.TypeError;s.exports=function(T,k){var R=arguments.length<2?M(T):k;if(O(R))return v(d(R,T));throw P(E(T)+" is not iterable")}},function(s,f,o){var p=o(34),d=o(32),O=o(62);s.exports=function(v,E,M){var P,T;d(v);try{if(!(P=O(v,"return"))){if(E==="throw")throw M;return M}P=p(P,v)}catch(k){T=!0,P=k}if(E==="throw")throw M;if(T)throw P;return d(P),M}},function(s,f,o){var p=o(30),d=o(33),O=o(102);s.exports=function(v,E,M){var P,T;return O&&p(P=E.constructor)&&P!==M&&d(T=P.prototype)&&T!==M.prototype&&O(v,T),v}},function(s,f,o){var p=o(42);s.exports=function(d,O,v){for(var E in O)p(d,E,O[E],v);return d}},function(s,f,o){var p=o(46),d=o(38),O=o(28),v=o(36),E=O("species");s.exports=function(M){var P=p(M),T=d.f;v&&P&&!P[E]&&T(P,E,{configurable:!0,get:function(){return this}})}},function(s,f,o){var p=o(15),d=o(59),O=o(39),v=o(44),E=p("".charAt),M=p("".charCodeAt),P=p("".slice),T=function(k){return function(R,C){var F,Y,V=O(v(R)),te=d(C),ie=V.length;return te<0||te>=ie?k?"":void 0:(F=M(V,te))<55296||F>56319||te+1===ie||(Y=M(V,te+1))<56320||Y>57343?k?E(V,te):F:k?P(V,te,te+2):Y-56320+(F-55296<<10)+65536}};s.exports={codeAt:T(!1),charAt:T(!0)}},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,o){var p=o(91)("span").classList,d=p&&p.constructor&&p.constructor.prototype;s.exports=d===Object.prototype?void 0:d},function(s,f,o){var p=o(32);s.exports=function(){var d=p(this),O="";return d.global&&(O+="g"),d.ignoreCase&&(O+="i"),d.multiline&&(O+="m"),d.dotAll&&(O+="s"),d.unicode&&(O+="u"),d.sticky&&(O+="y"),O}},function(s,f,o){var p=o(18),d=o(7).RegExp,O=p(function(){var M=d("a","y");return M.lastIndex=2,M.exec("abcd")!=null}),v=O||p(function(){return!d("a","y").sticky}),E=O||p(function(){var M=d("^r","gy");return M.lastIndex=2,M.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:v,UNSUPPORTED_Y:O}},function(s,f,o){var p=o(16),d=o(79).find,O=o(100),v="find",E=!0;v in[]&&Array(1).find(function(){E=!1}),p({target:"Array",proto:!0,forced:E},{find:function(M){return d(this,M,arguments.length>1?arguments[1]:void 0)}}),O(v)},function(s,f,o){var p=o(16),d=o(137).includes,O=o(100);p({target:"Array",proto:!0},{includes:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),O("includes")},function(s,f,o){var p=o(16),d=o(15),O=o(197),v=o(44),E=o(39),M=o(198),P=d("".indexOf);p({target:"String",proto:!0,forced:!M("includes")},{includes:function(T){return!!~P(E(v(this)),E(O(T)),arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(33),d=o(51),O=o(28)("match");s.exports=function(v){var E;return p(v)&&((E=v[O])!==void 0?!!E:d(v)=="RegExp")}},function(s,f,o){var p=o(15);s.exports=p(1 .valueOf)},function(s,f,o){var p=o(15),d=o(44),O=o(39),v=o(162),E=p("".replace),M="["+v+"]",P=RegExp("^"+M+M+"*"),T=RegExp(M+M+"*$"),k=function(R){return function(C){var F=O(d(C));return 1&R&&(F=E(F,P,"")),2&R&&(F=E(F,T,"")),F}};s.exports={start:k(1),end:k(2),trim:k(3)}},function(s,f){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,f){var o,p,d=s.exports={};function O(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function E(V){if(o===setTimeout)return setTimeout(V,0);if((o===O||!o)&&setTimeout)return o=setTimeout,setTimeout(V,0);try{return o(V,0)}catch(te){try{return o.call(null,V,0)}catch(ie){return o.call(this,V,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:O}catch(V){o=O}try{p=typeof clearTimeout=="function"?clearTimeout:v}catch(V){p=v}})();var M,P=[],T=!1,k=-1;function R(){T&&M&&(T=!1,M.length?P=M.concat(P):k=-1,P.length&&C())}function C(){if(!T){var V=E(R);T=!0;for(var te=P.length;te;){for(M=P,P=[];++k<te;)M&&M[k].run();k=-1,te=P.length}M=null,T=!1,function(ie){if(p===clearTimeout)return clearTimeout(ie);if((p===v||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(ie);try{p(ie)}catch(re){try{return p.call(null,ie)}catch(J){return p.call(this,ie)}}}(V)}}function F(V,te){this.fun=V,this.array=te}function Y(){}d.nextTick=function(V){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)te[ie-1]=arguments[ie];P.push(new F(V,te)),P.length!==1||T||E(C)},F.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=Y,d.addListener=Y,d.once=Y,d.off=Y,d.removeListener=Y,d.removeAllListeners=Y,d.emit=Y,d.prependListener=Y,d.prependOnceListener=Y,d.listeners=function(V){return[]},d.binding=function(V){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(V){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,f,o){var p=o(32),d=o(165),O=o(28)("species");s.exports=function(v,E){var M,P=p(v).constructor;return P===void 0||(M=p(P)[O])==null?E:d(M)}},function(s,f,o){var p=o(7),d=o(99),O=o(88),v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a constructor")}},function(s,f,o){var p=o(16),d=o(161).trim;p({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return d(this)}})},function(s,f,o){var p=o(34),d=o(123),O=o(32),v=o(94),E=o(39),M=o(44),P=o(62),T=o(124),k=o(125);d("match",function(R,C,F){return[function(Y){var V=M(this),te=Y==null?void 0:P(Y,R);return te?p(te,Y,V):new RegExp(Y)[R](E(V))},function(Y){var V=O(this),te=E(Y),ie=F(C,V,te);if(ie.done)return ie.value;if(!V.global)return k(V,te);var re=V.unicode;V.lastIndex=0;for(var J,Z=[],H=0;(J=k(V,te))!==null;){var z=E(J[0]);Z[H]=z,z===""&&(V.lastIndex=T(te,v(V.lastIndex),re)),H++}return H===0?null:Z}]})},function(s,f,o){var p,d,O,v,E=o(7),M=o(76),P=o(64),T=o(30),k=o(35),R=o(18),C=o(138),F=o(98),Y=o(91),V=o(169),te=o(128),ie=E.setImmediate,re=E.clearImmediate,J=E.process,Z=E.Dispatch,H=E.Function,z=E.MessageChannel,G=E.String,W=0,$={},ae="onreadystatechange";try{p=E.location}catch(Se){}var xe=function(Se){if(k($,Se)){var ye=$[Se];delete $[Se],ye()}},me=function(Se){return function(){xe(Se)}},Pe=function(Se){xe(Se.data)},Be=function(Se){E.postMessage(G(Se),p.protocol+"//"+p.host)};ie&&re||(ie=function(Se){var ye=F(arguments,1);return $[++W]=function(){M(T(Se)?Se:H(Se),void 0,ye)},d(W),W},re=function(Se){delete $[Se]},te?d=function(Se){J.nextTick(me(Se))}:Z&&Z.now?d=function(Se){Z.now(me(Se))}:z&&!V?(v=(O=new z).port2,O.port1.onmessage=Pe,d=P(v.postMessage,v)):E.addEventListener&&T(E.postMessage)&&!E.importScripts&&p&&p.protocol!=="file:"&&!R(Be)?(d=Be,E.addEventListener("message",Pe,!1)):d=ae in Y("script")?function(Se){C.appendChild(Y("script")).onreadystatechange=function(){C.removeChild(this),xe(Se)}}:function(Se){setTimeout(me(Se),0)}),s.exports={set:ie,clear:re}},function(s,f,o){var p=o(55);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(p)},function(s,f,o){var p=o(56),d=function(O){var v,E;this.promise=new O(function(M,P){if(v!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");v=M,E=P}),this.resolve=p(v),this.reject=p(E)};s.exports.f=function(O){return new d(O)}},function(s,f,o){f.a=function(){return!1}},function(s,f,o){(function(p){o.d(f,"a",function(){return J});var d=o(1);function O(z){throw new Error("[mobx-utils] "+z)}function v(z,G){G===void 0&&(G="Illegal state"),z||O(G)}var E=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(E(Object.getPrototypeOf(z))||[])},M=function(z){return function(G){var W=E(G);return W.filter(function($,ae){return W.indexOf($)===ae})}(z).filter(function(G){return G!=="constructor"&&!~G.indexOf("__")})},P="pending",T="fulfilled",k="rejected";function R(z){switch(this.state){case P:return z.pending&&z.pending(this.value);case k:return z.rejected&&z.rejected(this.value);case T:return z.fulfilled?z.fulfilled(this.value):this.value}}function C(z,G){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var W=z;z.then(Object(d.k)("observableFromPromise-resolve",function(ae){W.value=ae,W.state=T}),Object(d.k)("observableFromPromise-reject",function(ae){W.value=ae,W.state=k})),W.isPromiseBasedObservable=!0,W.case=R;var $=G&&G.state===T?G.value:void 0;return Object(d.q)(W,{value:$,state:P},{},{deep:!1}),W}(function(z){z.reject=Object(d.k)("fromPromise.reject",function(G){var W=z(Promise.reject(G));return W.state=k,W.value=G,W}),z.resolve=Object(d.k)("fromPromise.resolve",function(G){G===void 0&&(G=void 0);var W=z(Promise.resolve(G));return W.state=T,W.value=G,W})})(C||(C={}));var F=function(z,G,W,$){var ae,xe=arguments.length,me=xe<3?G:$===null?$=Object.getOwnPropertyDescriptor(G,W):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(z,G,W,$);else for(var Pe=z.length-1;Pe>=0;Pe--)(ae=z[Pe])&&(me=(xe<3?ae(me):xe>3?ae(G,W,me):ae(G,W))||me);return xe>3&&me&&Object.defineProperty(G,W,me),me};(function(){function z(G,W){var $=this;Object(d.G)(function(){$.current=W,$.subscription=G.subscribe($)})}z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(G){this.current=G},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(G){this.current=G,this.dispose()},F([d.C.ref],z.prototype,"current",void 0),F([d.k.bound],z.prototype,"next",null),F([d.k.bound],z.prototype,"complete",null),F([d.k.bound],z.prototype,"error",null)})();var Y=function(){return Y=Object.assign||function(z){for(var G,W=1,$=arguments.length;W<$;W++)for(var ae in G=arguments[W])Object.prototype.hasOwnProperty.call(G,ae)&&(z[ae]=G[ae]);return z},Y.apply(this,arguments)},V=function(z,G,W,$){var ae,xe=arguments.length,me=xe<3?G:$===null?$=Object.getOwnPropertyDescriptor(G,W):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(z,G,W,$);else for(var Pe=z.length-1;Pe>=0;Pe--)(ae=z[Pe])&&(me=(xe<3?ae(me):xe>3?ae(G,W,me):ae(G,W))||me);return xe>3&&me&&Object.defineProperty(G,W,me),me},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(G){var W=this;this.model=G,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function($){return W.localValues.has($)},v(Object(d.A)(G),"createViewModel expects an observable object"),M(G).forEach(function($){if($!==d.a&&$!=="__mobxDidRunLazyInitializers"){if(v(te.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(d.w)(G,$)){var ae=Object(d.h)(G,$).derivation;W.localComputedValues.set($,Object(d.m)(ae.bind(W)))}var xe=Object.getOwnPropertyDescriptor(G,$),me=xe?{enumerable:xe.enumerable}:{};Object.defineProperty(W,$,Y(Y({},me),{configurable:!0,get:function(){return Object(d.w)(G,$)?W.localComputedValues.get($).get():W.isPropertyDirty($)?W.localValues.get($):W.model[$]},set:Object(d.k)(function(Pe){Pe!==W.model[$]?W.localValues.set($,Pe):W.localValues.delete($)})}))}})}Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var G=this;Object(d.B)(this.localValues).forEach(function(W){var $=G.localValues.get(W),ae=G.model[W];Object(d.y)(ae)?ae.replace($):Object(d.z)(ae)?(ae.clear(),ae.merge($)):Object(d.v)($)||(G.model[W]=$)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(G){this.localValues.delete(G)},V([d.m],z.prototype,"isDirty",null),V([d.m],z.prototype,"changedValues",null),V([d.k.bound],z.prototype,"submit",null),V([d.k.bound],z.prototype,"reset",null),V([d.k.bound],z.prototype,"resetProperty",null)})();function ie(z){if(!z)return"ROOT";for(var G=[];z.parent;)G.push(z.path),z=z.parent;return G.reverse().join("/")}function re(z){return Object(d.A)(z)||Object(d.y)(z)||Object(d.z)(z)}function J(z,G){var W=new WeakMap;function $(me){var Pe=W.get(me.object);(function(Be,Se){switch(Be.type){case"add":ae(Be.newValue,Se,Be.name);break;case"update":xe(Be.oldValue),ae(Be.newValue,Se,Be.name||""+Be.index);break;case"remove":case"delete":xe(Be.oldValue);break;case"splice":Be.removed.map(xe),Be.added.forEach(function(Ae,Ue){return ae(Ae,Se,""+(Be.index+Ue))});for(var ye=Be.index+Be.addedCount;ye<Be.object.length;ye++)if(re(Be.object[ye])){var je=W.get(Be.object[ye]);je&&(je.path=""+ye)}}})(me,Pe),G(me,ie(Pe),z)}function ae(me,Pe,Be){if(re(me)){var Se=W.get(me);if(Se){if(Se.parent!==Pe||Se.path!==Be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ie(Pe)+"/"+Be+"', but it already exists at '"+ie(Se.parent)+"/"+Se.path+"'")}else{var ye={parent:Pe,path:Be,dispose:Object(d.D)(me,$)};W.set(me,ye),Object(d.p)(me).forEach(function(je){var Ae=je[0];return ae(je[1],ye,Ae)})}}}function xe(me){if(re(me)){var Pe=W.get(me);if(!Pe)return;W.delete(me),Pe.dispose(),Object(d.L)(me).forEach(xe)}}return ae(z,void 0,""),function(){xe(z)}}var Z,H=(Z=function(z,G){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,$){W.__proto__=$}||function(W,$){for(var ae in $)$.hasOwnProperty(ae)&&(W[ae]=$[ae])},Z(z,G)},function(z,G){function W(){this.constructor=z}Z(z,G),z.prototype=G===null?Object.create(G):(W.prototype=G.prototype,new W)});(function(z){function G(W,$,ae){var xe=ae===void 0?{}:ae,me=xe.name,Pe=me===void 0?"ogm"+(1e3*Math.random()|0):me,Be=xe.keyToName,Se=Be===void 0?function(Ae){return""+Ae}:Be,ye=z.call(this)||this;ye._keyToName=Se,ye._groupBy=$,ye._ogmInfoKey=Symbol("ogmInfo"+Pe),ye._base=W;for(var je=0;je<W.length;je++)ye._addItem(W[je]);return ye._disposeBaseObserver=Object(d.D)(ye._base,function(Ae){if(Ae.type==="splice")Object(d.J)(function(){for(var Ue=0,nt=Ae.removed;Ue<nt.length;Ue++){var Ot=nt[Ue];ye._removeItem(Ot)}for(var We=0,Ze=Ae.added;We<Ze.length;We++){var vt=Ze[We];ye._addItem(vt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ye._removeItem(Ae.oldValue),ye._addItem(Ae.newValue)})}}),ye}H(G,z),G.prototype.clear=function(){throw new Error("not supported")},G.prototype.delete=function(W){throw new Error("not supported")},G.prototype.set=function(W,$){throw new Error("not supported")},G.prototype.dispose=function(){this._disposeBaseObserver();for(var W=0;W<this._base.length;W++){var $=this._base[W];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},G.prototype._getGroupArr=function(W){var $=z.prototype.get.call(this,W);return $===void 0&&($=Object(d.C)([],{name:"GroupArray["+this._keyToName(W)+"]",deep:!1}),z.prototype.set.call(this,W,$)),$},G.prototype._removeFromGroupArr=function(W,$){var ae=z.prototype.get.call(this,W);ae.length===1?z.prototype.delete.call(this,W):($===ae.length-1||(ae[$]=ae[ae.length-1],ae[$][this._ogmInfoKey].groupArrIndex=$),ae.length--)},G.prototype._addItem=function(W){var $=this,ae=this._groupBy(W),xe=this._getGroupArr(ae),me={groupByValue:ae,groupArrIndex:xe.length,reaction:Object(d.F)(function(){return $._groupBy(W)},function(Pe,Be){var Se=W[$._ogmInfoKey];$._removeFromGroupArr(Se.groupByValue,Se.groupArrIndex);var ye=$._getGroupArr(Pe),je=ye.length;ye.push(W),Se.groupByValue=Pe,Se.groupArrIndex=je})};Object.defineProperty(W,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:me}),xe.push(W)},G.prototype._removeItem=function(W){var $=W[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete W[this._ogmInfoKey]}})(d.b),function(){function z(G,W){this.base=G,this.args=W,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=G,ae=0;ae<this.args.length-1&&($=$.get(W[ae]));ae++)this.closest=$;this.closestIdx=ae}return z.prototype.exists=function(){this.assertNotDisposed();var G=this.args.length;return this.closestIdx>=G-1&&this.closest.has(this.args[G-1])},z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},z.prototype.set=function(G){this.assertNotDisposed();for(var W=this.args.length,$=this.closest,ae=this.closestIdx;ae<W-1;ae++){var xe=new Map;$.set(this.args[ae],xe),$=xe}this.closestIdx=W-1,this.closest=$,$.set(this.args[W-1],G)},z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var G=this.args.length;this.closest.delete(this.args[G-1]);for(var W=this.root,$=[W],ae=0;ae<G-1;ae++)W=W.get(this.args[ae]),$.push(W);for(ae=$.length-1;ae>0;ae--)$[ae].size===0&&$[ae-1].delete(this.args[ae-1]);this.isDisposed=!0},z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},z}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,o(163))},function(s,f,o){var p;(function(d,O,v){if(d){for(var E,M={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},R=1;R<20;++R)M[111+R]="f"+R;for(R=0;R<=9;++R)M[R+96]=R.toString();re.prototype.bind=function(J,Z,H){var z=this;return J=J instanceof Array?J:[J],z._bindMultiple.call(z,J,Z,H),z},re.prototype.unbind=function(J,Z){return this.bind.call(this,J,function(){},Z)},re.prototype.trigger=function(J,Z){var H=this;return H._directMap[J+":"+Z]&&H._directMap[J+":"+Z]({},J),H},re.prototype.reset=function(){var J=this;return J._callbacks={},J._directMap={},J},re.prototype.stopCallback=function(J,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||ie(Z,this.target))return!1;if("composedPath"in J&&typeof J.composedPath=="function"){var H=J.composedPath()[0];H!==J.target&&(Z=H)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},re.prototype.handleKey=function(){var J=this;return J._handleKey.apply(J,arguments)},re.addKeycodes=function(J){for(var Z in J)J.hasOwnProperty(Z)&&(M[Z]=J[Z]);E=null},re.init=function(){var J=re(O);for(var Z in J)Z.charAt(0)!=="_"&&(re[Z]=function(H){return function(){return J[H].apply(J,arguments)}}(Z))},re.init(),d.Mousetrap=re,s.exports&&(s.exports=re),(p=function(){return re}.call(f,o,f,s))===void 0||(s.exports=p)}function C(J,Z,H){J.addEventListener?J.addEventListener(Z,H,!1):J.attachEvent("on"+Z,H)}function F(J){if(J.type=="keypress"){var Z=String.fromCharCode(J.which);return J.shiftKey||(Z=Z.toLowerCase()),Z}return M[J.which]?M[J.which]:P[J.which]?P[J.which]:String.fromCharCode(J.which).toLowerCase()}function Y(J){return J=="shift"||J=="ctrl"||J=="alt"||J=="meta"}function V(J,Z,H){return H||(H=function(){if(!E)for(var z in E={},M)z>95&&z<112||M.hasOwnProperty(z)&&(E[M[z]]=z);return E}()[J]?"keydown":"keypress"),H=="keypress"&&Z.length&&(H="keydown"),H}function te(J,Z){var H,z,G,W=[];for(H=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(J),G=0;G<H.length;++G)z=H[G],k[z]&&(z=k[z]),Z&&Z!="keypress"&&T[z]&&(z=T[z],W.push("shift")),Y(z)&&W.push(z);return{key:z,modifiers:W,action:Z=V(z,W,Z)}}function ie(J,Z){return J!==null&&J!==O&&(J===Z||ie(J.parentNode,Z))}function re(J){var Z=this;if(J=J||O,!(Z instanceof re))return new re(J);Z.target=J,Z._callbacks={},Z._directMap={};var H,z={},G=!1,W=!1,$=!1;function ae(ye){ye=ye||{};var je,Ae=!1;for(je in z)ye[je]?Ae=!0:z[je]=0;Ae||($=!1)}function xe(ye,je,Ae,Ue,nt,Ot){var We,Ze,vt,ce,ue=[],he=Ae.type;if(!Z._callbacks[ye])return[];for(he=="keyup"&&Y(ye)&&(je=[ye]),We=0;We<Z._callbacks[ye].length;++We)if(Ze=Z._callbacks[ye][We],(Ue||!Ze.seq||z[Ze.seq]==Ze.level)&&he==Ze.action&&(he=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(vt=je,ce=Ze.modifiers,vt.sort().join(",")===ce.sort().join(",")))){var Te=!Ue&&Ze.combo==nt,He=Ue&&Ze.seq==Ue&&Ze.level==Ot;(Te||He)&&Z._callbacks[ye].splice(We,1),ue.push(Ze)}return ue}function me(ye,je,Ae,Ue){Z.stopCallback(je,je.target||je.srcElement,Ae,Ue)||ye(je,Ae)===!1&&(function(nt){nt.preventDefault?nt.preventDefault():nt.returnValue=!1}(je),function(nt){nt.stopPropagation?nt.stopPropagation():nt.cancelBubble=!0}(je))}function Pe(ye){typeof ye.which!="number"&&(ye.which=ye.keyCode);var je=F(ye);je&&(ye.type!="keyup"||G!==je?Z.handleKey(je,function(Ae){var Ue=[];return Ae.shiftKey&&Ue.push("shift"),Ae.altKey&&Ue.push("alt"),Ae.ctrlKey&&Ue.push("ctrl"),Ae.metaKey&&Ue.push("meta"),Ue}(ye),ye):G=!1)}function Be(ye,je,Ae,Ue){function nt(vt){return function(){$=vt,++z[ye],clearTimeout(H),H=setTimeout(ae,1e3)}}function Ot(vt){me(Ae,vt,ye),Ue!=="keyup"&&(G=F(vt)),setTimeout(ae,10)}z[ye]=0;for(var We=0;We<je.length;++We){var Ze=We+1===je.length?Ot:nt(Ue||te(je[We+1]).action);Se(je[We],Ze,Ue,ye,We)}}function Se(ye,je,Ae,Ue,nt){Z._directMap[ye+":"+Ae]=je;var Ot,We=(ye=ye.replace(/\s+/g," ")).split(" ");We.length>1?Be(ye,We,je,Ae):(Ot=te(ye,Ae),Z._callbacks[Ot.key]=Z._callbacks[Ot.key]||[],xe(Ot.key,Ot.modifiers,{type:Ot.action},Ue,ye,nt),Z._callbacks[Ot.key][Ue?"unshift":"push"]({callback:je,modifiers:Ot.modifiers,action:Ot.action,seq:Ue,level:nt,combo:ye}))}Z._handleKey=function(ye,je,Ae){var Ue,nt=xe(ye,je,Ae),Ot={},We=0,Ze=!1;for(Ue=0;Ue<nt.length;++Ue)nt[Ue].seq&&(We=Math.max(We,nt[Ue].level));for(Ue=0;Ue<nt.length;++Ue)if(nt[Ue].seq){if(nt[Ue].level!=We)continue;Ze=!0,Ot[nt[Ue].seq]=1,me(nt[Ue].callback,Ae,nt[Ue].combo,nt[Ue].seq)}else Ze||me(nt[Ue].callback,Ae,nt[Ue].combo);var vt=Ae.type=="keypress"&&W;Ae.type!=$||Y(ye)||vt||ae(Ot),W=Ze&&Ae.type=="keydown"},Z._bindMultiple=function(ye,je,Ae){for(var Ue=0;Ue<ye.length;++Ue)Se(ye[Ue],je,Ae)},C(J,"keypress",Pe),C(J,"keydown",Pe),C(J,"keyup",Pe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,f,o){var p=o(7),d=o(34),O=o(30),v=o(33),E=p.TypeError;s.exports=function(M,P){var T,k;if(P==="string"&&O(T=M.toString)&&!v(k=d(T,M))||O(T=M.valueOf)&&!v(k=d(T,M))||P!=="string"&&O(T=M.toString)&&!v(k=d(T,M)))return k;throw E("Can't convert object to primitive value")}},function(s,f,o){var p=o(7),d=o(30),O=o(92),v=p.WeakMap;s.exports=d(v)&&/native code/.test(O(v))},function(s,f,o){var p=o(36),d=o(38),O=o(32),v=o(41),E=o(77);s.exports=p?Object.defineProperties:function(M,P){O(M);for(var T,k=v(P),R=E(P),C=R.length,F=0;C>F;)d.f(M,T=R[F++],k[T]);return M}},function(s,f,o){var p=o(7);s.exports=p},function(s,f,o){var p=o(7),d=o(96),O=o(99),v=o(33),E=o(28)("species"),M=p.Array;s.exports=function(P){var T;return d(P)&&(T=P.constructor,(O(T)&&(T===M||d(T.prototype))||v(T)&&(T=T[E])===null)&&(T=void 0)),T===void 0?M:T}},function(s,f,o){var p=o(113),d=o(97);s.exports=p?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,f,o){var p=o(142).IteratorPrototype,d=o(60),O=o(69),v=o(78),E=o(80),M=function(){return this};s.exports=function(P,T,k,R){var C=T+" Iterator";return P.prototype=d(p,{next:O(+!R,k)}),v(P,C,!1,!0),E[C]=M,P}},function(s,f,o){var p=o(7),d=o(30),O=p.String,v=p.TypeError;s.exports=function(E){if(typeof E=="object"||d(E))return E;throw v("Can't set "+O(E)+" as a prototype")}},function(s,f,o){var p=o(16),d=o(7),O=o(15),v=o(95),E=o(42),M=o(144),P=o(117),T=o(119),k=o(30),R=o(33),C=o(18),F=o(120),Y=o(78),V=o(148);s.exports=function(te,ie,re){var J=te.indexOf("Map")!==-1,Z=te.indexOf("Weak")!==-1,H=J?"set":"add",z=d[te],G=z&&z.prototype,W=z,$={},ae=function(ye){var je=O(G[ye]);E(G,ye,ye=="add"?function(Ae){return je(this,Ae===0?0:Ae),this}:ye=="delete"?function(Ae){return!(Z&&!R(Ae))&&je(this,Ae===0?0:Ae)}:ye=="get"?function(Ae){return Z&&!R(Ae)?void 0:je(this,Ae===0?0:Ae)}:ye=="has"?function(Ae){return!(Z&&!R(Ae))&&je(this,Ae===0?0:Ae)}:function(Ae,Ue){return je(this,Ae===0?0:Ae,Ue),this})};if(v(te,!k(z)||!(Z||G.forEach&&!C(function(){new z().entries().next()}))))W=re.getConstructor(ie,te,J,H),M.enable();else if(v(te,!0)){var xe=new W,me=xe[H](Z?{}:-0,1)!=xe,Pe=C(function(){xe.has(1)}),Be=F(function(ye){new z(ye)}),Se=!Z&&C(function(){for(var ye=new z,je=5;je--;)ye[H](je,je);return!ye.has(-0)});Be||((W=ie(function(ye,je){T(ye,G);var Ae=V(new z,ye,W);return je!=null&&P(je,Ae[H],{that:Ae,AS_ENTRIES:J}),Ae})).prototype=G,G.constructor=W),(Pe||Se)&&(ae("delete"),ae("has"),J&&ae("get")),(Se||me)&&ae(H),Z&&G.clear&&delete G.clear}return $[te]=W,p({global:!0,forced:W!=z},$),Y(W,te),Z||re.setStrong(W,te,J),W}},function(s,f,o){var p=o(18),d=o(33),O=o(51),v=o(184),E=Object.isExtensible,M=p(function(){});s.exports=M||v?function(P){return!!d(P)&&(!v||O(P)!="ArrayBuffer")&&(!E||E(P))}:E},function(s,f,o){var p=o(18);s.exports=p(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(s,f,o){var p=o(18);s.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,f,o){var p=o(38).f,d=o(60),O=o(149),v=o(64),E=o(119),M=o(117),P=o(116),T=o(150),k=o(36),R=o(144).fastKey,C=o(58),F=C.set,Y=C.getterFor;s.exports={getConstructor:function(V,te,ie,re){var J=V(function(W,$){E(W,Z),F(W,{type:te,index:d(null),first:void 0,last:void 0,size:0}),k||(W.size=0),$!=null&&M($,W[re],{that:W,AS_ENTRIES:ie})}),Z=J.prototype,H=Y(te),z=function(W,$,ae){var xe,me,Pe=H(W),Be=G(W,$);return Be?Be.value=ae:(Pe.last=Be={index:me=R($,!0),key:$,value:ae,previous:xe=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=Be),xe&&(xe.next=Be),k?Pe.size++:W.size++,me!=="F"&&(Pe.index[me]=Be)),W},G=function(W,$){var ae,xe=H(W),me=R($);if(me!=="F")return xe.index[me];for(ae=xe.first;ae;ae=ae.next)if(ae.key==$)return ae};return O(Z,{clear:function(){for(var W=H(this),$=W.index,ae=W.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete $[ae.index],ae=ae.next;W.first=W.last=void 0,k?W.size=0:this.size=0},delete:function(W){var $=this,ae=H($),xe=G($,W);if(xe){var me=xe.next,Pe=xe.previous;delete ae.index[xe.index],xe.removed=!0,Pe&&(Pe.next=me),me&&(me.previous=Pe),ae.first==xe&&(ae.first=me),ae.last==xe&&(ae.last=Pe),k?ae.size--:$.size--}return!!xe},forEach:function(W){for(var $,ae=H(this),xe=v(W,arguments.length>1?arguments[1]:void 0);$=$?$.next:ae.first;)for(xe($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(W){return!!G(this,W)}}),O(Z,ie?{get:function(W){var $=G(this,W);return $&&$.value},set:function(W,$){return z(this,W===0?0:W,$)}}:{add:function(W){return z(this,W=W===0?0:W,W)}}),k&&p(Z,"size",{get:function(){return H(this).size}}),J},setStrong:function(V,te,ie){var re=te+" Iterator",J=Y(te),Z=Y(re);P(V,te,function(H,z){F(this,{type:re,target:H,state:J(H),kind:z,last:void 0})},function(){for(var H=Z(this),z=H.kind,G=H.last;G&&G.removed;)G=G.previous;return H.target&&(H.last=G=G?G.next:H.state.first)?z=="keys"?{value:G.key,done:!1}:z=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})},ie?"entries":"values",!ie,!0),T(te)}}},function(s,f,o){var p=o(79).forEach,d=o(121)("forEach");s.exports=d?[].forEach:function(O){return p(this,O,arguments.length>1?arguments[1]:void 0)}},function(s,f,o){var p=o(7),d=o(64),O=o(34),v=o(40),E=o(189),M=o(145),P=o(99),T=o(45),k=o(63),R=o(146),C=o(118),F=p.Array;s.exports=function(Y){var V=v(Y),te=P(this),ie=arguments.length,re=ie>1?arguments[1]:void 0,J=re!==void 0;J&&(re=d(re,ie>2?arguments[2]:void 0));var Z,H,z,G,W,$,ae=C(V),xe=0;if(!ae||this==F&&M(ae))for(Z=T(V),H=te?new this(Z):F(Z);Z>xe;xe++)$=J?re(V[xe],xe):V[xe],k(H,xe,$);else for(W=(G=R(V,ae)).next,H=te?new this:[];!(z=O(W,G)).done;xe++)$=J?E(G,re,[z.value,xe],!0):z.value,k(H,xe,$);return H.length=xe,H}},function(s,f,o){var p=o(32),d=o(147);s.exports=function(O,v,E,M){try{return M?v(p(E)[0],E[1]):v(E)}catch(P){d(O,"throw",P)}}},function(s,f,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var O=d(".","s");return!(O.dotAll&&O.exec(`
`)&&O.flags==="s")})},function(s,f,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var O=d("(?<a>b)","g");return O.exec("b").groups.a!=="b"||"b".replace(O,"$<a>c")!=="bc"})},function(s,f,o){var p=o(16),d=o(15),O=o(56),v=o(40),E=o(45),M=o(39),P=o(18),T=o(193),k=o(121),R=o(194),C=o(195),F=o(70),Y=o(196),V=[],te=d(V.sort),ie=d(V.push),re=P(function(){V.sort(void 0)}),J=P(function(){V.sort(null)}),Z=k("sort"),H=!P(function(){if(F)return F<70;if(!(R&&R>3)){if(C)return!0;if(Y)return Y<603;var z,G,W,$,ae="";for(z=65;z<76;z++){switch(G=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for($=0;$<47;$++)V.push({k:G+$,v:W})}for(V.sort(function(xe,me){return me.v-xe.v}),$=0;$<V.length;$++)G=V[$].k.charAt(0),ae.charAt(ae.length-1)!==G&&(ae+=G);return ae!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:re||!J||!Z||!H},{sort:function(z){z!==void 0&&O(z);var G=v(this);if(H)return z===void 0?te(G):te(G,z);var W,$,ae=[],xe=E(G);for($=0;$<xe;$++)$ in G&&ie(ae,G[$]);for(T(ae,function(me){return function(Pe,Be){return Be===void 0?-1:Pe===void 0?1:me!==void 0?+me(Pe,Be)||0:M(Pe)>M(Be)?1:-1}}(z)),W=ae.length,$=0;$<W;)G[$]=ae[$++];for(;$<xe;)delete G[$++];return G}})},function(s,f,o){var p=o(114),d=Math.floor,O=function(M,P){var T=M.length,k=d(T/2);return T<8?v(M,P):E(M,O(p(M,0,k),P),O(p(M,k),P),P)},v=function(M,P){for(var T,k,R=M.length,C=1;C<R;){for(k=C,T=M[C];k&&P(M[k-1],T)>0;)M[k]=M[--k];k!==C++&&(M[k]=T)}return M},E=function(M,P,T,k){for(var R=P.length,C=T.length,F=0,Y=0;F<R||Y<C;)M[F+Y]=F<R&&Y<C?k(P[F],T[Y])<=0?P[F++]:T[Y++]:F<R?P[F++]:T[Y++];return M};s.exports=O},function(s,f,o){var p=o(55).match(/firefox\/(\d+)/i);s.exports=!!p&&+p[1]},function(s,f,o){var p=o(55);s.exports=/MSIE|Trident/.test(p)},function(s,f,o){var p=o(55).match(/AppleWebKit\/(\d+)\./);s.exports=!!p&&+p[1]},function(s,f,o){var p=o(7),d=o(159),O=p.TypeError;s.exports=function(v){if(d(v))throw O("The method doesn't accept regular expressions");return v}},function(s,f,o){var p=o(28)("match");s.exports=function(d){var O=/./;try{"/./"[d](O)}catch(v){try{return O[p]=!1,"/./"[d](O)}catch(E){}}return!1}},function(s,f,o){o(16)({target:"Number",stat:!0},{isNaN:function(p){return p!=p}})},function(s,f,o){var p=o(73).PROPER,d=o(18),O=o(162);s.exports=function(v){return d(function(){return!!O[v]()||"​᠎"[v]()!=="​᠎"||p&&O[v].name!==v})}},function(s,f,o){var p=o(15),d=o(40),O=Math.floor,v=p("".charAt),E=p("".replace),M=p("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;s.exports=function(k,R,C,F,Y,V){var te=C+k.length,ie=F.length,re=T;return Y!==void 0&&(Y=d(Y),re=P),E(V,re,function(J,Z){var H;switch(v(Z,0)){case"$":return"$";case"&":return k;case"`":return M(R,0,C);case"'":return M(R,te);case"<":H=Y[M(Z,1,-1)];break;default:var z=+Z;if(z===0)return J;if(z>ie){var G=O(z/10);return G===0?J:G<=ie?F[G-1]===void 0?v(Z,1):F[G-1]+v(Z,1):J}H=F[z-1]}return H===void 0?"":H})}},function(s,f,o){var p=o(36),d=o(15),O=o(34),v=o(18),E=o(77),M=o(112),P=o(84),T=o(40),k=o(85),R=Object.assign,C=Object.defineProperty,F=d([].concat);s.exports=!R||v(function(){if(p&&R({b:1},R(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Y={},V={},te=Symbol(),ie="abcdefghijklmnopqrst";return Y[te]=7,ie.split("").forEach(function(re){V[re]=re}),R({},Y)[te]!=7||E(R({},V)).join("")!=ie})?function(Y,V){for(var te=T(Y),ie=arguments.length,re=1,J=M.f,Z=P.f;ie>re;)for(var H,z=k(arguments[re++]),G=J?F(E(z),J(z)):E(z),W=G.length,$=0;W>$;)H=G[$++],p&&!O(Z,z,H)||(te[H]=z[H]);return te}:R},function(s,f,o){var p=o(7),d=o(15),O=o(56),v=o(33),E=o(35),M=o(98),P=p.Function,T=d([].concat),k=d([].join),R={},C=function(F,Y,V){if(!E(R,Y)){for(var te=[],ie=0;ie<Y;ie++)te[ie]="a["+ie+"]";R[Y]=P("C,a","return new C("+k(te,",")+")")}return R[Y](F,V)};s.exports=P.bind||function(F){var Y=O(this),V=Y.prototype,te=M(arguments,1),ie=function(){var re=T(te,M(arguments));return this instanceof ie?C(Y,re.length,re):Y.apply(F,re)};return v(V)&&(ie.prototype=V),ie}},function(s,f,o){var p=o(35);s.exports=function(d){return d!==void 0&&(p(d,"value")||p(d,"writable"))}},function(s,f,o){var p=o(15),d=o(44),O=o(39),v=/"/g,E=p("".replace);s.exports=function(M,P,T,k){var R=O(d(M)),C="<"+P;return T!==""&&(C+=" "+T+'="'+E(O(k),v,"&quot;")+'"'),C+">"+R+"</"+P+">"}},function(s,f,o){var p=o(18);s.exports=function(d){return p(function(){var O=""[d]('"');return O!==O.toLowerCase()||O.split('"').length>3})}},function(s,f,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(s,f,o){var p,d,O,v,E=o(16),M=o(71),P=o(7),T=o(46),k=o(34),R=o(209),C=o(42),F=o(149),Y=o(102),V=o(78),te=o(150),ie=o(56),re=o(30),J=o(33),Z=o(119),H=o(92),z=o(117),G=o(120),W=o(164),$=o(168).set,ae=o(210),xe=o(213),me=o(214),Pe=o(170),Be=o(215),Se=o(58),ye=o(95),je=o(28),Ae=o(216),Ue=o(128),nt=o(70),Ot=je("species"),We="Promise",Ze=Se.getterFor(We),vt=Se.set,ce=Se.getterFor(We),ue=R&&R.prototype,he=R,Te=ue,He=P.TypeError,Le=P.document,wt=P.process,kt=Pe.f,St=kt,yt=!!(Le&&Le.createEvent&&P.dispatchEvent),Me=re(P.PromiseRejectionEvent),st="unhandledrejection",fe=!1,at=ye(We,function(){var oe=H(he),be=oe!==String(he);if(!be&&nt===66||M&&!Te.finally)return!0;if(nt>=51&&/native code/.test(oe))return!1;var Ve=new he(function(ft){ft(1)}),Ke=function(ft){ft(function(){},function(){})};return(Ve.constructor={})[Ot]=Ke,!(fe=Ve.then(function(){})instanceof Ke)||!be&&Ae&&!Me}),It=at||!G(function(oe){he.all(oe).catch(function(){})}),on=function(oe){var be;return!(!J(oe)||!re(be=oe.then))&&be},Lt=function(oe,be){if(!oe.notified){oe.notified=!0;var Ve=oe.reactions;ae(function(){for(var Ke=oe.value,ft=oe.state==1,Gt=0;Ve.length>Gt;){var Xn,Jn,Cn,zn=Ve[Gt++],ut=ft?zn.ok:zn.fail,mt=zn.resolve,Et=zn.reject,Nt=zn.domain;try{ut?(ft||(oe.rejection===2&&Dt(oe),oe.rejection=1),ut===!0?Xn=Ke:(Nt&&Nt.enter(),Xn=ut(Ke),Nt&&(Nt.exit(),Cn=!0)),Xn===zn.promise?Et(He("Promise-chain cycle")):(Jn=on(Xn))?k(Jn,Xn,mt,Et):mt(Xn)):Et(Ke)}catch(ln){Nt&&!Cn&&Nt.exit(),Et(ln)}}oe.reactions=[],oe.notified=!1,be&&!oe.rejection&&dn(oe)})}},qt=function(oe,be,Ve){var Ke,ft;yt?((Ke=Le.createEvent("Event")).promise=be,Ke.reason=Ve,Ke.initEvent(oe,!1,!0),P.dispatchEvent(Ke)):Ke={promise:be,reason:Ve},!Me&&(ft=P["on"+oe])?ft(Ke):oe===st&&me("Unhandled promise rejection",Ve)},dn=function(oe){k($,P,function(){var be,Ve=oe.facade,Ke=oe.value;if(bn(oe)&&(be=Be(function(){Ue?wt.emit("unhandledRejection",Ke,Ve):qt(st,Ve,Ke)}),oe.rejection=Ue||bn(oe)?2:1,be.error))throw be.value})},bn=function(oe){return oe.rejection!==1&&!oe.parent},Dt=function(oe){k($,P,function(){var be=oe.facade;Ue?wt.emit("rejectionHandled",be):qt("rejectionhandled",be,oe.value)})},Nn=function(oe,be,Ve){return function(Ke){oe(be,Ke,Ve)}},Q=function(oe,be,Ve){oe.done||(oe.done=!0,Ve&&(oe=Ve),oe.value=be,oe.state=2,Lt(oe,!0))},de=function(oe,be,Ve){if(!oe.done){oe.done=!0,Ve&&(oe=Ve);try{if(oe.facade===be)throw He("Promise can't be resolved itself");var Ke=on(be);Ke?ae(function(){var ft={done:!1};try{k(Ke,be,Nn(de,ft,oe),Nn(Q,ft,oe))}catch(Gt){Q(ft,Gt,oe)}}):(oe.value=be,oe.state=1,Lt(oe,!1))}catch(ft){Q({done:!1},ft,oe)}}};if(at&&(Te=(he=function(oe){Z(this,Te),ie(oe),k(p,this);var be=Ze(this);try{oe(Nn(de,be),Nn(Q,be))}catch(Ve){Q(be,Ve)}}).prototype,(p=function(oe){vt(this,{type:We,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=F(Te,{then:function(oe,be){var Ve=ce(this),Ke=Ve.reactions,ft=kt(W(this,he));return ft.ok=!re(oe)||oe,ft.fail=re(be)&&be,ft.domain=Ue?wt.domain:void 0,Ve.parent=!0,Ke[Ke.length]=ft,Ve.state!=0&&Lt(Ve,!1),ft.promise},catch:function(oe){return this.then(void 0,oe)}}),d=function(){var oe=new p,be=Ze(oe);this.promise=oe,this.resolve=Nn(de,be),this.reject=Nn(Q,be)},Pe.f=kt=function(oe){return oe===he||oe===O?new d(oe):St(oe)},!M&&re(R)&&ue!==Object.prototype)){v=ue.then,fe||(C(ue,"then",function(oe,be){var Ve=this;return new he(function(Ke,ft){k(v,Ve,Ke,ft)}).then(oe,be)},{unsafe:!0}),C(ue,"catch",Te.catch,{unsafe:!0}));try{delete ue.constructor}catch(oe){}Y&&Y(ue,Te)}E({global:!0,wrap:!0,forced:at},{Promise:he}),V(he,We,!1,!0),te(We),O=T(We),E({target:We,stat:!0,forced:at},{reject:function(oe){var be=kt(this);return k(be.reject,void 0,oe),be.promise}}),E({target:We,stat:!0,forced:M||at},{resolve:function(oe){return xe(M&&this===O?he:this,oe)}}),E({target:We,stat:!0,forced:It},{all:function(oe){var be=this,Ve=kt(be),Ke=Ve.resolve,ft=Ve.reject,Gt=Be(function(){var Xn=ie(be.resolve),Jn=[],Cn=0,zn=1;z(oe,function(ut){var mt=Cn++,Et=!1;zn++,k(Xn,be,ut).then(function(Nt){Et||(Et=!0,Jn[mt]=Nt,--zn||Ke(Jn))},ft)}),--zn||Ke(Jn)});return Gt.error&&ft(Gt.value),Ve.promise},race:function(oe){var be=this,Ve=kt(be),Ke=Ve.reject,ft=Be(function(){var Gt=ie(be.resolve);z(oe,function(Xn){k(Gt,be,Xn).then(Ve.resolve,Ke)})});return ft.error&&Ke(ft.value),Ve.promise}})},function(s,f,o){var p=o(7);s.exports=p.Promise},function(s,f,o){var p,d,O,v,E,M,P,T,k=o(7),R=o(64),C=o(50).f,F=o(168).set,Y=o(169),V=o(211),te=o(212),ie=o(128),re=k.MutationObserver||k.WebKitMutationObserver,J=k.document,Z=k.process,H=k.Promise,z=C(k,"queueMicrotask"),G=z&&z.value;G||(p=function(){var W,$;for(ie&&(W=Z.domain)&&W.exit();d;){$=d.fn,d=d.next;try{$()}catch(ae){throw d?v():O=void 0,ae}}O=void 0,W&&W.enter()},Y||ie||te||!re||!J?!V&&H&&H.resolve?((P=H.resolve(void 0)).constructor=H,T=R(P.then,P),v=function(){T(p)}):ie?v=function(){Z.nextTick(p)}:(F=R(F,k),v=function(){F(p)}):(E=!0,M=J.createTextNode(""),new re(p).observe(M,{characterData:!0}),v=function(){M.data=E=!E})),s.exports=G||function(W){var $={fn:W,next:void 0};O&&(O.next=$),d||(d=$,v()),O=$}},function(s,f,o){var p=o(55),d=o(7);s.exports=/ipad|iphone|ipod/i.test(p)&&d.Pebble!==void 0},function(s,f,o){var p=o(55);s.exports=/web0s(?!.*chrome)/i.test(p)},function(s,f,o){var p=o(32),d=o(33),O=o(170);s.exports=function(v,E){if(p(v),d(E)&&E.constructor===v)return E;var M=O.f(v);return(0,M.resolve)(E),M.promise}},function(s,f,o){var p=o(7);s.exports=function(d,O){var v=p.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,O))}},function(s,f){s.exports=function(o){try{return{error:!1,value:o()}}catch(p){return{error:!0,value:p}}}},function(s,f){s.exports=typeof window=="object"},function(s,f,o){var p=o(40),d=o(75),O=o(45);s.exports=function(v){for(var E=p(this),M=O(E),P=arguments.length,T=d(P>1?arguments[1]:void 0,M),k=P>2?arguments[2]:void 0,R=k===void 0?M:d(k,M);R>T;)E[T++]=v;return E}},function(s,f,o){var p=o(16),d=o(7),O=o(15),v=o(59),E=o(160),M=o(219),P=o(18),T=d.RangeError,k=d.String,R=Math.floor,C=O(M),F=O("".slice),Y=O(1 .toFixed),V=function(J,Z,H){return Z===0?H:Z%2==1?V(J,Z-1,H*J):V(J*J,Z/2,H)},te=function(J,Z,H){for(var z=-1,G=H;++z<6;)G+=Z*J[z],J[z]=G%1e7,G=R(G/1e7)},ie=function(J,Z){for(var H=6,z=0;--H>=0;)z+=J[H],J[H]=R(z/Z),z=z%Z*1e7},re=function(J){for(var Z=6,H="";--Z>=0;)if(H!==""||Z===0||J[Z]!==0){var z=k(J[Z]);H=H===""?z:H+C("0",7-z.length)+z}return H};p({target:"Number",proto:!0,forced:P(function(){return Y(8e-5,3)!=="0.000"||Y(.9,0)!=="1"||Y(1.255,2)!=="1.25"||Y(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!P(function(){Y({})})},{toFixed:function(J){var Z,H,z,G,W=E(this),$=v(J),ae=[0,0,0,0,0,0],xe="",me="0";if($<0||$>20)throw T("Incorrect fraction digits");if(W!=W)return"NaN";if(W<=-1e21||W>=1e21)return k(W);if(W<0&&(xe="-",W=-W),W>1e-21)if(H=(Z=function(Pe){for(var Be=0,Se=Pe;Se>=4096;)Be+=12,Se/=4096;for(;Se>=2;)Be+=1,Se/=2;return Be}(W*V(2,69,1))-69)<0?W*V(2,-Z,1):W/V(2,Z,1),H*=4503599627370496,(Z=52-Z)>0){for(te(ae,0,H),z=$;z>=7;)te(ae,1e7,0),z-=7;for(te(ae,V(10,z,1),0),z=Z-1;z>=23;)ie(ae,1<<23),z-=23;ie(ae,1<<z),te(ae,1,1),ie(ae,2),me=re(ae)}else te(ae,0,H),te(ae,1<<-Z,0),me=re(ae)+C("0",$);return me=$>0?xe+((G=me.length)<=$?"0."+C("0",$-G)+me:F(me,0,G-$)+"."+F(me,G-$)):xe+me}})},function(s,f,o){var p=o(7),d=o(59),O=o(39),v=o(44),E=p.RangeError;s.exports=function(M){var P=O(v(this)),T="",k=d(M);if(k<0||k==1/0)throw E("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(P+=P))1&k&&(T+=P);return T}},function(s,f,o){var p=o(36),d=o(15),O=o(77),v=o(41),E=d(o(84).f),M=d([].push),P=function(T){return function(k){for(var R,C=v(k),F=O(C),Y=F.length,V=0,te=[];Y>V;)R=F[V++],p&&!E(C,R)||M(te,T?[R,C[R]]:C[R]);return te}};s.exports={entries:P(!0),values:P(!1)}},function(s,f){s.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(s,f,o){o.r(f),o.d(f,"observer",function(){return ai}),o.d(f,"LogicFlow",function(){return Yv}),o.d(f,"h",function(){return fe.g}),o.d(f,"LogicFlowUtil",function(){return p}),o.d(f,"BaseNode",function(){return qi}),o.d(f,"RectNode",function(){return Iy}),o.d(f,"CircleNode",function(){return Fy}),o.d(f,"PolygonNode",function(){return Yy}),o.d(f,"DiamondNode",function(){return $y}),o.d(f,"EllipseNode",function(){return ev}),o.d(f,"TextNode",function(){return rv}),o.d(f,"HtmlNode",function(){return uv}),o.d(f,"BaseEdge",function(){return ql}),o.d(f,"LineEdge",function(){return Ov}),o.d(f,"PolylineEdge",function(){return jv}),o.d(f,"BezierEdge",function(){return kv}),o.d(f,"Arrow",function(){return Nw}),o.d(f,"BaseEdgeModel",function(){return pl}),o.d(f,"BezierEdgeModel",function(){return Gh}),o.d(f,"LineEdgeModel",function(){return Uc}),o.d(f,"PolylineEdgeModel",function(){return to}),o.d(f,"BaseNodeModel",function(){return $i}),o.d(f,"CircleNodeModel",function(){return Kh}),o.d(f,"DiamondNodeModel",function(){return Qh}),o.d(f,"EllipseNodeModel",function(){return ry}),o.d(f,"PolygonNodeModel",function(){return sy}),o.d(f,"RectNodeModel",function(){return dy}),o.d(f,"TextNodeModel",function(){return gy}),o.d(f,"HtmlNodeModel",function(){return _y}),o.d(f,"EditConfigModel",function(){return Is}),o.d(f,"GraphModel",function(){return gg}),o.d(f,"SnaplineModel",function(){return eb}),o.d(f,"Keyboard",function(){return Fb}),o.d(f,"get",function(){return Fg}),o.d(f,"defaults",function(){return Gg}),o.d(f,"ElementState",function(){return sn}),o.d(f,"ModelType",function(){return Yt}),o.d(f,"ElementType",function(){return Bn}),o.d(f,"EventType",function(){return pt}),o.d(f,"formateAnchorConnectValidateData",function(){return Sa});var p={};o.r(p),o.d(p,"createUuid",function(){return qo}),o.d(p,"refreshGraphId",function(){return Qd}),o.d(p,"StepDrag",function(){return no}),o.d(p,"setupEdgeModel",function(){return up}),o.d(p,"isBboxOverLapping",function(){return No}),o.d(p,"filterRepeatPoints",function(){return Ut}),o.d(p,"getSimplePolyline",function(){return cp}),o.d(p,"getExpandedBBox",function(){return dr}),o.d(p,"pointDirection",function(){return xl}),o.d(p,"getExpandedBBoxPoint",function(){return nn}),o.d(p,"mergeBBox",function(){return El}),o.d(p,"getBBoxOfPoints",function(){return Xi}),o.d(p,"getPointsFromBBox",function(){return bi}),o.d(p,"isPointOutsideBBox",function(){return ju}),o.d(p,"getBBoxXCrossPoints",function(){return sp}),o.d(p,"getBBoxYCrossPoints",function(){return lp}),o.d(p,"getBBoxCrossPointsByPoint",function(){return fp}),o.d(p,"estimateDistance",function(){return Ta}),o.d(p,"costByPoints",function(){return Wc}),o.d(p,"heuristicCostEstimate",function(){return Sl}),o.d(p,"rebuildPath",function(){return pp}),o.d(p,"removeClosePointFromOpenList",function(){return dp}),o.d(p,"isSegmentsIntersected",function(){return Tn}),o.d(p,"isSegmentCrossingBBox",function(){return hr}),o.d(p,"getNextNeighborPoints",function(){return hp}),o.d(p,"pathFinder",function(){return jl}),o.d(p,"getBoxByOriginNode",function(){return Pl}),o.d(p,"pointFilter",function(){return Al}),o.d(p,"getPolylinePoints",function(){return Vc}),o.d(p,"getLongestEdge",function(){return Ml}),o.d(p,"isSegmentsInNode",function(){return Kc}),o.d(p,"isSegmentsCrossNode",function(){return _i}),o.d(p,"getCrossPointInRect",function(){return kl}),o.d(p,"segmentDirection",function(){return Da}),o.d(p,"points2PointsList",function(){return Jo}),o.d(p,"getSimplePoints",function(){return yp}),o.d(p,"getBytesLength",function(){return Tl}),o.d(p,"getTextWidth",function(){return lh}),o.d(p,"getAppendAttributes",function(){return gp}),o.d(p,"getBezierControlPoints",function(){return Pu}),o.d(p,"getBezierPoints",function(){return Au}),o.d(p,"getEndTangent",function(){return Nl}),o.d(p,"getClosestPointOfPolyline",function(){return ku}),o.d(p,"pickEdgeConfig",function(){return mp}),o.d(p,"twoPointDistance",function(){return Cl}),o.d(p,"createEdgeGenerator",function(){return Er}),o.d(p,"snapToGrid",function(){return yi}),o.d(p,"getGridOffset",function(){return Ec}),o.d(p,"sampleCubic",function(){return Pn}),o.d(p,"getThetaOfVector",function(){return _l}),o.d(p,"degrees",function(){return Ol}),o.d(p,"Vector",function(){return nr}),o.d(p,"Point",function(){return u}),o.d(p,"Matrix",function(){return Ro}),o.d(p,"RotateMatrix",function(){return Oi}),o.d(p,"ScaleMatrix",function(){return Bl}),o.d(p,"TranslateMatrix",function(){return Ca});var d=o(1),O=o(10);if(!O.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),E=Object(v.b)("observerBatching");function M(t){t()}var P=!1;function T(){return P}function k(t){return Object(d.t)(t)}var R,C=1e4,F=new Set;function Y(){R===void 0&&(R=setTimeout(V,1e4))}function V(){R=void 0;var t=Date.now();F.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,F.delete(e))}),F.size>0&&Y()}var te=!1,ie=[],re={};function J(t){return"observer"+t}function Z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),T();var r,a=function(x){return function(){te?ie.push(x):x()}}((n.useForceUpdate||v.d)()),i=O.d.useRef(null);if(!i.current){var c=new d.c(J(e),function(){h.mounted?a():(c.dispose(),i.current=null)}),h=function(x){return{cleanAt:Date.now()+C,reaction:x}}(c);i.current=h,r=i,F.add(r),Y()}var g=i.current.reaction;return O.d.useDebugValue(g,k),O.d.useEffect(function(){var x;return x=i,F.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new d.c(J(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){te=!0,ie=[];try{var S=x();te=!1;var D=ie.length>0?ie:void 0;return O.d.useLayoutEffect(function(){D&&D.forEach(function(I){return I()})},[D]),S}finally{te=!1}}(function(){var x,S;if(g.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},H.apply(this,arguments)};function z(t,e){var n,r,a,i=H({forwardRef:!1},e),c=t.displayName||t.name,h=function(g,x){return Z(function(){return t(g,x)},c)};return h.displayName=c,n=i.forwardRef?Object(O.f)(Object(O.e)(h)):Object(O.f)(h),r=t,a=n,Object.keys(r).forEach(function(g){G[g]||Object.defineProperty(a,g,Object.getOwnPropertyDescriptor(r,g))}),n.displayName=c,n}var G={$$typeof:!0,render:!0,compare:!0,type:!0};function W(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Z(r)}function $(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",h=typeof t[i]=="function";return c&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||h?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}W.propTypes={children:$,render:$},W.displayName="Observer";var ae;(ae=O.g)||(ae=M),Object(d.n)({reactionScheduler:ae}),Object(v.a)()[E]=!0;var xe=0,me={};function Pe(t){return me[t]||(me[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+xe+")";return xe++,n}(t)),me[t]}function Be(t,e){if(Se(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!Se(t[n[a]],e[n[a]]))return!1;return!0}function Se(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ye(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var je=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Ue(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(h){h.apply(n,a)})}}function nt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ue.call.apply(Ue,[this,t,e].concat(r))}}function Ot(t,e,n){var r=function(h,g){var x=h[je]=h[je]||{},S=x[g]=x[g]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=We(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function We(t,e,n,r,a){var i,c=nt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(h){if(this===t)c=nt(h,r);else{var g=We(this,e,n,r,h);Object.defineProperty(this,e,g)}},i.configurable=!0,i.enumerable=n,i}var Ze=d.a||"$mobx",vt=Pe("isMobXReactObserver"),ce=Pe("isUnmounted"),ue=Pe("skipRender"),he=Pe("isForcingUpdate");function Te(t){var e=t.prototype;if(t[vt]?He(e):t[vt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==O.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==wt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=wt;kt(e,"props"),kt(e,"state");var n=e.render;return e.render=function(){return Le.call(this,n)},Ot(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[Ze]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Le(t){var e=this;ye(this,ue,!1),ye(this,he,!1);var n=He(this),r=t.bind(this),a=!1,i=new d.c(n+".render()",function(){if(!a&&(a=!0,e[ce]!==!0)){var h=!0;try{ye(e,he,!0),e[ue]||O.a.prototype.forceUpdate.call(e),h=!1}finally{ye(e,he,!1),h&&i.dispose()}}});function c(){a=!1;var h=void 0,g=void 0;if(i.track(function(){try{g=Object(d.d)(!1,r)}catch(x){h=x}}),h)throw h;return g}return i.reactComponent=this,c[Ze]=i,this.render=c,c.call(this)}function wt(t,e){return this.state!==e||!Be(this.props,t)}function kt(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function a(){return this[r]||ye(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return d.f&&d.e&&(i=Object(d.f)(!0)),a.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(i),this[n]},set:function(i){this[he]||Be(this[n],i)?ye(this,n,i):(ye(this,n,i),ye(this,ue,!0),a.call(this).reportChanged(),ye(this,ue,!1))}})}var St=typeof Symbol=="function"&&Symbol.for,yt=St?Symbol.for("react.forward_ref"):typeof O.e=="function"&&Object(O.e)(function(t){return null}).$$typeof,Me=St?Symbol.for("react.memo"):typeof O.f=="function"&&Object(O.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(yt&&t.$$typeof===yt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(O.e)(function(){var n=arguments;return Object(O.c)(W,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(O.a,t)?Te(t):z(t)}if(!O.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var fe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var at=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},It=function(){this.__data__=[],this.size=0},on=function(t,e){return t===e||t!=t&&e!=e},Lt=function(t,e){for(var n=t.length;n--;)if(on(t[n][0],e))return n;return-1},qt=Array.prototype.splice,dn=function(t){var e=this.__data__,n=Lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},bn=function(t){var e=this.__data__,n=Lt(e,t);return n<0?void 0:e[n][1]},Dt=function(t){return Lt(this.__data__,t)>-1},Nn=function(t,e){var n=this.__data__,r=Lt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=It,Q.prototype.delete=dn,Q.prototype.get=bn,Q.prototype.has=Dt,Q.prototype.set=Nn;var de=Q,oe=function(){this.__data__=new de,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},ft=o(31),Gt=ft.a.Symbol,Xn=Object.prototype,Jn=Xn.hasOwnProperty,Cn=Xn.toString,zn=Gt?Gt.toStringTag:void 0,ut=function(t){var e=Jn.call(t,zn),n=t[zn];try{t[zn]=void 0;var r=!0}catch(i){}var a=Cn.call(t);return r&&(e?t[zn]=n:delete t[zn]),a},mt=Object.prototype.toString,Et=function(t){return mt.call(t)},Nt=Gt?Gt.toStringTag:void 0,ln=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Nt&&Nt in Object(t)?ut(t):Et(t)},xn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Oo,io=function(t){if(!xn(t))return!1;var e=ln(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},wo=ft.a["__core-js_shared__"],ui=(Oo=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||""))?"Symbol(src)_1."+Oo:"",Os=function(t){return!!ui&&ui in t},Ya=Function.prototype.toString,Ir=function(t){if(t!=null){try{return Ya.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ki=/^\[object .+?Constructor\]$/,lt=Function.prototype,ws=Object.prototype,Wa=lt.toString,Va=ws.hasOwnProperty,vr=RegExp("^"+Wa.call(Va).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pr=function(t){return!(!xn(t)||Os(t))&&(io(t)?vr:ki).test(Ir(t))},ta=function(t,e){return t==null?void 0:t[e]},$r=function(t,e){var n=ta(t,e);return Pr(n)?n:void 0},Lr=$r(ft.a,"Map"),qr=$r(Object,"create"),Ka=function(){this.__data__=qr?qr(null):{},this.size=0},$a=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qu=Object.prototype.hasOwnProperty,Ti=function(t){var e=this.__data__;if(qr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return qu.call(e,t)?e[t]:void 0},Zu=Object.prototype.hasOwnProperty,qa=function(t){var e=this.__data__;return qr?e[t]!==void 0:Zu.call(e,t)},xs=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qr&&e===void 0?"__lodash_hash_undefined__":e,this};function Bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bo.prototype.clear=Ka,Bo.prototype.delete=$a,Bo.prototype.get=Ti,Bo.prototype.has=qa,Bo.prototype.set=xs;var Ju=Bo,xo=function(){this.size=0,this.__data__={hash:new Ju,map:new(Lr||de),string:new Ju}},Za=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},na=function(t,e){var n=t.__data__;return Za(e)?n[typeof e=="string"?"string":"hash"]:n.map},Ja=function(t){var e=na(this,t).delete(t);return this.size-=e?1:0,e},Qa=function(t){return na(this,t).get(t)},Es=function(t){return na(this,t).has(t)},Qu=function(t,e){var n=na(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function cn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cn.prototype.clear=xo,cn.prototype.delete=Ja,cn.prototype.get=Qa,cn.prototype.has=Es,cn.prototype.set=Qu;var an=cn,ec=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Lr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this};function ci(t){var e=this.__data__=new de(t);this.size=e.size}ci.prototype.clear=oe,ci.prototype.delete=be,ci.prototype.get=Ve,ci.prototype.has=Ke,ci.prototype.set=ec;var Eo=ci,eu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tc=function(t){return this.__data__.has(t)};function An(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}An.prototype.add=An.prototype.push=eu,An.prototype.has=tc;var tu=An,Di=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},nu=function(t,e){return t.has(e)},ra=function(t,e,n,r,a,i){var c=1&n,h=t.length,g=e.length;if(h!=g&&!(c&&g>h))return!1;var x=i.get(t),S=i.get(e);if(x&&S)return x==e&&S==t;var D=-1,I=!0,X=2&n?new tu:void 0;for(i.set(t,e),i.set(e,t);++D<h;){var q=t[D],ee=e[D];if(r)var ge=c?r(ee,q,D,e,t,i):r(q,ee,D,t,e,i);if(ge!==void 0){if(ge)continue;I=!1;break}if(X){if(!Di(e,function(ve,we){if(!nu(X,we)&&(q===ve||a(q,ve,n,r,i)))return X.push(we)})){I=!1;break}}else if(q!==ee&&!a(q,ee,n,r,i)){I=!1;break}}return i.delete(t),i.delete(e),I},Qn=ft.a.Uint8Array,ru=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},nc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},ou=Gt?Gt.prototype:void 0,oa=ou?ou.valueOf:void 0,si=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Qn(t),new Qn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=ru;case"[object Set]":var g=1&r;if(h||(h=nc),t.size!=e.size&&!g)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var S=ra(h(t),h(e),r,a,i,c);return c.delete(t),S;case"[object Symbol]":if(oa)return oa.call(t)==oa.call(e)}return!1},So=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},vn=Array.isArray,Ss=function(t,e,n){var r=e(t);return vn(t)?r:So(r,n(t))},gr=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},js=function(){return[]},rc=Object.prototype.propertyIsEnumerable,ur=Object.getOwnPropertySymbols,zr=ur?function(t){return t==null?[]:(t=Object(t),gr(ur(t),function(e){return rc.call(t,e)}))}:js,iu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},en=function(t){return t!=null&&typeof t=="object"},Hn=function(t){return en(t)&&ln(t)=="[object Arguments]"},ia=Object.prototype,oc=ia.hasOwnProperty,au=ia.propertyIsEnumerable,aa=Hn(function(){return arguments}())?Hn:function(t){return en(t)&&oc.call(t,"callee")&&!au.call(t,"callee")},ao=aa,jo=o(48),li=/^(?:0|[1-9]\d*)$/,mr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&li.test(t))&&t>-1&&t%1==0&&t<e},Po=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var br=function(t){return en(t)&&Po(t.length)&&!!Zt[ln(t)]},uo=function(t){return function(e){return t(e)}},$n=o(49),ua=$n.a&&$n.a.isTypedArray,Ni=ua?uo(ua):br,uu=Object.prototype.hasOwnProperty,En=function(t,e){var n=vn(t),r=!n&&ao(t),a=!n&&!r&&Object(jo.a)(t),i=!n&&!r&&!a&&Ni(t),c=n||r||a||i,h=c?iu(t.length,String):[],g=h.length;for(var x in t)!e&&!uu.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||mr(x,g))||h.push(x);return h},ca=Object.prototype,Ao=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ca)},Br=function(t,e){return function(n){return t(e(n))}},cu=Br(Object.keys,Object),Ps=Object.prototype.hasOwnProperty,su=function(t){if(!Ao(t))return cu(t);var e=[];for(var n in Object(t))Ps.call(t,n)&&n!="constructor"&&e.push(n);return e},Rn=function(t){return t!=null&&Po(t.length)&&!io(t)},Ci=function(t){return Rn(t)?En(t):su(t)},co=function(t){return Ss(t,Ci,zr)},cr=Object.prototype.hasOwnProperty,lu=function(t,e,n,r,a,i){var c=1&n,h=co(t),g=h.length;if(g!=co(e).length&&!c)return!1;for(var x=g;x--;){var S=h[x];if(!(c?S in e:cr.call(e,S)))return!1}var D=i.get(t),I=i.get(e);if(D&&I)return D==e&&I==t;var X=!0;i.set(t,e),i.set(e,t);for(var q=c;++x<g;){var ee=t[S=h[x]],ge=e[S];if(r)var ve=c?r(ge,ee,S,e,t,i):r(ee,ge,S,t,e,i);if(!(ve===void 0?ee===ge||a(ee,ge,n,r,i):ve)){X=!1;break}q||(q=S=="constructor")}if(X&&!q){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(X=!1)}return i.delete(t),i.delete(e),X},Ar=$r(ft.a,"DataView"),Fo=$r(ft.a,"Promise"),sa=$r(ft.a,"Set"),so=$r(ft.a,"WeakMap"),Mr="[object Map]",_r="[object Promise]",Fr="[object Set]",lo="[object WeakMap]",Oe="[object DataView]",Ne=Ir(Ar),Re=Ir(Lr),Qe=Ir(Fo),zt=Ir(sa),Wt=Ir(so),gn=ln;(Ar&&gn(new Ar(new ArrayBuffer(1)))!=Oe||Lr&&gn(new Lr)!=Mr||Fo&&gn(Fo.resolve())!=_r||sa&&gn(new sa)!=Fr||so&&gn(new so)!=lo)&&(gn=function(t){var e=ln(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Ir(n):"";if(r)switch(r){case Ne:return Oe;case Re:return Mr;case Qe:return _r;case zt:return Fr;case Wt:return lo}return e});var _=gn,w="[object Arguments]",A="[object Array]",L="[object Object]",K=Object.prototype.hasOwnProperty,pe=function(t,e,n,r,a,i){var c=vn(t),h=vn(e),g=c?A:_(t),x=h?A:_(e),S=(g=g==w?L:g)==L,D=(x=x==w?L:x)==L,I=g==x;if(I&&Object(jo.a)(t)){if(!Object(jo.a)(e))return!1;c=!0,S=!1}if(I&&!S)return i||(i=new Eo),c||Ni(t)?ra(t,e,n,r,a,i):si(t,e,g,n,r,a,i);if(!(1&n)){var X=S&&K.call(t,"__wrapped__"),q=D&&K.call(e,"__wrapped__");if(X||q){var ee=X?t.value():t,ge=q?e.value():e;return i||(i=new Eo),a(ee,ge,n,r,i)}}return!!I&&(i||(i=new Eo),lu(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!en(e)&&!en(n)?e!=e&&n!=n:pe(e,n,r,a,t,i))},Fe=function(t,e,n,r){var a=n.length,i=a;if(t==null)return!i;for(t=Object(t);a--;){var c=n[a];if(c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<i;){var h=(c=n[a])[0],g=t[h],x=c[1];if(c[2]){if(g===void 0&&!(h in t))return!1}else{var S=new Eo,D;if(!(D===void 0?Ee(x,g,3,r,S):D))return!1}}return!0},ct=function(t){return t==t&&!xn(t)},Ht=function(t){for(var e=Ci(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,ct(a)]}return e},et=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},hn=function(t){var e=Ht(t);return e.length==1&&e[0][2]?et(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},Bt=function(t){return typeof t=="symbol"||en(t)&&ln(t)=="[object Symbol]"},tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,_n=function(t,e){if(vn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Bt(t))||Ur.test(t)||!tn.test(t)||e!=null&&t in Object(e)};function Or(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(Or.Cache||an),n}Or.Cache=an;var Mo=Or,ko=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ri=/\\(\\)?/g,fu=function(t){var e=Mo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ko,function(n,r,a,i){e.push(a?i.replace(Ri,"$1"):r||n)}),e}),Uo=Gt?Gt.prototype:void 0,la=Uo?Uo.toString:void 0,sr=function t(e){if(typeof e=="string")return e;if(vn(e))return at(e,t)+"";if(Bt(e))return la?la.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ii=function(t){return t==null?"":sr(t)},fi=function(t,e){return vn(t)?t:_n(t,e)?[t]:fu(Ii(t))},Go=function(t){if(typeof t=="string"||Bt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Xo=function(t,e){for(var n=0,r=(e=fi(e,t)).length;t!=null&&n<r;)t=t[Go(e[n++])];return n&&n==r?t:void 0},fa=function(t,e,n){var r=t==null?void 0:Xo(t,e);return r===void 0?n:r},Bd=function(t,e){return t!=null&&e in Object(t)},Fd=function(t,e,n){for(var r=-1,a=(e=fi(e,t)).length,i=!1;++r<a;){var c=Go(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&Po(a)&&mr(c,a)&&(vn(t)||ao(t))},lf=function(t,e){return t!=null&&Fd(t,e,Bd)},ic=function(t,e){return _n(t)&&ct(e)?et(Go(t),e):function(n){var r=fa(n,t);return r===void 0&&r===e?lf(n,t):Ee(e,r,3)}},pa=function(t){return t},As=function(t){return function(e){return e==null?void 0:e[t]}},Ud=function(t){return function(e){return Xo(e,t)}},ff=function(t){return _n(t)?As(Go(t)):Ud(t)},Ms=function(t){return typeof t=="function"?t:t==null?pa:typeof t=="object"?vn(t)?ic(t[0],t[1]):hn(t):ff(t)},pf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),h=c.length;h--;){var g=c[++a];if(n(i[g],g,i)===!1)break}return e}}(),qn=function(t,e){return function(n,r){if(n==null)return n;if(!Rn(n))return t(n,r);for(var a=n.length,i=-1,c=Object(n);++i<a&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&pf(t,e,Ci)}),lr=function(t,e){var n=-1,r=Rn(t)?Array(t.length):[];return qn(t,function(a,i,c){r[++n]=e(a,i,c)}),r},ac=function(t,e){return(vn(t)?at:lr)(t,Ms(e))};Object(d.n)({isolateGlobalState:!0});var uc=function(){try{var t=$r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),cc=function(t,e,n){e=="__proto__"&&uc?uc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Gd=Object.prototype.hasOwnProperty,da=function(t,e,n){var r=t[e];Gd.call(t,e)&&on(r,n)&&(n!==void 0||e in t)||cc(t,e,n)},ha=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var h=e[i],g=void 0;g===void 0&&(g=t[h]),a?cc(n,h,g):da(n,h,g)}return n},ks=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Li=Math.max,ya=function(t,e,n){return e=Li(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Li(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=r[a];return h[e]=n(c),ks(t,this,h)}},pu=function(t){return function(){return t}},sc=uc?function(t,e){return uc(t,"toString",{configurable:!0,enumerable:!1,value:pu(e),writable:!0})}:pa,va=Date.now,Xd=function(t){var e=0,n=0;return function(){var r=va(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},df=Xd(sc),Hd=function(t,e){return df(ya(t,e,pa),t+"")},Yd=function(t,e,n){if(!xn(n))return!1;var r=typeof e;return!!(r=="number"?Rn(n)&&mr(e,n.length):r=="string"&&e in n)&&on(n[e],t)},hf=function(t){return Hd(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&Yd(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var h=n[r];h&&t(e,h,r,i)}return e})},lc=Object.prototype.hasOwnProperty,or=hf(function(t,e){if(Ao(e)||Rn(e))ha(e,Ci(e),t);else for(var n in e)lc.call(e,n)&&da(t,n,e[n])}),yf=function(t,e,n,r){if(!xn(t))return t;for(var a=-1,i=(e=fi(e,t)).length,c=i-1,h=t;h!=null&&++a<i;){var g=Go(e[a]),x=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return t;if(a!=c){var S=h[g];(x=void 0)==void 0&&(x=xn(S)?S:mr(e[a+1])?[]:{})}da(h,g,x),h=h[g]}return t},B=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],h=Xo(t,c);n(h,c)&&yf(i,fi(c,t),h)}return i},ga=function(t,e){return B(t,e,function(n,r){return lf(t,r)})},du=Gt?Gt.isConcatSpreadable:void 0,Zr=function(t){return vn(t)||ao(t)||!!(du&&t&&t[du])},Qt=function(e,n,r,a,i){var c=-1,h=e.length;for(r||(r=Zr),i||(i=[]);++c<h;){var g=e[c];r(g)?So(i,g):i[i.length]=g}return i},zi=function(t){return t!=null&&t.length?Qt(t):[]},yn,To,pi,Jr,Ts,Ds,vf,gf,fc,ma,hu,mf,Ns,Do,pc,di,Gr,Cs,Rs,Ho=function(t){return df(ya(t,void 0,zi),t+"")}(function(t,e){return t==null?{}:ga(t,e)});function On(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function In(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var sn,er,Yt,Bn,pt,mn,dc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Yo=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Is=(To=In((yn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),On(this,"isSilentMode",To,this),On(this,"stopZoomGraph",pi,this),On(this,"stopScrollGraph",Jr,this),On(this,"stopMoveGraph",Ts,this),On(this,"adjustEdge",Ds,this),On(this,"adjustEdgeMiddle",vf,this),On(this,"adjustEdgeStartAndEnd",gf,this),On(this,"adjustNodePosition",fc,this),On(this,"hideAnchors",ma,this),On(this,"allowRotation",hu,this),On(this,"hoverOutline",mf,this),On(this,"nodeSelectedOutline",Ns,this),On(this,"edgeSelectedOutline",Do,this),On(this,"nodeTextEdit",pc,this),On(this,"edgeTextEdit",di,this),On(this,"nodeTextDraggable",Gr,this),On(this,"edgeTextDraggable",Cs,this),On(this,"autoExpand",Rs,this),_f(this,"multipleSelectKey",""),_f(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);or(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&or(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var h=Ho(dc,Yo);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(c,h)}i===!1&&or(c,{nodeTextEdit:!1,edgeTextEdit:!1});var g=Ho(r,Yo);return or(c,g)}},{key:"getConfig",value:function(){return Ho(this,Yo)}}])&&bf(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=In(yn.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jr=In(yn.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=In(yn.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ds=In(yn.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vf=In(yn.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gf=In(yn.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fc=In(yn.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ma=In(yn.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hu=In(yn.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=In(yn.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ns=In(yn.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Do=In(yn.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pc=In(yn.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),di=In(yn.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gr=In(yn.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cs=In(yn.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rs=In(yn.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),In(yn.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(yn.prototype,"updateEditConfig"),yn.prototype),yn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(sn||(sn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(er||(er={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Yt||(Yt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Bn||(Bn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(mn||(mn={}));var Sn,Mn,Of,wf,hc,ba,Ls,_a,yc;function Oa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return zs(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qr(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Sn||(Sn={}));var xf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Ef=(Mn=function(){function t(r,a){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Vo(this,"MINI_SCALE_SIZE",.2),Vo(this,"MAX_SCALE_SIZE",16),Wo(this,"SCALE_X",Of,this),Wo(this,"SKEW_Y",wf,this),Wo(this,"SKEW_X",hc,this),Wo(this,"SCALE_Y",ba,this),Wo(this,"TRANSLATE_X",Ls,this),Wo(this,"TRANSLATE_Y",_a,this),Wo(this,"ZOOM_SIZE",yc,this),Vo(this,"eventCenter",void 0),Vo(this,"translateLimitMinX",void 0),Vo(this,"translateLimitMinY",void 0),Vo(this,"translateLimitMaxX",void 0),Vo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=Oa(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=Oa(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=Oa(r,2),h=c[0],g=c[1];return[h+a/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var h=Oa(this.CanvasPointToHtmlPoint([r,a]),2),g=i/2-h[0],x=c/2-h[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=Oa(Array.isArray(r)&&r.length===4?r:xf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&Wd(e.prototype,n),t}(),Of=Qr(Mn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wf=Qr(Mn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hc=Qr(Mn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ba=Qr(Mn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ls=Qr(Mn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_a=Qr(Mn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yc=Qr(Mn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Qr(Mn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(Mn.prototype,"zoom"),Mn.prototype),Qr(Mn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(Mn.prototype,"resetZoom"),Mn.prototype),Qr(Mn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(Mn.prototype,"translate"),Mn.prototype),Qr(Mn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(Mn.prototype,"focusOn"),Mn.prototype),Mn),vc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Sf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},jf=Object.prototype.hasOwnProperty,Pf=function(t){if(!xn(t))return Sf(t);var e=Ao(t),n=[];for(var r in t)(r!="constructor"||!e&&jf.call(t,r))&&n.push(r);return n},gc=function(t){return Rn(t)?En(t,!0):Pf(t)},Bs=o(107),Fs=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},mc=Br(Object.getPrototypeOf,Object),Vt=Object.prototype.hasOwnProperty,Vd=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Vt.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Us=function(t){var e=new t.constructor(t.byteLength);return new Qn(e).set(new Qn(t)),e},yu=function(t,e){var n=Us(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},Af=/\w*$/,Kd=function(t){var e=new t.constructor(t.source,Af.exec(t));return e.lastIndex=t.lastIndex,e},Mf=Gt?Gt.prototype:void 0,Xr=Mf?Mf.valueOf:void 0,$d=function(t){return Xr?Object(Xr.call(t)):{}},vu=function(t,e){var n=e?Us(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Gs=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Us(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return yu(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vu(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Kd(t);case"[object Symbol]":return $d(t)}},Xs=Object.create,kf=function(){function t(){}return function(e){if(!xn(e))return{};if(Xs)return Xs(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),kr=function(t){return typeof t.constructor!="function"||Ao(t)?{}:kf(mc(t))},hi=function(t){return en(t)&&_(t)=="[object Map]"},bc=$n.a&&$n.a.isMap,Tf=bc?uo(bc):hi,_c=function(t){return en(t)&&_(t)=="[object Set]"},Hs=$n.a&&$n.a.isSet,Ys=Hs?uo(Hs):_c,Ws="[object Arguments]",Oc="[object Function]",Vs="[object Object]",un={};un[Ws]=un["[object Array]"]=un["[object ArrayBuffer]"]=un["[object DataView]"]=un["[object Boolean]"]=un["[object Date]"]=un["[object Float32Array]"]=un["[object Float64Array]"]=un["[object Int8Array]"]=un["[object Int16Array]"]=un["[object Int32Array]"]=un["[object Map]"]=un["[object Number]"]=un["[object Object]"]=un["[object RegExp]"]=un["[object Set]"]=un["[object String]"]=un["[object Symbol]"]=un["[object Uint8Array]"]=un["[object Uint8ClampedArray]"]=un["[object Uint16Array]"]=un["[object Uint32Array]"]=!0,un["[object Error]"]=un[Oc]=un["[object WeakMap]"]=!1;var qd=function t(e,n,r,a,i,c){var h,g=1&n;if(h!==void 0)return h;if(!xn(e))return e;var x=vn(e);if(x)h=Vd(e);else{var S=_(e),D=S==Oc||S=="[object GeneratorFunction]";if(Object(jo.a)(e))return Object(Bs.a)(e,g);if(S==Vs||S==Ws||D&&!i)h=D?{}:kr(e);else{if(!un[S])return i?e:{};h=Gs(e,S,g)}}c||(c=new Eo);var I=c.get(e);if(I)return I;c.set(e,h),Ys(e)?e.forEach(function(q){h.add(t(q,n,r,q,e,c))}):Tf(e)&&e.forEach(function(q,ee){h.set(ee,t(q,n,r,ee,e,c))});var X=x?void 0:co(e);return vc(X||e,function(q,ee){X&&(q=e[ee=q]),da(h,ee,t(q,n,r,ee,e,c))}),h},fn=function(t){return qd(t,5)},wc=function(t,e,n){(n!==void 0&&!on(t[e],n)||n===void 0&&!(e in t))&&cc(t,e,n)},Df=function(t){return en(t)&&Rn(t)},Ks=Function.prototype,Nf=Object.prototype,$s=Ks.toString,Cf=Nf.hasOwnProperty,Rf=$s.call(Object),Tr=function(t){if(!en(t)||ln(t)!="[object Object]")return!1;var e=mc(t);if(e===null)return!0;var n=Cf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$s.call(n)==Rf},fo=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},xc=function(t){return ha(t,gc(t))},wa=function(t,e,n,r,a,i,c){var h=fo(t,n),g=fo(e,n),x=c.get(g);if(x)wc(t,n,x);else{var S=void 0,D=S===void 0;if(D){var I=vn(g),X=!I&&Object(jo.a)(g),q=!I&&!X&&Ni(g);S=g,I||X||q?vn(h)?S=h:Df(h)?S=Fs(h):X?(D=!1,S=Object(Bs.a)(g,!0)):q?(D=!1,S=vu(g,!0)):S=[]:Tr(g)||ao(g)?(S=h,ao(h)?S=xc(h):xn(h)&&!io(h)||(S=kr(g))):D=!1}D&&(c.set(g,S),a(S,g,r,i,c),c.delete(g)),wc(t,n,S)}},If=function t(e,n,r,a,i){e!==n&&pf(n,function(c,h){if(i||(i=new Eo),xn(c))wa(e,n,h,r,t,a,i);else{var g=void 0;g===void 0&&(g=c),wc(e,h,g)}},gc)},gu=hf(function(t,e,n){If(t,e,n)}),Lf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Bi=function(t){var e=fn(Lf);return t&&(e=gu(e,t)),e};o(82),o(166);function mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zf=function(){function t(){var r,a,i;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),c._events[h]||(c._events[h]=[]),c._events[h].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var h=i._events[c]||[],g=i._events["*"]||[],x=function(S){for(var D=S.length,I=0;I<D;I++)if(S[I]){var X=S[I],q=X.callback;X.once&&(S.splice(I,1),S.length===0&&delete i._events[c],D--,I--),q.apply(i,[a])}};x(h),x(g)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var h=i._events[c]||[],g=h.length,x=0;x<g;x++)h[x].callback===a&&(h.splice(x,1),g--,x--);h.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&mu(e.prototype,n),t}();function yi(t,e){return e*Math.round(t/e)||t}function Ec(t,e){return t%e}function Sc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return bu(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return bu(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _u=function(t,e,n){var r=Sc(t,2),a=r[0],i=r[1],c=Sc(e,2),h=c[0],g=c[1],x=Sc(n,2),S=x[0],D=x[1];return a>h&&a<S&&i>g&&i<D},Ou=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var Bf=function(t){return function(e,n,r){var a=Object(e);if(!Rn(e)){var i=Ms(n);e=Ci(e),n=function(h){return i(a[h],h,a)}}var c=t(e,n,r);return c>-1?a[i?e[c]:c]:void 0}},jc=function(t,e,n,r){for(var a=t.length,i=n+-1;++i<a;)if(e(t[i],i,t))return i;return-1},Ff=/\s/,qs=function(t){for(var e=t.length;e--&&Ff.test(t.charAt(e)););return e},Zd=/^\s+/,Uf=function(t){return t&&t.slice(0,qs(t)+1).replace(Zd,"")},Ko=/^[-+]0x[0-9a-f]+$/i,Gf=/^0b[01]+$/i,Xf=/^0o[0-7]+$/i,Jd=parseInt,Pc=function(t){if(typeof t=="number")return t;if(Bt(t))return NaN;if(xn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Uf(t);var n=Gf.test(t);return n||Xf.test(t)?Jd(t.slice(2),n?2:8):Ko.test(t)?NaN:+t},$o=1/0,Zs=function(t){return t?(t=Pc(t))===$o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},Js=function(t){var e=Zs(t),n=e%1;return e==e?n?e-n:e:0},Qs=Math.max,xa,Fi=Bf(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var a=n==null?0:Js(n);return a<0&&(a=Qs(r+a,0)),jc(t,Ms(e),a)}),At=new Uint8Array(16);function Ac(){if(!xa&&!(xa=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xa(At)}for(var el=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ui=function(t){return typeof t=="string"&&el.test(t)},Zn=[],Mc=0;Mc<256;++Mc)Zn.push((Mc+256).toString(16).substr(1));var fr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Zn[t[e+0]]+Zn[t[e+1]]+Zn[t[e+2]]+Zn[t[e+3]]+"-"+Zn[t[e+4]]+Zn[t[e+5]]+"-"+Zn[t[e+6]]+Zn[t[e+7]]+"-"+Zn[t[e+8]]+Zn[t[e+9]]+"-"+Zn[t[e+10]]+Zn[t[e+11]]+Zn[t[e+12]]+Zn[t[e+13]]+Zn[t[e+14]]+Zn[t[e+15]]).toLowerCase();if(!Ui(n))throw TypeError("Stringified UUID is invalid");return n},kc=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ac)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,fr(r)},qo=function(){return kc()},Qd=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+kc(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+kc(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Hr=(o(105),o(127),o(207),function(t,e,n){var r=t.x,a=t.y,i=e.x,c=e.y,h=n.x,g=n.y,x=(g-c)/(h-i),S=c-x*i;return r>=i&&r<=h&&a>=c&&a<=g&&Math.abs(a-x*r+S)<Number.EPSILON});function ir(t){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}function Tc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tc(Object(n),!0).forEach(function(r){eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,tl,nl,rl,ol,Hf,Nc,il,Ea,Cc,al,ul,wu,cl,po,vi,sl,Yf,Wf,Vf,ll,Rc=function(t){return t.anchors},xu=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(th(t,i)){var c=i.getTargetAnchor(t);if(c){var h={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!Kf(i,n.node,e)||(n=h)}}}return n},Kf=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},ho=function(t,e,n,r){return Math.hypot(t-n,e-r)},gi=function(t,e){var n=!1,r=jn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},th=function(t,e){var n=!1,r=jn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},jn=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},$f=function(t,e,n){var r,a=function(c){var h=c,g=h.x,x=h.y,S=h.width,D=h.height,I=h.radius;return[{x:g-S/2+I,y:x-D/2+I,r:I},{x:g+S/2-I,y:x-D/2+I,r:I},{x:g-S/2+I,y:x+D/2-I,r:I},{x:g+S/2-I,y:x+D/2-I,r:I}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var h=ho(t.x,t.y,c.x,c.y);h<i&&(i=h,r=c)}),Ic(t,e,r)},Ic=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.r;if(e===mn.HORIZONTAL){var g=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)),x=i+Math.sqrt(h*h-(t.y-c)*(t.y-c));r={x:Math.abs(g-t.x)<Math.abs(x-t.x)?g:x,y:t.y}}else if(e===mn.VERTICAL){var S=c-Math.sqrt(h*h-(t.x-i)*(t.x-i)),D=c+Math.sqrt(h*h-(t.x-i)*(t.x-i)),I=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:I}}return r},qf=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,g=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>a&&t.x<i:t.x!==g+S/2&&t.x!==g-S/2||(r=t.y>c&&t.y<h),r},Lc=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.rx,g=a.ry;if(e===mn.HORIZONTAL){var x=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g)),S=i+Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===mn.VERTICAL){var D=c-Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),I=c+Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),X=Math.abs(D-t.y)<Math.abs(I-t.y)?D:I;r={x:t.x,y:X}}return r},Zf=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],h=0;h<a.length;h++)c.push({start:a[h],end:a[(h+1)%a.length]});return c.forEach(function(g){var x=g.start,S=g.end,D=x,I=S;x.x>S.x&&(D=S,I=x);var X={x:t.x,y:t.y};if(D.x===I.x&&e===mn.HORIZONTAL&&(X={x:D.x,y:t.y}),D.y===I.y&&e===mn.VERTICAL&&(X={x:t.x,y:D.y}),D.x!==I.x&&D.y!==I.y){var q=(I.y-D.y)/(I.x-D.x),ee=(D.x*I.y-I.x*D.y)/(D.x-I.x);e===mn.HORIZONTAL?X={x:(t.y-ee)/q,y:t.y}:e===mn.VERTICAL&&(X={x:t.x,y:q*t.x+ee})}if(Hr(X,x,S)){var ge=ho(X.x,X.y,t.x,t.y);ge<i&&(i=ge,r=X)}}),r},Jf=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},Qf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(h){var g=document.createElement("div");g.textContent=h,i.appendChild(g)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},Eu=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Tl(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Sa=function(t){return ir(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},pr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},nh=1e3,rh=999,fl=function(){return++nh};function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var pl=(ke=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),eo(this,"id",""),Fn(this,"type",tl,this),Fn(this,"sourceNodeId",nl,this),Fn(this,"targetNodeId",rl,this),Fn(this,"startPoint",ol,this),Fn(this,"endPoint",Hf,this),Fn(this,"text",Nc,this),Fn(this,"properties",il,this),Fn(this,"points",Ea,this),Fn(this,"pointsList",Cc,this),Fn(this,"isSelected",al,this),Fn(this,"isHovered",ul,this),Fn(this,"isHitable",wu,this),Fn(this,"draggable",cl,this),Fn(this,"visible",po,this),eo(this,"virtual",!1),Fn(this,"isAnimation",vi,this),Fn(this,"isShowAdjustPoint",sl,this),eo(this,"graphModel",void 0),Fn(this,"zIndex",Yf,this),eo(this,"BaseType",Bn.EDGE),eo(this,"modelType",Yt.EDGE),Fn(this,"state",Wf,this),eo(this,"additionStateData",void 0),eo(this,"sourceAnchorId",""),eo(this,"targetAnchorId",""),eo(this,"menu",void 0),eo(this,"customTextPosition",!1),Fn(this,"style",Vf,this),Fn(this,"arrowConfig",ll,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||qo()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,or(this,mp(r)),this.graphModel.overlapMode===Sn.INCREASE&&(this.zIndex=r.zIndex||fl()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Dr(Dr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Dr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return fn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return fn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return Dr(Dr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return fn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a,i){var c,h,g=Rc(r);return i&&(c=Fi(g,function(x){return x.id===i}))||g.forEach(function(x){var S=Cl(x,a);(h===void 0||S<h)&&(h=S,c=x)}),c}},{key:"getEndAnchor",value:function(r,a){var i,c,h=this,g=Rc(r);return a&&(i=Fi(g,function(x){return x.id===a}))||g.forEach(function(x){var S=Cl(x,h.startPoint);(c===void 0||S<c)&&(c=S,i=x)}),i}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return c&&(h.text={x:a,y:i,value:c}),this.graphModel.overlapMode===Sn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=pr(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Dr(Dr({},Object(d.I)(this.properties)),pr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=Dr(Dr({},this.style),{},eo({},r,pr(a)))}},{key:"setStyles",value:function(r){this.style=Dr(Dr({},this.style),pr(r))}},{key:"updateStyles",value:function(r){this.style=Dr({},pr(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,draggable:x,x:c+r,y:h+a,editable:S}}}},{key:"setText",value:function(r){r&&or(this.text,r)}},{key:"updateText",value:function(r){this.text=Dr(Dr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!a)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){or(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&zc(e.prototype,n),t}(),tl=Pt(ke.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nl=Pt(ke.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rl=Pt(ke.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ol=Pt(ke.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hf=Pt(ke.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nc=Pt(ke.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),il=Pt(ke.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ea=Pt(ke.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cc=Pt(ke.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),al=Pt(ke.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ul=Pt(ke.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wu=Pt(ke.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cl=Pt(ke.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),po=Pt(ke.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vi=Pt(ke.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sl=Pt(ke.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yf=Pt(ke.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wf=Pt(ke.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vf=Pt(ke.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ll=Pt(ke.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(ke.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Pt(ke.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Pt(ke.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Pt(ke.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Pt(ke.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Pt(ke.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Pt(ke.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Pt(ke.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Pt(ke.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Pt(ke.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Pt(ke.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Pt(ke.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Pt(ke.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Pt(ke.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Pt(ke.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Pt(ke.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Pt(ke.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Pt(ke.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Pt(ke.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Pt(ke.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Pt(ke.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Pt(ke.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Pt(ke.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Pt(ke.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Pt(ke.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Pt(ke.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Pt(ke.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Pt(ke.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Pt(ke.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Pt(ke.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Pt(ke.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Pt(ke.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),dl=pl;function Bc(t){return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ja(){return ja=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ah(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ja.apply(this,arguments)}function ah(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=mi(t))!==null;);return t}function yl(t,e){return yl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yl(t,e)}function Fc(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mi(t);if(e){var a=mi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return np(this,n)}}function np(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vl(t)}function vl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mi(t)}function gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct,rp,Uc=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yl(i,c)})(a,t);var e,n,r=Fc(a);function a(){var i;oh(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return gl(vl(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return tp(tp({},ja(mi(a.prototype),"getEdgeStyle",this).call(this)),fn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ih(e.prototype,n),a}(dl);function Pa(t){return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Gc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return op(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return op(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function op(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xc(Object(n),!0).forEach(function(r){bl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Su(){return Su=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Gi(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Su.apply(this,arguments)}function Gi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wr(t))!==null;);return t}function Ft(t,e){return Ft=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ft(t,e)}function sh(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wr(t);if(e){var a=wr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nr(this,n)}}function Nr(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wn(t)}function wn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(t)}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var to=(Ct=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ft(i,c)})(a,t);var e,n,r=sh(a);function a(){var i;yo(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return bl(wn(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.POLYLINE_EDGE),bl(wn(i),"draggingPointList",void 0),uh(wn(i),"dbClickPosition",rp,wn(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Su(wr(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return ml(ml({},Su(wr(a.prototype),"getEdgeStyle",this).call(this)),fn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var g=Jo(this.points),x=Gc(Ml(g),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(i,c,h){var g,x;return h.forEach(function(S){var D;i===mn.HORIZONTAL?D=Math.abs(c.y-S.y):i===mn.VERTICAL&&(D=Math.abs(c.x-S.x)),(!x||x>D)&&(x=D,g=S)}),g}},{key:"getCrossPoint",value:function(i,c,h){var g;return i===mn.HORIZONTAL?g={x:h.x,y:c.y}:i===mn.VERTICAL&&(g={x:c.x,y:h.y}),g}},{key:"removeCrossPoints",value:function(i,c,h){var g=h.map(function(ve){return ve});if(i===1){var x=g[i],S=g[c],D=g[i-1];if(Kc(D,x,this.sourceNode)){if(_i(x,S,this.sourceNode)){var I=kl(x,S,this.sourceNode);I&&(g[i]=I,g.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(ve){(ve.x===D.x&&ve.x===x.x||ve.y===D.y&&ve.y===x.y)&&ho(ve.x,ve.y,x.x,x.y)<ho(D.x,D.y,x.x,x.y)&&(g[i-1]=ve)})}if(c===h.length-2){var X=g[i],q=g[c],ee=g[c+1];if(Kc(q,ee,this.targetNode)){if(_i(X,q,this.targetNode)){var ge=kl(X,q,this.targetNode);ge&&(g[c]=ge,g.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(ve){(ve.x===ee.x&&ve.x===q.x||ve.y===ee.y&&ve.y===q.y)&&ho(ve.x,ve.y,q.x,q.y)<ho(ee.x,ee.y,q.x,q.y)&&(g[c+1]=ve)})}return g}},{key:"getDraggingPoints",value:function(i,c,h,g,x){var S=x.map(function(X){return X}),D=this.getAfterAnchor(i,h,g),I=this.getCrossPoint(i,h,D);return c==="start"?(S.unshift(I),S.unshift(D)):(S.push(I),S.push(D)),S}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Ce){return Ce}),h=i[0],g=i[1],x=i[c.length-2],S=i[c.length-1],D=this.sourceNode,I=this.targetNode,X=D.modelType,q=I.modelType,ee=Da(h,g),ge=c[0];switch(X){case Yt.RECT_NODE:D.radius!==0&&(qf(h,D)||(ge=$f(h,ee,D)));break;case Yt.CIRCLE_NODE:ge=Ic(h,ee,D);break;case Yt.ELLIPSE_NODE:ge=Lc(h,ee,D);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:ge=Zf(h,ee,D)}ge&&(c[0]=ge);var ve=Da(x,S),we=c[c.length-1];switch(q){case Yt.RECT_NODE:I.radius!==0&&(qf(S,I)||(we=$f(S,ve,I)));break;case Yt.CIRCLE_NODE:we=Ic(S,ve,I);break;case Yt.ELLIPSE_NODE:we=Lc(S,ve,I);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:we=Zf(S,ve,I)}return we&&(c[c.length-1]=we),c}},{key:"getData",value:function(){var i=Su(wr(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Vc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"updatePointsList",value:function(i,c){this.pointsList.forEach(function(x){x.x+=i,x.y+=c});var h=this.pointsList[0];this.startPoint=Object.assign({},h);var g=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},g),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,I=this.pointsList,X=I;return D===mn.HORIZONTAL?(I[x]={x:h.x,y:h.y+c.y},I[S]={x:g.x,y:g.y+c.y},X=this.pointsList.map(function(q){return q})):D===mn.VERTICAL&&(I[x]={x:h.x+c.x,y:h.y},I[S]={x:g.x+c.x,y:g.y},X=this.pointsList.map(function(q){return q})),this.updatePointsAfterDrag(X),this.draggingPointList=X,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,I=this.pointsList;if(D===mn.HORIZONTAL){I[x]={x:h.x,y:h.y+c.y},I[S]={x:g.x,y:g.y+c.y};var X=this.pointsList.map(function($e){return $e});if(x!==0&&S!==this.pointsList.length-1&&(X=this.removeCrossPoints(x,S,X)),x===0){var q={x:h.x,y:h.y+c.y};if(!gi(q,this.sourceNode)){var ee=this.sourceNode.anchors;X=this.getDraggingPoints(D,"start",q,ee,X)}}if(S===this.pointsList.length-1){var ge={x:g.x,y:g.y+c.y};if(!gi(ge,this.targetNode)){var ve=this.targetNode.anchors;X=this.getDraggingPoints(D,"end",ge,ve,X)}}this.updatePointsAfterDrag(X),this.draggingPointList=X}else if(D===mn.VERTICAL){I[x]={x:h.x+c.x,y:h.y},I[S]={x:g.x+c.x,y:g.y};var we=this.pointsList.map(function($e){return $e});if(x!==0&&S!==this.pointsList.length-1&&(we=this.removeCrossPoints(x,S,we)),x===0){var Ce={x:h.x+c.x,y:h.y};if(!gi(Ce,this.sourceNode)){var Je=this.sourceNode.anchors;we=this.getDraggingPoints(D,"start",Ce,Je,we)}}if(S===this.pointsList.length-1){var qe={x:g.x+c.x,y:g.y};if(!gi(qe,this.targetNode)){var gt=this.targetNode.anchors;we=this.getDraggingPoints(D,"end",qe,gt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Al(Jo(this.points));this.pointsList=i.map(function(g){return g}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=Vc({x:c.x,y:c.y},{x:h.x,y:h.y},g,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&ch(e.prototype,n),a}(dl),rp=tr(Ct.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr(Ct.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"initPoints"),Ct.prototype),tr(Ct.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePoints"),Ct.prototype),tr(Ct.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateStartPoint"),Ct.prototype),tr(Ct.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"moveStartPoint"),Ct.prototype),tr(Ct.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateEndPoint"),Ct.prototype),tr(Ct.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"moveEndPoint"),Ct.prototype),tr(Ct.prototype,"updatePointsList",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePointsList"),Ct.prototype),tr(Ct.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendStart"),Ct.prototype),tr(Ct.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendSimple"),Ct.prototype),tr(Ct.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppend"),Ct.prototype),tr(Ct.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendEnd"),Ct.prototype),tr(Ct.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePointsAfterDrag"),Ct.prototype),tr(Ct.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"getAdjustStart"),Ct.prototype),tr(Ct.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"getAdjustEnd"),Ct.prototype),tr(Ct.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateAfterAdjustStartAndEnd"),Ct.prototype),Ct),Aa=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-e.y)/(n.x-e.x)),g=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(h+g),c.leftY=e.y-x*Math.cos(h+g),c.rightX=e.x-x*Math.sin(h-g),c.rightY=e.y+x*Math.cos(h-g)):(c.leftX=e.x-x*Math.sin(h+g),c.leftY=e.y+x*Math.cos(h+g),c.rightX=e.x+x*Math.sin(h-g),c.rightY=e.y-x*Math.cos(h-g)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(h-g),c.leftY=n.y-x*Math.cos(h-g),c.rightX=n.x-x*Math.sin(h+g),c.rightY=n.y+x*Math.cos(h+g)):(c.leftX=n.x-x*Math.sin(h-g),c.leftY=n.y+x*Math.cos(h-g),c.rightX=n.x+x*Math.sin(h+g),c.rightY=n.y-x*Math.cos(h+g))),c},Hc={x:1,y:0,z:0};function Pn(t,e,n,r,a){for(var i=function(q){if(q<0||q>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-q,3)+3*e.x*q*Math.pow(1-q,2)+3*n.x*Math.pow(q,2)*(1-q)+r.x*Math.pow(q,3),y:t.y*Math.pow(1-q,3)+3*e.y*q*Math.pow(1-q,2)+3*n.y*Math.pow(q,2)*(1-q)+r.y*Math.pow(q,3)}},c=0,h=2,g=r.x,x=r.y,S=r;c<a&&h<50;){var D=S=i(1-h/100),I=D.x,X=D.y;c=ho(g,x,I,X),h++}return S}function kn(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function _l(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=Hc,n=t),a=Math.acos(function(i,c){var h=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(g,x,S){return g+x*h[S]})}(kn(e),kn(n))),r>=0?a:-a;var e,n,r,a}function Ol(t){return t*(180/Math.PI)}function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ma(Object(n),!0).forEach(function(r){ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ip(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yc(t){return function(e){if(Array.isArray(e))return wl(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ap(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xr(t){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}function Zo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||ap(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ap(t,e){if(t){if(typeof t=="string")return wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wl(t,e):void 0}}function wl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var up=function(t,e){var n;switch(t.type){case"line":default:n=new Uc(t,e);break;case"polyline":n=new to(t,e)}return n},No=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Ut=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},cp=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Ut(n)},dr=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},xl=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?mn.HORIZONTAL:mn.VERTICAL},nn=function(t,e,n){return xl(n,e)===mn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},El=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},Xi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),h=Math.max.apply(Math,r),g=i-a,x=h-c;return e&&(g+=e,x+=e),{centerX:(a+i)/2,centerY:(c+h)/2,maxX:i,maxY:h,minX:a,minY:c,x:(a+i)/2,y:(c+h)/2,height:x,width:g}},bi=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},ju=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},sp=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},lp=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},fp=function(t,e){return sp(t,e.x).concat(lp(t,e.y))},Ta=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Wc=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},Sl=function(t,e,n,r,a){return Ta(t,e)+Ta(t,n)+Wc(t,[e,n,r,a])},pp=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},dp=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Tn=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,h=r.y-n.y,g=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*h),x=(c*(t.y-n.y)-h*(t.x-n.x))/(-c*i+a*h);return g>=0&&g<=1&&x>=0&&x<=1},hr=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Zo(bi(n),4),a=r[0],i=r[1],c=r[2],h=r[3];return Tn(t,e,a,i)||Tn(t,e,a,h)||Tn(t,e,i,c)||Tn(t,e,c,h)},hp=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||hr(i,e,n)||hr(i,e,r)||a.push(i))}),Ut(a)},jl=function(t,e,n,r,a,i,c){var h=[],g=[e],x={},S={},D={};S[e.id]=0,D[e.id]=Sl(e,n,e);var I={};t.forEach(function(ee){I[ee.id]=ee});for(var X=function(){var ee=void 0,ge=1/0;if(g.forEach(function(we){D[we.id]<ge&&(ge=D[we.id],ee=we)}),ee===n){var ve=[];return pp(ve,I,x,n.id),{v:ve}}dp(g,ee),h.push(ee),hp(t,ee,r,a).forEach(function(we){if(h.indexOf(we)===-1){g.indexOf(we)===-1&&g.push(we);var Ce=D[ee.id]+Ta(ee,we);S[we.id]&&Ce>=S[we.id]||(x[we.id]=ee.id,S[we.id]=Ce,D[we.id]=S[we.id]+Sl(we,n,e,i,c))}})};g.length;){var q=X();if(xr(q)==="object")return q.v}return[e,n]},Pl=function(t){return jn(t)},Al=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Vc=function(t,e,n,r,a){var i=Pl(n),c=Pl(r),h=dr(i,a),g=dr(c,a),x=nn(h,i,t),S=nn(g,c,e);if(No(h,g)){var D=yp(t,e,x,S);return[t,x].concat(Yc(D),[S,e])}var I=Xi([x,S]),X=El(h,I),q=El(g,I),ee=[];ee=(ee=ee.concat(bi(X))).concat(bi(q));var ge={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[I,X,q].forEach(function(we){ee=ee.concat(fp(we,ge).filter(function(Ce){return ju(Ce,h)&&ju(Ce,g)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(we){ju(we,h)&&ju(we,g)&&ee.push(we)}),ee.unshift(x),ee.push(S),ee=Ut(ee);var ve=jl(ee,x,S,i,c,t,e);return ve.unshift(t),ve.push(e),ve.length>2&&(ve=Al(ve)),Ut(ve)},Ml=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=ho(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],h=t[i+1],g=ho(c.x,c.y,h.x,h.y);g>a&&(a=g,n=c,r=h)}e=[n,r]}return e},Kc=function(t,e,n){var r=gi(t,n),a=gi(e,n);return r&&a},_i=function(t,e,n){var r=gi(t,n),a=gi(e,n);return!(r&&a)&&(r||a)},kl=function(t,e,n){for(var r,a,i=jn(n),c=bi(i),h=0;h<c.length;h++)Tn(t,e,c[h],c[(h+1)%c.length])&&(a=[c[h],c[(h+1)%c.length]]);return a&&(r=function(g,x,S,D){var I=(x.y-g.y)*(D.x-S.x)-(g.x-x.x)*(S.y-D.y);if(I===0)return!1;var X=((x.x-g.x)*(D.x-S.x)*(S.y-g.y)+(x.y-g.y)*(D.x-S.x)*g.x-(D.y-S.y)*(x.x-g.x)*S.x)/I,q=-((x.y-g.y)*(D.y-S.y)*(S.x-g.x)+(x.x-g.x)*(D.y-S.y)*g.y-(D.x-S.x)*(x.y-g.y)*S.y)/I;return(X-g.x)*(X-x.x)<=0&&(q-g.y)*(q-x.y)<=0&&(X-S.x)*(X-D.x)<=0&&(q-S.y)*(q-D.y)<=0&&{x:X,y:q}}(t,e,a[0],a[1])),r},Da=function(t,e){var n;return t.x===e.x?n=mn.VERTICAL:t.y===e.y&&(n=mn.HORIZONTAL),n},Jo=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=Zo(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},yp=function(t,e,n,r){var a=[];if(Da(t,n)===Da(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Hr(i,t,n),h=Hr(i,e,r);if(c||h)i={x:r.x,y:n.y};else{var g=vp(i,t,n),x=vp(i,e,r);g&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},vp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Tl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Dl=null,lh=function(t,e){Dl||(Dl=document.createElement("canvas"));var n=Dl.getContext("2d");return n.font=e,n.measureText(t).width},gp=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Aa(ka(ka({},a),{},{type:"start"})),c=Aa(ka(ka({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Pu=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=jn(r),h=jn(a),g=dr(c,i),x=dr(h,i);return{sNext:nn(g,c,e),ePre:nn(x,h,n)}},Au=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Mu(e[0]),Mu(e[1]),Mu(e[2]),Mu(e[3])]},Mu=function(t){var e=Zo(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Nl=function(t,e){var n=Zo(t,4);return[Pn(n[0],n[1],n[2],n[3],e),t[3]]},ku=function(t,e){for(var n,r=t.x,a=t.y,i=Jo(e),c=Number.MAX_SAFE_INTEGER,h=[],g=0;g<i.length;g++)h.push({start:i[g],end:i[(g+1)%i.length]});if(h.forEach(function(I){var X=I.start,q=I.end;if(X.x===q.x){var ee={x:X.x,y:a};if(Hr(ee,X,q)){var ge=Math.abs(X.x-r);ge<c&&(c=ge,n=ee)}}else if(X.y===q.y){var ve={x:r,y:X.y};if(Hr(ve,X,q)){var we=Math.abs(X.y-a);we<c&&(c=we,n=ve)}}}),!n){var x=h[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},mp=function(t){return Ho(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Cl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Er(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(208);var Tu=function(){};function fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var no=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Tu:i,h=r.onDragging,g=h===void 0?Tu:h,x=r.onDragEnd,S=x===void 0?Tu:x,D=r.eventType,I=D===void 0?"":D,X=r.eventCenter,q=X===void 0?null:X,ee=r.step,ge=ee===void 0?1:ee,ve=r.isStopPropagation,we=ve===void 0||ve,Ce=r.model,Je=Ce===void 0?null:Ce,qe=r.data,gt=qe===void 0?null:qe;(function($e,ht){if(!($e instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,t),Yn(this,"onDragStart",void 0),Yn(this,"onDragging",void 0),Yn(this,"onDragEnd",void 0),Yn(this,"step",void 0),Yn(this,"isStopPropagation",void 0),Yn(this,"isDragging",!1),Yn(this,"isStartDragging",!1),Yn(this,"startX",0),Yn(this,"startY",0),Yn(this,"sumDeltaX",0),Yn(this,"sumDeltaY",0),Yn(this,"eventType",void 0),Yn(this,"eventCenter",void 0),Yn(this,"model",void 0),Yn(this,"data",void 0),Yn(this,"startTime",void 0),Yn(this,"handleMouseDown",function($e){var ht,tt,Kt,Jt=(ht=window)===null||ht===void 0?void 0:ht.document;if($e.button===0){a.isStopPropagation&&$e.stopPropagation(),a.isStartDragging=!0,a.startX=$e.clientX,a.startY=$e.clientY,Jt.addEventListener("mousemove",a.handleMouseMove,!1),Jt.addEventListener("mouseup",a.handleMouseUp,!1);var Tt=(tt=a.model)===null||tt===void 0?void 0:tt.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(pt["".concat(a.eventType,"_MOUSEDOWN")],{e:$e,data:a.data||Tt}),a.startTime=new Date().getTime()}}),Yn(this,"handleMouseMove",function($e){if(a.isStopPropagation&&$e.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=$e.clientX-a.startX,a.sumDeltaY+=$e.clientY-a.startY,a.startX=$e.clientX,a.startY=$e.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var ht,tt=a.sumDeltaX%a.step,Kt=a.sumDeltaY%a.step,Jt=a.sumDeltaX-tt,Tt=a.sumDeltaY-Kt;a.sumDeltaX=tt,a.sumDeltaY=Kt;var rn,Un=(ht=a.model)===null||ht===void 0?void 0:ht.getData();a.isDragging||((rn=a.eventCenter)===null||rn===void 0||rn.emit(pt["".concat(a.eventType,"_DRAGSTART")],{e:$e,data:a.data||Un}),a.onDragStart({event:$e})),a.isDragging=!0,Promise.resolve().then(function(){var Gn,Sr;a.onDragging({deltaX:Jt,deltaY:Tt,event:$e}),(Gn=a.eventCenter)===null||Gn===void 0||Gn.emit(pt["".concat(a.eventType,"_MOUSEMOVE")],{e:$e,data:a.data||Un}),(Sr=a.eventCenter)===null||Sr===void 0||Sr.emit(pt["".concat(a.eventType,"_DRAG")],{e:$e,data:a.data||Un})})}}),Yn(this,"handleMouseUp",function($e){var ht=window.document;a.isStartDragging=!1,a.isStopPropagation&&$e.stopPropagation(),Promise.resolve().then(function(){var tt,Kt,Jt;ht.removeEventListener("mousemove",a.handleMouseMove,!1),ht.removeEventListener("mouseup",a.handleMouseUp,!1);var Tt=(tt=a.model)===null||tt===void 0?void 0:tt.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(pt["".concat(a.eventType,"_MOUSEUP")],{e:$e,data:a.data||Tt}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:$e}),(Jt=a.eventCenter)===null||Jt===void 0||Jt.emit(pt["".concat(a.eventType,"_DROP")],{e:$e,data:a.data||Tt}))})}),Yn(this,"cancelDrag",function(){var $e,ht=($e=window)===null||$e===void 0?void 0:$e.document;ht.removeEventListener("mousemove",a.handleMouseMove,!1),ht.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=g,this.onDragEnd=S,this.step=ge,this.isStopPropagation=we,this.eventType=I,this.eventCenter=q,this.model=Je,this.data=gt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&fh(e.prototype,n),t}();function Du(t){return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Il(t,e,n){return e&&ph(t.prototype,e),t}function $c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cu(t,e)}function Ll(t){var e=bp();return function(){var n,r=Ru(t);if(e){var a=Ru(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dh(this,n)}}function dh(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nu(t){var e=typeof Map=="function"?new Map:void 0;return Nu=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return zl(n,arguments,Ru(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Cu(a,n)},Nu(t)}function zl(t,e,n){return zl=bp()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&Cu(h,i.prototype),h},zl.apply(null,arguments)}function bp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cu(t,e){return Cu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cu(t,e)}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(t)}function Iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _p(t,e){return t instanceof nr&&e instanceof nr}var Op=function(t){$c(n,t);var e=Ll(n);function n(r,a,i){var c;return Rl(this,n),Iu(Qo(c=e.call(this,3)),"x",void 0),Iu(Qo(c),"y",void 0),Iu(Qo(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(Qo(c),n.prototype),c}return Il(n,[{key:"add",value:function(r){if(_p(this,r))return new nr(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new u((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(_p(this,r))return new nr(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new nr(this.x-r.x,this.y-r.y):new u((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(Nu(Array)),nr=function(t){$c(n,t);var e=Ll(n);function n(r,a,i){var c;return Rl(this,n),c=e.call(this,r,a,i!=null?i:0),Object.setPrototypeOf(Qo(c),n.prototype),c}return Il(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,h){return i+c*a[h]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(Op),u=function(t){$c(n,t);var e=Ll(n);function n(r,a){var i;return Rl(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(Qo(i),n.prototype),i}return Il(n,[{key:"toString",value:function(){return"Point"}}]),n}(Op);o(67),o(218);function l(t){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(t)}function b(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||N(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(t){return function(e){if(Array.isArray(e))return U(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||N(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(t,e){if(t){if(typeof t=="string")return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}function U(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e,n){return e&&le(t.prototype,e),t}function Ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}function De(t){var e=ze();return function(){var n,r=jt(t);if(e){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(t,e){if(e&&(l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}function rt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){var e=typeof Map=="function"?new Map:void 0;return dt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return xt(n,arguments,jt(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Xe(a,n)},dt(t)}function xt(t,e,n){return xt=ze()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&Xe(h,i.prototype),h},xt.apply(null,arguments)}function ze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xe(t,e){return Xe=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xe(t,e)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(t)}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var se,Rt,$t,bt,Mt,Wn,Cr,vo,Vn,Co,ei,Na,Lu,Ro=function(t){Ie(n,t);var e=De(n);function n(){var r;ne(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return it(rt(r=e.call(this,i.length)),"rows",void 0),it(rt(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(h,g){r[g]=h}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(rt(r),n.prototype),r}return _e(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return j(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return xt(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),h=function(x){var S=r.getColumn(x);a[i][x]=c.reduce(function(D,I,X){return D+I*S[X]},0)},g=0;g<r.columns;g++)h(g);return xt(n,j(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new u(r[0],r[1])})}},{key:"toString",value:function(){var r=b(this[0],2),a=r[0],i=r[1],c=b(this[1],2),h=c[0],g=c[1],x=b(this[2],2),S=x[0],D=x[1];return"matrix(".concat(a," ").concat(i," ").concat(h," ").concat(g," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,a){return this.cross(new Ca(r,a))}},{key:"rotate",value:function(r){return this.cross(new Oi(r))}},{key:"scale",value:function(r,a){return this.cross(new Bl(r,a))}}]),n}(dt(Array)),Oi=function(t){Ie(n,t);var e=De(n);function n(r){var a;return ne(this,n),a=e.call(this,new nr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new nr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new nr(0,0,1)),Object.setPrototypeOf(rt(a),n.prototype),a}return _e(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Ro),Bl=function(t){Ie(n,t);var e=De(n);function n(r,a){var i;return ne(this,n),it(rt(i=e.call(this,new nr(r,0,0),new nr(0,a,0),new nr(0,0,1))),"sx",void 0),it(rt(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(rt(i),n.prototype),i}return _e(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Ro),Ca=function(t){Ie(n,t);var e=De(n);function n(r,a){var i;return ne(this,n),it(rt(i=e.call(this,new nr(1,0,0),new nr(0,1,0),new nr(r,a,1))),"tx",void 0),it(rt(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(rt(i),n.prototype),i}return _e(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Ro),zu={node:!1,edge:!1},Fl={node:!0,edge:!0};function Bu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bu(Object(n),!0).forEach(function(r){ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Fu(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ti(t){return function(e){if(Array.isArray(e))return hh(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Fu(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fu(t,e){if(t){if(typeof t=="string")return hh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hh(t,e):void 0}}function hh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wp(t){return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Io(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _t(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var yg,vg=200,gg=(se=function(){function t(r){(function(X,q){if(!(X instanceof q))throw new TypeError("Cannot call a class as a function")})(this,t),ni(this,"rootEl",void 0),Io(this,"width",Rt,this),Io(this,"height",$t,this),ni(this,"theme",void 0),ni(this,"eventCenter",void 0),ni(this,"modelMap",new Map),ni(this,"topElement",void 0),ni(this,"animation",void 0),ni(this,"idGenerator",void 0),ni(this,"edgeGenerator",void 0),ni(this,"nodeMoveRules",[]),ni(this,"customTrajectory",void 0),Io(this,"edgeType",bt,this),Io(this,"nodes",Mt,this),Io(this,"edges",Wn,this),Io(this,"overlapMode",Cr,this),Io(this,"background",vo,this),Io(this,"transformModel",Vn,this),Io(this,"editConfigModel",Co,this),Io(this,"gridSize",ei,this),Io(this,"partial",Na,this),Io(this,"fakerNode",Lu,this);var a,i=r.container,c=r.background,h=c===void 0?{}:c,g=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,I=r.customTrajectory;this.background=h,wp(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new Is(r),this.eventCenter=new zf,this.transformModel=new Ef(this.eventCenter,r),this.theme=Bi(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=D)&&typeof a!="boolean"?gu(fn(zu),a):fn(a===!0?Fl:zu),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=I,this.edgeGenerator=Er(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=qo()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(ti(this.nodes),ti(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var a=[],i=[-200,-200],c=[this.width+vg,this.height+vg],h=0;h<r.length;h++){var g=r[h];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,i,c,!1,!1))&&a.push(g)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===sn.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===sn.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],g=[],x=[];this.nodes.forEach(function(I){return x.push(I)}),this.edges.forEach(function(I){return x.push(I)});for(var S=0;S<x.length;S++){var D=x[S];h&&!D.visible||!this.isElementInArea(D,r,a,i,c)||g.push(D)}return g}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),h={x:a-c.left,y:i-c.top},g=Yi(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Bn.NODE){for(var g=jn(r=r),x=g.minX,S=g.minY,D=g.maxX,I=g.maxY,X=[{x,y:S},{x:D,y:S},{x:D,y:I},{x,y:I}],q=h,ee=0;ee<X.length;ee++){var ge=X[ee],ve=ge.x,we=ge.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ve,we]),Je=Yi(Ce,2);if(ve=Je[0],we=Je[1],_u([ve,we],a,i)!==h){q=!h;break}}return q}if(r.BaseType===Bn.EDGE){var qe=r=r,gt=qe.startPoint,$e=qe.endPoint,ht=this.transformModel.CanvasPointToHtmlPoint([gt.x,gt.y]),tt=this.transformModel.CanvasPointToHtmlPoint([$e.x,$e.y]),Kt=_u(ht,a,i),Jt=_u(tt,a,i);return c?Kt&&Jt:Kt||Jt}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ac(r.nodes,function(i){return a.getModelAfterSnapToGrid(i)}):this.nodes=[],r.edges?this.edges=ac(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var h=!1,g=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){h=!0;break}g.push(S.getHistoryData())}return!h&&{nodes:a,edges:g}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],h=this.edges[i].sourceNodeId===r,g=this.edges[i].targetNodeId===r;(h||g)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===Bn.NODE&&i.nodes.push(c.getData()),c.BaseType===Bn.EDGE){var h=c.getData(),g=a.get(h.sourceNodeId)&&a.get(h.targetNodeId);(r||g)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=qo()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=qo()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,h=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Sn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Sn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,h,g=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);g&&(typeof a=="number"&&(h=a),a==="top"&&(h=fl()),a==="bottom"&&(h=--rh),g.setZIndex(h))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=pr(r);c.id&&this.nodesMap[r.id]&&delete c.id;var h=this.getModelAfterSnapToGrid(c);this.nodes.push(h);var g=h.getData(),x={data:g};return i&&(x.e=i),this.eventCenter.emit(a,x),h}},{key:"getModelAfterSnapToGrid",value:function(r){var a=this.getModel(r.type);if(!a)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var i=r.x,c=r.y;return i&&c&&(r.x=yi(i,this.gridSize),r.y=yi(c,this.gridSize),wp(r.text)==="object"&&(r.text.x+=r.x-i,r.text.y+=r.y-c)),new a(r,this)}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.getMoveDistance(a,i,c),S=Yi(x,2);a=S[0],i=S[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.x,S=g.y,D=a-x,I=i-S;this.moveNode(r,D,I,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,sn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=pr(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new c(Hi(Hi({},a),{},{type:i}),this),g=h.getData();return this.edges.push(h),this.eventCenter.emit(pt.EDGE_ADD,{data:g}),h}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var h=this.edges[c],g=h.textPosition,x=g.x,S=g.y,D=this.edges[c].sourceNodeId===r,I=this.edges[c].targetNodeId===r;D&&h.moveStartPoint(a,i),I&&h.moveEndPoint(a,i),(D||I)&&this.handleEdgeTextMove(h,x,S)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Yt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var h=r.text,g=ku(h,r.points);r.moveText(g.x-h.x,g.y-h.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-a,D-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(sn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(sn.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Sn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=r.reduce(function(qe,gt){var $e=c.nodesMap[gt].model.getMoveDistance(a,i,h);return qe[gt]=$e,qe},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,I=D.x,X=D.y,q=g[S.sourceNodeId],ee=g[S.targetNodeId],ge=void 0,ve=void 0;if(q&&ee&&S.modelType===Yt.POLYLINE_EDGE){var we=Yi(q,2);ge=we[0],ve=we[1],S.updatePointsList(ge,ve)}else{if(q){var Ce=Yi(q,2);ge=Ce[0],ve=Ce[1],S.moveStartPoint(ge,ve)}if(ee){var Je=Yi(ee,2);ge=Je[0],ve=Je[1],S.moveEndPoint(ge,ve)}}(q||ee)&&this.handleEdgeTextMove(S,I,X)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var g=new h(c,this);this.nodes.splice(this.nodesMap[r].index,1,g),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=Jf(g,x.startPoint,g.width,g.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=Jf(g,x.endPoint,g.width,g.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var g=new h(c,this);this.edges.splice(this.edgesMap[r].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getAnchorIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetAnchorId===r&&a.push(i)}),a}},{key:"getAnchorOutcomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceAnchorId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=Bi(Hi(Hi({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(D){var I=D.x,X=D.y,q=D.width,ee=D.height,ge=D.getNodeStyle().strokeWidth,ve=ge===void 0?0:ge,we=I+q/2+ve,Ce=I-q/2-ve,Je=X+ee/2+ve,qe=X-ee/2-ve;a=a.concat([we,Ce].filter(function(gt){return!Number.isNaN(gt)})),i=i.concat([Je,qe].filter(function(gt){return!Number.isNaN(gt)}))});var c=Math.min.apply(Math,ti(a)),h=Math.max.apply(Math,ti(a)),g=Math.min.apply(Math,ti(i)),x=h-c||0,S=Math.max.apply(Math,ti(i))-g||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:g+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,h=this.transformModel;if(r.length){var g=a||c.clientWidth,x=i||c.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,I=S.virtualRectCenterPositionY;h.focusOn(D,I,g,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,h=this.height,g=this.rootEl,x=this.transformModel;if(i.length){var S=c||g.clientWidth,D=h||g.clientHeight,I=this.getVirtualRectSize(),X=I.virtualRectWidth,q=I.virtualRectHeight,ee=I.virtualRectCenterPositionX,ge=I.virtualRectCenterPositionY,ve=(X+a)/S,we=(q+r)/D,Ce=0;Ce=1/Math.max(ve,we);var Je=[S/2,D/2];x.zoom(Ce,Je),x.focusOn(ee,ge,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&i_(e.prototype,n),t}(),Rt=_t(se.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=_t(se.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=_t(se.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=_t(se.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wn=_t(se.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cr=_t(se.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sn.DEFAULT}}),vo=_t(se.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=_t(se.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=_t(se.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=_t(se.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Na=_t(se.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lu=_t(se.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t(se.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"nodesMap"),se.prototype),_t(se.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"edgesMap"),se.prototype),_t(se.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"modelsMap"),se.prototype),_t(se.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"sortElements"),se.prototype),_t(se.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"textEditElement"),se.prototype),_t(se.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"selectElements"),se.prototype),_t(se.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(se.prototype,"selectNodes"),se.prototype),_t(se.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setFakerNode"),se.prototype),_t(se.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"removeFakerNode"),se.prototype),_t(se.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setModel"),se.prototype),_t(se.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"toFront"),se.prototype),_t(se.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementZIndex"),se.prototype),_t(se.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteNode"),se.prototype),_t(se.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"addNode"),se.prototype),_t(se.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"cloneNode"),se.prototype),_t(se.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode"),se.prototype),_t(se.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode2Coordinate"),se.prototype),_t(se.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"editText"),se.prototype),_t(se.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"addEdge"),se.prototype),_t(se.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"moveEdge"),se.prototype),_t(se.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteEdgeBySourceAndTarget"),se.prototype),_t(se.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteEdgeById"),se.prototype),_t(se.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteEdgeBySource"),se.prototype),_t(se.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteEdgeByTarget"),se.prototype),_t(se.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementStateById"),se.prototype),_t(se.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"updateText"),se.prototype),_t(se.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"selectNodeById"),se.prototype),_t(se.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"selectEdgeById"),se.prototype),_t(se.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"selectElementById"),se.prototype),_t(se.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"clearSelectElements"),se.prototype),_t(se.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNodes"),se.prototype),_t(se.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setDefaultEdgeType"),se.prototype),_t(se.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"changeNodeType"),se.prototype),_t(se.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"changeEdgeType"),se.prototype),_t(se.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getNodeIncomingEdge"),se.prototype),_t(se.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getNodeOutgoingEdge"),se.prototype),_t(se.prototype,"getAnchorIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getAnchorIncomingEdge"),se.prototype),_t(se.prototype,"getAnchorOutcomingEdge",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getAnchorOutcomingEdge"),se.prototype),_t(se.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getNodeIncomingNode"),se.prototype),_t(se.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"getNodeOutgoingNode"),se.prototype),_t(se.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"setTheme"),se.prototype),_t(se.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"resize"),se.prototype),_t(se.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"clearData"),se.prototype),_t(se.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"translateCenter"),se.prototype),_t(se.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"fitView"),se.prototype),_t(se.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"openEdgeAnimation"),se.prototype),_t(se.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(se.prototype,"closeEdgeAnimation"),se.prototype),se),a_=gg;function yh(t){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function vh(){return vh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function u_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gh(t,e){return gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gh(t,e)}function c_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xp(t);if(e){var a=xp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s_(this,n)}}function s_(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wi(t)}function wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xp(t)}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mg,l_=ai(yg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&gh(i,c)})(a,t);var e,n,r=c_(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),Wi(wi(c=r.call(this)),"stepDrag",void 0),Wi(wi(c),"stepScrollX",0),Wi(wi(c),"stepScrollY",0),Wi(wi(c),"onDragging",function(S){var D=S.deltaX,I=S.deltaY;c.setState({isDragging:!0});var X=c.props.graphModel,q=X.transformModel;X.editConfigModel.stopMoveGraph!==!0&&q.translate(D,I)}),Wi(wi(c),"onDragEnd",function(){c.setState({isDragging:!1})}),Wi(wi(c),"zoomHandler",function(S){var D=c.props,I=D.graphModel,X=I.editConfigModel,q=I.transformModel,ee=I.gridSize,ge=D.graphModel,ve=S.deltaX,we=S.deltaY;if(X.stopScrollGraph||S.ctrlKey===!0){if(!X.stopZoomGraph){S.preventDefault();var Ce=ge.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y;q.zoom(S.deltaY<0,[Je,qe])}}else{if(S.preventDefault(),c.stepScrollX+=ve,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=ee){var gt=c.stepScrollX%ee,$e=c.stepScrollX-gt;q.translate(-$e*q.SCALE_X,0),c.stepScrollX=gt}if(Math.abs(c.stepScrollY)>=ee){var ht=c.stepScrollY%ee,tt=c.stepScrollY-ht;q.translate(0,-tt*q.SCALE_Y),c.stepScrollY=ht}}}),Wi(wi(c),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=c.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(pt.BLANK_CLICK,{e:S})}}),Wi(wi(c),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=c.props.graphModel,I=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:S,position:I})}}),Wi(wi(c),"mouseDownHandler",function(S){var D=c.props.graphModel,I=D.eventCenter,X=D.editConfigModel,q=D.transformModel.SCALE_X,ee=D.gridSize,ge=S.target,ve=!X.adjustEdge&&!X.adjustNodePosition;(ge.getAttribute("name")==="canvas-overlay"||ve)&&(X.stopMoveGraph!==!0?(c.stepDrag.setStep(ee*q),c.stepDrag.handleMouseDown(S)):I.emit(pt.BLANK_MOUSEDOWN,{e:S}),c.clickHandler(S))});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new no({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,h=c.children,g=c.dnd,x=this.state.isDragging;return Object(fe.g)("svg",vh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(fe.g)("g",{transform:i},h))}}])&&u_(e.prototype,n),a}(fe.a))||yg;function mh(t){return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function f_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bh(t,e){return bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bh(t,e)}function d_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ep(t);if(e){var a=Ep(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ep(t)}var y_=ai(mg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&bh(i,c)})(a,t);var e,n,r=d_(a);function a(){return f_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=c.getTools().map(function(x){return Object(fe.g)(x,{graphModel:h,logicFlow:c.instance})});return c.components=g,g}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=document.querySelector("#ToolOverlay_".concat(h.flowId)),x=c.getInstance();x.components.forEach(function(S){return S(x,g)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(fe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&p_(e.prototype,n),a}(fe.a))||mg;function _h(t){return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function v_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oh(t,e){return Oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oh(t,e)}function m_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sp(t);if(e){var a=Sp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(t)}var bg,__=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Oh(i,c)})(a,t);var e,n,r=m_(a);function a(){return v_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:i,className:"lf-background-area"}))}}])&&g_(e.prototype,n),a}(fe.a);function wh(t){return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function O_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xh(t,e){return xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xh(t,e)}function x_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jp(t);if(e){var a=jp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _g(t)}function _g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(t)}function S_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Og=ai(bg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xh(i,c)})(a,t);var e,n,r=x_(a);function a(){var i;O_(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return S_(_g(i=r.call.apply(r,[this].concat(h))),"id",qo()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?2:g,S=i.size,D=i.visible,I=Math.min(Math.max(2,x),S/2),X=1;return D||(X=0),Object(fe.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:h,opacity:X})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?1:g,S=i.size,D=i.visible,I=Math.min(Math.max(1,x),S/2),X="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),q=1;return D||(q=0),Object(fe.g)("path",{d:X,stroke:h,strokeWidth:I,opacity:q})}},{key:"render",value:function(){var i=this.props,c=i.type,h=i.size,g=i.graphModel.transformModel,x=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:h,height:h},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&w_(e.prototype,n),a}(fe.a))||bg;Og.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function j_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return wg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xg,qc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=j_(n,2),a=r[0],i=r[1];(a==="style"||Eh(i)!=="object")&&(e[a]=i)}),Object(fe.g)("line",e)};function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jh(t,e)}function k_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ap(t);if(e){var a=Ap(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(t)}var Sg,D_=ai(xg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jh(i,c)})(a,t);var e,n,r=k_(a);function a(){return A_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,h=i.isShowHorizontal,g=i.isShowVertical,x=i.getStyle(),S=c.x,D=S===void 0?0:S,I=c.y,X=I===void 0?0:I,q=Pp(Pp({x1:-1e5,y1:X,x2:1e5,y2:X},x),{},{stroke:h?x.stroke:"none"}),ee=Pp(Pp({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:g?x.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)(qc,q),Object(fe.g)(qc,ee))}}])&&M_(e.prototype,n),a}(fe.a))||xg;function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function N_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ra(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,h=e-r/2,g=n-a/2,x={};return Object.entries(t).forEach(function(S){var D=N_(S,2),I=D[0],X=D[1];Ph(X)!=="object"&&(x[I]=X)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=h,x.y=g,Object(fe.g)("rect",x)}function Ah(t){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Zc(){return Zc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pg(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e){return Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mh(t,e)}function L_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mp(t);if(e){var a=Mp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(t)}Ra.defaultProps={className:"",radius:""};var Mg,B_=ai(Sg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mh(i,c)})(a,t);var e,n,r=L_(a);function a(){return R_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,h=i.editConfigModel,g=h.hoverOutline,x=h.nodeSelectedOutline,S=[];return c.forEach(function(D){if(D.isHovered||D.isSelected){var I=D.isHovered,X=D.isSelected,q=D.x,ee=D.y,ge=D.width,ve=D.height;if(x&&X||g&&I){var we=D.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(qe){qe!=="hover"&&(Ce[qe]=we[qe])}),I){var Je=we.hover;Ce=Ag(Ag({},Ce),Je)}S.push(Object(fe.g)(Ra,Zc({transform:D.transform,className:"lf-outline-node",x:q,y:ee,width:ge+10,height:ve+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,h=i.editConfigModel,g=h.edgeSelectedOutline,x=h.hoverOutline,S=[],D=0;D<c.length;D++){var I=c[D];(g&&I.isSelected||x&&I.isHovered)&&(I.modelType===Yt.LINE_EDGE?S.push(this.getLineOutline(I)):I.modelType===Yt.POLYLINE_EDGE?S.push(this.getPolylineOutline(I)):I.modelType===Yt.BEZIER_EDGE&&S.push(this.getBezierOutline(I)))}return S}},{key:"getLineOutline",value:function(i){var c=i.startPoint,h=i.endPoint,g=(c.x+h.x)/2,x=(c.y+h.y)/2,S=Math.abs(c.x-h.x)+10,D=Math.abs(c.y-h.y)+10,I=i.getOutlineStyle();return Object(fe.g)(Ra,Zc({className:"lf-outline-edge",x:g,y:x,width:S,height:D},I))}},{key:"getPolylineOutline",value:function(i){var c=i.points,h=Jo(c),g=Xi(h,8),x=g.x,S=g.y,D=g.width,I=g.height,X=i.getOutlineStyle();return Object(fe.g)(Ra,Zc({className:"lf-outline",x,y:S,width:D,height:I},X))}},{key:"getBezierOutline",value:function(i){var c=i.path,h=Au(c),g=Xi(h,8),x=g.x,S=g.y,D=g.width,I=g.height,X=i.getOutlineStyle();return Object(fe.g)(Ra,Zc({className:"lf-outline",x,y:S,width:D,height:I},X))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&I_(e.prototype,n),a}(fe.a))||Sg;function kh(t){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function F_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return kg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return kg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jc(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,h=t.className,g={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=F_(x,2),D=S[0],I=S[1];kh(I)!=="object"&&(g[D]=I)}),g.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(fe.g)("circle",g)}function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function U_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Tg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ul(){return Ul=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}function Dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ng(t,e,n){return e&&G_(t.prototype,e),t}function Cg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dh(t,e)}function Dh(t,e){return Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dh(t,e)}function Rg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tp(t);if(e){var a=Tp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kp(t)}function kp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(t)}function Nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ig,Lg=function(t){Cg(n,t);var e=Rg(n);function n(){var r;return Dg(this,n),Nh(kp(r=e.call(this)),"dragHandler",void 0),Nh(kp(r),"onDragging",function(a){var i=a.event,c=r.props,h=c.graphModel,g=c.bezierModel,x=c.type,S=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,D=S.x,I=S.y;g.updateAdjustAnchor({x:D,y:I},x),h.eventCenter.emit(pt.EDGE_ADJUST,{data:g.getData()})}),Nh(kp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new no({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Ng(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(Jc,Ul({className:"lf-bezier-adjust-anchor",x:i,y:c},h,{onMouseDown:function(g){r.dragHandler.handleMouseDown(g)}}))}}]),n}(fe.a),H_=ai(Mg=function(t){Cg(n,t);var e=Rg(n);function n(){return Dg(this,n),e.apply(this,arguments)}return Ng(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,h=U_(Au(i),4),g=h[0],x=h[1],S=h[2],D=h[3],I=r.getEdgeStyle().adjustLine,X=[];return X.push(Object(fe.g)(qc,Ul({x1:g.x,y1:g.y,x2:x.x,y2:x.y},I))),X.push(Object(fe.g)(Lg,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),X.push(Object(fe.g)(qc,Ul({x1:D.x,y1:D.y,x2:S.x,y2:S.y},I))),X.push(Object(fe.g)(Lg,{position:S,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),X}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var h=a[c];h.isSelected&&h.modelType===Yt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||Mg;function Ch(t){return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e){return Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rh(t,e)}function V_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dp(t);if(e){var a=Dp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K_(this,n)}}function K_(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}var zg,$_=ai(Ig=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Rh(i,c)})(a,t);var e,n,r=V_(a);function a(){return Y_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:i},c))}}])&&W_(e.prototype,n),a}(fe.a))||Ig;function Ih(t){return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Lh(){return Lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zh(t,e){return zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zh(t,e)}function J_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Np(t);if(e){var a=Np(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Q_(this,n)}}function Q_(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}var e1=ai(zg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zh(i,c)})(a,t);var e,n,r=J_(a);function a(){return q_(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,x=g(i.type);return Object(fe.g)(x,{key:i.id,model:i,graphModel:c,overlay:h})}},{key:"render",value:function(){var i=this,c=this.props,h=c.graphModel,g=c.tool,x=c.options,S=c.dnd,D=c.snaplineModel,I={};x.width&&(I.width="".concat(h.width,"px")),x.height&&(I.height="".concat(h.height,"px"));var X=x.grid,q=h.fakerNode,ee=h.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph","flow-id":h.flowId,style:I},Object(fe.g)(l_,{graphModel:h,dnd:S},Object(fe.g)("g",{className:"lf-base"},ac(h.sortElements,function(ge){return i.getComponent(ge,h)})),q?this.getComponent(q,h):""),Object(fe.g)($_,{graphModel:h},Object(fe.g)(B_,{graphModel:h}),ee?Object(fe.g)(H_,{graphModel:h}):"",x.snapline!==!1?Object(fe.g)(D_,{snaplineModel:D}):""),Object(fe.g)(y_,{graphModel:h,tool:g}),x.background&&Object(fe.g)(__,{background:x.background}),x.grid&&Object(fe.g)(Og,Lh({},X,{graphModel:h})))}}],n&&Z_(e.prototype,n),a}(fe.a))||zg,t1=e1;function Bg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bg(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r1=function(){function t(r){var a=this;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Vi(this,"nodeConfig",void 0),Vi(this,"lf",void 0),Vi(this,"fakerNode",void 0),Vi(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),Vi(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Cp(Cp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Vi(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var h=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),g=h.x,x=h.y;a.fakerNode.moveTo(g,x);var S=a.fakerNode.getData();a.lf.setNodeSnapLine(S),a.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:S})}return!1}),Vi(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),Vi(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Cp(Cp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=fa(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,g=h.x,x=h.y;return{x:yi(g,c),y:yi(x,c)}}},{key:"startDrag",value:function(r){var a=this.lf.graphModel.editConfigModel;a!=null&&a.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&n1(e.prototype,n),t}();function Fg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=gu({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),gu({},Gg,t)}var pn,Ug,Gg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Fh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Xg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(n),!0).forEach(function(r){Yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gl(){return Gl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=u1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Gl.apply(this,arguments)}function u1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ia(t))!==null;);return t}function Uh(t,e){return Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uh(t,e)}function c1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ia(t);if(e){var a=Ia(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s1(this,n)}}function s1(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(t)}function Ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ia(t){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ia(t)}function Yg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Gh=(pn=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Uh(i,c)})(a,t);var e,n,r=c1(a);function a(){var i;i1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Yg(Ip(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.BEZIER_EDGE),o1(Ip(i),"path",Ug,Ip(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Gl(Ia(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Rp(Rp({},Gl(Ia(a.prototype),"getEdgeStyle",this).call(this)),fn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(h){var g=h.x,x=h.y;i+=g,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Gl(Ia(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Rp(Rp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return Pu({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Fh(i,4),h=c[0],g=c[1],x=c[2],S=c[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,h=i.ePre;this.updatePath(c,h)}},{key:"updatePath",value:function(i,c){i=fn(i),c=fn(c);var h={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[h,i,c,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var h=Fh(this.pointsList,3),g=h[1],x=h[2];g.x+=i,g.y+=c,this.updatePath(g,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var h=Fh(this.pointsList,3),g=h[1],x=h[2];x.x+=i,x.y+=c,this.updatePath(g,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=Pu({start:c,end:h,sourceNode:g,targetNode:x,offset:this.offset}),D=S.sNext,I=S.ePre;this.pointsList=[c,D,I,h],this.initPoints()}}])&&a1(e.prototype,n),a}(dl),Ug=ri(pn.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ri(pn.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"initPoints"),pn.prototype),ri(pn.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"updatePoints"),pn.prototype),ri(pn.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"updateStartPoint"),pn.prototype),ri(pn.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"updateEndPoint"),pn.prototype),ri(pn.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"moveStartPoint"),pn.prototype),ri(pn.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"moveEndPoint"),pn.prototype),ri(pn.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"updateAdjustAnchor"),pn.prototype),ri(pn.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"getAdjustStart"),pn.prototype),ri(pn.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"getAdjustEnd"),pn.prototype),ri(pn.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(pn.prototype,"updateAfterAdjustStartAndEnd"),pn.prototype),pn),Ye,Wg,Vg,Kg,$g,qg,Zg,Jg,Qg,em,tm,nm,rm,om,im,am,um,cm,sm,lm,fm,pm,dm,l1=function(t){return t==null};function f1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||hm(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xh(t){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function hm(t,e){if(t){if(typeof t=="string")return ym(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ym(t,e):void 0}}function ym(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vm(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ki,gm,$i=(Ye=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),ro(this,"id",""),Kn(this,"type",Wg,this),Kn(this,"x",Vg,this),Kn(this,"y",Kg,this),Kn(this,"text",$g,this),Kn(this,"properties",qg,this),Kn(this,"_width",Zg,this),Kn(this,"_height",Jg,this),Kn(this,"anchorsOffset",Qg,this),Kn(this,"isSelected",em,this),Kn(this,"isHovered",tm,this),Kn(this,"isShowAnchor",nm,this),Kn(this,"isDragging",rm,this),Kn(this,"isHitable",om,this),Kn(this,"draggable",im,this),Kn(this,"visible",am,this),Kn(this,"enableRotate",um,this),ro(this,"virtual",!1),ro(this,"graphModel",void 0),Kn(this,"zIndex",cm,this),Kn(this,"state",sm,this),Kn(this,"autoToFront",lm,this),Kn(this,"style",fm,this),Kn(this,"transform",pm,this),Kn(this,"_rotate",dm,this),ro(this,"BaseType",Bn.NODE),ro(this,"modelType",Yt.NODE),ro(this,"additionStateData",void 0),ro(this,"targetRules",[]),ro(this,"sourceRules",[]),ro(this,"moveRules",[]),ro(this,"hasSetTargetRules",!1),ro(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var a=this.x,i=a===void 0?0:a,c=this.y,h=c===void 0?0:c;this.transform=new Ca(-i,-h).rotate(r).translate(i,h).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||qo()}this.formatText(r),or(this,function(h){return Ho(h,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Sn.INCREASE&&(this.zIndex=r.zIndex||fl())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h=this.properties;Object(d.x)(h)&&(h=Object(d.I)(h));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.rotate&&(g.rotate=this.rotate),this.graphModel.overlapMode===Sn.INCREASE&&(g.zIndex=this.zIndex),c&&(g.text={x:a,y:i,value:c}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Yr(Yr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return fn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return fn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return fn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return fn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return fn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,this,r,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,r,this,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,h=!0,g=function(D,I){var X=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!X){if(Array.isArray(D)||(X=hm(D))||I){X&&(D=X);var q=0,ee=function(){};return{s:ee,n:function(){return q>=D.length?{done:!0}:{done:!1,value:D[q++]}},e:function(Ce){throw Ce},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,ve=!0,we=!1;return{s:function(){X=X.call(D)},n:function(){var Ce=X.next();return ve=Ce.done,Ce},e:function(Ce){we=!0,ge=Ce},f:function(){try{ve||X.return==null||X.return()}finally{if(we)throw ge}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(Xh(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;c=c&&S.x,h=h&&S.y}}}catch(D){g.e(D)}finally{g.f()}return{x:c,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(h,g){return h.length?(h=h,{id:"".concat(a,"_").concat(g),x:i+h[0],y:c+h[1]}):Yr(Yr({},h=h),{},{x:i+h.x,y:c+h.y,id:h.id||"".concat(a,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,h=Rc(i),g=Number.MAX_SAFE_INTEGER,x=0;x<h.length;x++){var S=ho(a.x,a.y,h[x].x,h[x].y);S<g&&(g=S,c={index:x,anchor:Dc(Dc({},h[x]),{},{x:h[x].x,y:h[x].y,id:h[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(h){var g=h.x,x=h.y,S=f1(new Ro([g,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),D=S[0],I=S[1];h.x=D,h.y=I}),r}},{key:"getAnchorInfo",value:function(r){if(!l1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1;if(i)c=!0,h=!0;else{var g=this.isAllowMoveNode(r,a);typeof g=="boolean"?(c=g,h=g):(c=g.x,h=g.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(h){var S=this.y+a;this.y=S,this.text&&this.moveText(0,a)}return c||h}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1,g=0,x=0;if(i)c=!0,h=!0;else{var S=this.isAllowMoveNode(r,a);typeof S=="boolean"?(c=S,h=S):(c=S.x,h=S.y)}if(c&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),g=r}if(h&&a){var I=this.y+a;this.y=I,this.text&&this.moveText(0,a),x=a}return[g,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,h=a-this.y;return!(!i&&!this.isAllowMoveNode(c,h)||(this.text&&this.text&&this.moveText(c,h),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,editable:S,draggable:x,x:c+r,y:h+a}}},{key:"updateText",value:function(r){this.text=Yr(Yr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Yr(Yr({},Object(d.I)(this.properties)),{},ro({},r,pr(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Yr(Yr({},Object(d.I)(this.properties)),pr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Yr(Yr({},this.style),{},ro({},r,pr(a)))}},{key:"setStyles",value:function(r){this.style=Yr(Yr({},this.style),pr(r))}},{key:"updateStyles",value:function(r){this.style=Yr({},pr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){or(this,r)}}],n&&p1(e.prototype,n),t}(),Wg=Xt(Ye.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vg=Xt(Ye.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kg=Xt(Ye.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$g=Xt(Ye.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qg=Xt(Ye.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zg=Xt(Ye.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Jg=Xt(Ye.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Qg=Xt(Ye.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),em=Xt(Ye.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tm=Xt(Ye.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nm=Xt(Ye.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rm=Xt(Ye.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),om=Xt(Ye.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),im=Xt(Ye.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),am=Xt(Ye.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),um=Xt(Ye.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cm=Xt(Ye.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sm=Xt(Ye.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lm=Xt(Ye.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fm=Xt(Ye.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pm=Xt(Ye.prototype,"transform",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dm=Xt(Ye.prototype,"_rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xt(Ye.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Xt(Ye.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Xt(Ye.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Xt(Ye.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Xt(Ye.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Xt(Ye.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Xt(Ye.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Xt(Ye.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Xt(Ye.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Xt(Ye.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Xt(Ye.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Xt(Ye.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Xt(Ye.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Xt(Ye.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Xt(Ye.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Xt(Ye.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Xt(Ye.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Xt(Ye.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Xt(Ye.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Xt(Ye.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Xt(Ye.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Xt(Ye.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function Hh(t){return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mm(Object(n),!0).forEach(function(r){_m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yh(){return Yh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=v1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Yh.apply(this,arguments)}function v1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Qc(t))!==null;);return t}function Wh(t,e){return Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wh(t,e)}function g1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qc(t);if(e){var a=Qc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m1(this,n)}}function m1(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lp(t)}function Lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qc(t){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(t)}function _m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Rr,Om,wm,Kh=(Ki=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Wh(i,c)})(a,t);var e,n,r=g1(a);function a(){var i;h1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return _m(Lp(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.CIRCLE_NODE),d1(Lp(i),"r",gm,Lp(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Yh(Qc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return bm(bm({},i),fn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.r;return[{x:i,y:c-h,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+h,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&y1(e.prototype,n),a}($i),gm=Vh(Ki.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Vh(Ki.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ki.prototype,"width"),Ki.prototype),Vh(Ki.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ki.prototype,"height"),Ki.prototype),Ki);o(129);function $h(t){return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function qh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return xm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Em(Object(n),!0).forEach(function(r){Pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(){return Zh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=O1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Zh.apply(this,arguments)}function O1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ts(t))!==null;);return t}function Jh(t,e){return Jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jh(t,e)}function w1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ts(t);if(e){var a=ts(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x1(this,n)}}function x1(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return es(t)}function es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ts(t){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ts(t)}function Pm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ns(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var xi,Am,Mm,Qh=(Rr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Jh(i,c)})(a,t);var e,n,r=w1(a);function a(){var i;b1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Pm(es(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.DIAMOND_NODE),jm(es(i),"rx",Om,es(i)),jm(es(i),"ry",wm,es(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=Zh(ts(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Sm(Sm({},i),fn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[[i,c-g],[i+h,c],[i,c+g],[i-h,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=qh(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=qh(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,h){var g=qh(c,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(h)}})}}])&&_1(e.prototype,n),a}($i),Om=ns(Rr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),wm=ns(Rr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ns(Rr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Rr.prototype,"points"),Rr.prototype),ns(Rr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Rr.prototype,"pointsPosition"),Rr.prototype),ns(Rr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Rr.prototype,"width"),Rr.prototype),ns(Rr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Rr.prototype,"height"),Rr.prototype),Rr);function ey(t){return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?km(Object(n),!0).forEach(function(r){Nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(){return ty=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=j1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ty.apply(this,arguments)}function j1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=os(t))!==null;);return t}function ny(t,e){return ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ny(t,e)}function P1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=os(t);if(e){var a=os(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A1(this,n)}}function A1(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rs(t)}function rs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},os(t)}function Nm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Lo,Cm,ry=(xi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ny(i,c)})(a,t);var e,n,r=P1(a);function a(){var i;E1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Nm(rs(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.ELLIPSE_NODE),Dm(rs(i),"rx",Am,rs(i)),Dm(rs(i),"ry",Mm,rs(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ty(os(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Tm(Tm({},i),fn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[{x:i,y:c-g,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&S1(e.prototype,n),a}($i),Am=zp(xi.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Mm=zp(xi.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),zp(xi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(xi.prototype,"width"),xi.prototype),zp(xi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(xi.prototype,"height"),xi.prototype),xi);function oy(t){return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function iy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(){return ay=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=D1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ay.apply(this,arguments)}function D1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=is(t))!==null;);return t}function uy(t,e){return uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uy(t,e)}function N1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=is(t);if(e){var a=is(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C1(this,n)}}function C1(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bp(t)}function Bp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},is(t)}function zm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var cy,Bm,sy=(Lo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&uy(i,c)})(a,t);var e,n,r=N1(a);function a(){var i;k1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return zm(Bp(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.POLYGON_NODE),M1(Bp(i),"points",Cm,Bp(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ay(is(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Lm(Lm({},i),fn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return this.points.map(function(x){return{x:x[0]+i-h/2,y:x[1]+c-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=iy(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=iy(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,h=this.y,g=this.width,x=this.height;return this.points.map(function(S,D){var I=iy(S,2),X=I[0],q=I[1];return{x:c+X-g/2,y:h+q-x/2,id:"".concat(i.id,"_").concat(D)}})}}])&&T1(e.prototype,n),a}($i),Cm=Fp(Lo.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Fp(Lo.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Lo.prototype,"pointsPosition"),Lo.prototype),Fp(Lo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Lo.prototype,"width"),Lo.prototype),Fp(Lo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Lo.prototype,"height"),Lo.prototype),Lo);function ly(t){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Fm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fm(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function I1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fy(){return fy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=z1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},fy.apply(this,arguments)}function z1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=as(t))!==null;);return t}function py(t,e){return py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},py(t,e)}function B1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var a=as(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F1(this,n)}}function F1(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Up(t)}function Up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(t)}function Gm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var La,dy=(cy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&py(i,c)})(a,t);var e,n,r=B1(a);function a(){var i;I1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Gm(Up(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.RECT_NODE),R1(Up(i),"radius",Bm,Up(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=fy(as(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return Um(Um({},i),fn(c))}}])&&L1(e.prototype,n),a}($i),Bm=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(cy.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cy);function hy(t){return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function Xm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xm(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yy(){return yy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=X1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},yy.apply(this,arguments)}function X1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=us(t))!==null;);return t}function vy(t,e){return vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vy(t,e)}function H1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=us(t);if(e){var a=us(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y1(this,n)}}function Y1(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ym(t)}function Ym(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},us(t)}function Wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vm(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var gy=(La=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vy(i,c)})(a,t);var e,n,r=H1(a);function a(){var i;U1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Wm(Ym(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=yy(us(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return Hm(Hm({},i),fn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Eu({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return Eu({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&G1(e.prototype,n),a}($i),Vm(La.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(La.prototype,"width"),La.prototype),Vm(La.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(La.prototype,"height"),La.prototype),La);function my(t){return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function W1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e){return by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},by(t,e)}function K1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gp(t);if(e){var a=Gp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $1(this,n)}}function $1(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Km(t)}function Km(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}function q1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oi,$m,qm,Zm,_y=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&by(i,c)})(a,t);var e,n,r=K1(a);function a(){var i;W1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return q1(Km(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}}])&&V1(e.prototype,n),a}($i);function Jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Oy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Z1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xl(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var eb=(oi=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Qm(this,"graphModel",void 0),Oy(this,"isShowHorizontal",$m,this),Oy(this,"isShowVertical",qm,this),Oy(this,"position",Zm,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Jm(Object(i),!0).forEach(function(c){Qm(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Jm(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,h=!1,g=!1,x=0;x<a.length;x++){var S=a[x];if(S.id!==r.id&&(i===S.x&&(h=!0),c===S.y&&(g=!0),h&&g))break}return{isShowVertical:h,isShowHorizontal:g,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=jn(x);else{var S=this.graphModel.getNodeModelById(g);c=jn(S)}}for(var D=0;D<a.length;D++){var I=a[D];if(I.id!==r.id){var X=jn(I);if(X.minY===c.minY||X.maxY===c.minY){h=!0,i=c.minY;break}if(X.minY===c.maxY||X.maxY===c.maxY){h=!0,i=c.maxY;break}}}return or({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=jn(x);else{var S=this.graphModel.getNodeModelById(g);c=jn(S)}}for(var D=0;D<a.length;D++){var I=a[D];if(I.id!==r.id){var X=jn(I);if(X.minX===c.minX||X.maxX===c.minX){h=!0,i=c.minX;break}if(X.minX===c.maxX||X.maxX===c.maxX){h=!0,i=c.maxX;break}}}return or({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,h=i.isShowVertical;if(!c){var g=this.getHorizontalSnapline(r,a);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!h){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&Z1(e.prototype,n),t}(),$m=Xl(oi.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qm=Xl(oi.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zm=Xl(oi.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xl(oi.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(oi.prototype,"clearSnapline"),oi.prototype),Xl(oi.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(oi.prototype,"setNodeSnapLine"),oi.prototype),oi),Hl=new Map,tb=function(t){var e=qo(),n=window.requestAnimationFrame(function r(){if(t(),Hl.get(e)){var a=window.requestAnimationFrame(r);Hl.set(e,a)}});return Hl.set(e,n),e},Xp=function(t){var e=Hl.get(t);e&&(window.cancelAnimationFrame(e),Hl.delete(t))};function wy(t){return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function Yl(){return Yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}function nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return rb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xy(t,e){return xy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xy(t,e)}function eO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hp(t);if(e){var a=Hp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(t)}function Ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hp(t)}function Si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xy(i,c)})(a,t);var e,n,r=eO(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Si(Ei(i=r.call(this)),"preTargetNode",void 0),Si(Ei(i),"sourceRuleResults",void 0),Si(Ei(i),"targetRuleResults",void 0),Si(Ei(i),"dragHandler",void 0),Si(Ei(i),"t",void 0),Si(Ei(i),"onDragStart",function(c){var h=c.event,g=i.props,x=g.anchorData,S=g.nodeModel,D=g.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:h,nodeModel:S}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Si(Ei(i),"onDragging",function(c){var h=c.event,g=i.props,x=g.graphModel,S=g.nodeModel,D=g.anchorData,I=x.transformModel,X=x.eventCenter,q=x.width,ee=x.height,ge=x.editConfigModel,ve=ge.autoExpand,we=ge.stopMoveGraph,Ce=h.clientX,Je=h.clientY,qe=x.getPointByClient({x:Ce,y:Je}),gt=qe.domOverlayPosition,$e=gt.x,ht=gt.y,tt=qe.canvasOverlayPosition,Kt=tt.x,Jt=tt.y;i.t&&Xp(i.t);var Tt=[];$e<10?Tt=[10,0]:$e+10>q?Tt=[-10,0]:ht<10?Tt=[0,10]:ht+10>ee&&(Tt=[0,-10]),i.setState({endX:Kt,endY:Jt,dragging:!0}),i.moveAnchorEnd(Kt,Jt),Tt.length>0&&!we&&ve&&(i.t=tb(function(){var rn=J1(Tt,2),Un=rn[0],Gn=rn[1];I.translate(Un,Gn);var Sr=i.state,bo=Sr.endX,_o=Sr.endY;i.setState({endX:bo-Un,endY:_o-Gn}),i.moveAnchorEnd(bo-Un,_o-Gn)})),X.emit(pt.ANCHOR_DRAG,{data:D,e:h,nodeModel:S})}),Si(Ei(i),"onDragEnd",function(c){var h=c.event;i.t&&Xp(i.t);var g=i.checkEnd(h);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var x=i.props,S=x.graphModel,D=x.nodeModel,I=x.anchorData;S.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:I,e:h,nodeModel:D,edgeModel:g})}),Si(Ei(i),"checkEnd",function(c){var h=i.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=S.x,I=S.y,X=S.id,q=(g.edgeType,i.state),ee=q.endX,ge=q.endY,ve=q.dragging,we=xu({x:ee,y:ge},g);if(i.preTargetNode&&i.preTargetNode.state!==sn.DEFAULT&&i.preTargetNode.setElementState(sn.DEFAULT),ve&&we&&we.node){var Ce=we.node,Je=we.anchor.id,qe="".concat(x.id,"_").concat(Ce.id,"_").concat(Je,"_").concat(X),gt=i.sourceRuleResults.get(qe)||{},$e=gt.isAllPass,ht=gt.msg,tt=i.targetRuleResults.get(qe)||{},Kt=tt.isAllPass,Jt=tt.msg;if($e&&Kt){Ce.setElementState(sn.DEFAULT);var Tt=g.edgeGenerator(x.getData(),g.getNodeModelById(we.node.id).getData()),rn=g.addEdge(Wl(Wl({},Tt),{},{sourceNodeId:x.id,sourceAnchorId:X,startPoint:{x:D,y:I},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Un=i.props.anchorData;return g.eventCenter.emit(pt.ANCHOR_DROP,{data:Un,e:c,nodeModel:x,edgeModel:rn}),rn}var Gn=Ce.getData();return g.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Gn,msg:Jt||ht||"不允许添加连线"}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new no({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,h=i.style,g=i.node.getAnchorShape(c);if(g)return g;var x=c.x,S=c.y,D=Wl(Wl({},h),h.hover);return Object(fe.g)("g",null,Object(fe.g)(Jc,Yl({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(fe.g)(Jc,Yl({className:"lf-node-anchor"},h,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var i=this.props,c=i.graphModel,h=c.getAnchorIncomingEdge,g=c.getAnchorOutcomingEdge,x=i.anchorData.id;return{incomingEdgeList:h(x),outcomingEdgeList:g(x)}}},{key:"moveAnchorEnd",value:function(i,c){var h=this.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=xu({x:i,y:c},g);if(D){var I=D.node,X=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(sn.DEFAULT),S.id===X)return;this.preTargetNode=I;var q="".concat(x.id,"_").concat(I.id,"_").concat(X,"_").concat(S.id);if(!this.targetRuleResults.has(q)){var ee=D.anchor,ge=x.isAllowConnectedAsSource(I,S,ee),ve=I.isAllowConnectedAsTarget(x,S,ee);this.sourceRuleResults.set(q,Sa(ge)),this.targetRuleResults.set(q,Sa(ve))}var we=this.sourceRuleResults.get(q).isAllPass,Ce=this.targetRuleResults.get(q).isAllPass;we&&Ce?I.setElementState(sn.ALLOW_CONNECT):I.setElementState(sn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==sn.DEFAULT&&this.preTargetNode.setElementState(sn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,h=i.startY,g=i.endX,x=i.endY;return ho(c,h,g,x)>10}},{key:"render",value:function(){var i=this,c=this.state,h=c.startX,g=c.startY,x=c.endX,S=c.endY,D=this.props,I=D.anchorData.edgeAddable,X=D.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(q){I!==!1&&i.dragHandler.handleMouseDown(q)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Wl({sourcePoint:{x:h,y:g},targetPoint:{x,y:S}},X)):Object(fe.g)(qc,Yl({x1:h,y1:g,x2:x,y2:S},X,{"pointer-events":"none"}))))}}])&&Q1(e.prototype,n),a}(fe.a);function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(n),!0).forEach(function(r){oO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function iO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ib(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ib(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ab(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,h=t.fill,g=h===void 0?"currentColor":h,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,I=D===void 0?"":D,X=t.model,q={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:g};if(Object.entries(t).forEach(function(Je){var qe=iO(Je,2),gt=qe[0],$e=qe[1];Ey($e)!=="object"&&(q[gt]=$e)}),i){var ee=String(i).split(/[\r\n]/g),ge=ee.length;if(S!=="default"){var ve=X.BaseType,we=X.modelType;if(ve===Bn.NODE&&we!==Yt.TEXT_NODE||ve===Bn.EDGE&&I)return function(Je){var qe=Je.value,gt=Je.fontSize,$e=Je.model,ht=Je.fontFamily,tt=ht===void 0?"":ht,Kt=Je.lineHeight,Jt=Je.wrapPadding,Tt=Jt===void 0?"0, 0":Jt,rn=Je.overflowMode,Un=Je.x,Gn=Je.y,Sr=$e.width,bo=$e.textHeight,_o=Je.textWidth||Sr,Ai=String(qe).split(/[\r\n]/g),Yu=Ai.length,yd=Qf({rows:Ai,style:{fontSize:"".concat(gt,"px"),width:"".concat(_o,"px"),fontFamily:tt,lineHeight:Kt,padding:Tt},rowsLength:Yu,className:"lf-get-text-height"}),Wu=$e.height>yd?$e.height:yd;bo&&(Wu=bo);var Fa=rn==="ellipsis";return Fa&&(Wu=gt+2),Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:_o,height:Wu,x:Un-_o/2,y:Gn-Wu/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Wu,width:_o,padding:Tt}},Object(fe.g)("div",{className:Fa?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Fa?Ai.join(""):"",style:rO({},Je)},Ai.map(function(Ua){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ua)})))))}(t)}if(ge>1){var Ce=ee.map(function(Je,qe){var gt=(qe-(ge-1)/2)*(c+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:a+gt},Je)});return Object(fe.g)("text",q,Ce)}return Object(fe.g)("text",q,i)}}function Sy(t){return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function jy(){return jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function aO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ub(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ub(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Py(t,e)}function cO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yp(t);if(e){var a=Yp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return za(t)}function za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}function Uu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Py(i,c)})(a,t);var e,n,r=cO(a);function a(i){var c;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Uu(za(c=r.call(this)),"dragHandler",void 0),Uu(za(c),"sumDeltaX",0),Uu(za(c),"sumDeltaY",0),Uu(za(c),"stepDrag",void 0),Uu(za(c),"onDragging",function(g){var x=g.deltaX,S=g.deltaY,D=c.props,I=D.model,X=aO(D.graphModel.transformModel.fixDeltaXY(x,S),2),q=X[0],ee=X[1];I.moveText(q,ee)}),Uu(za(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(sn.TEXT_EDIT)}),Uu(za(c),"mouseDownHandle",function(g){var x=c.props,S=x.draggable,D=x.model,I=x.graphModel.editConfigModel.nodeTextDraggable;(S||I)&&(c.stepDrag.model=D,c.stepDrag.handleMouseDown(g))}),i.model;var h=i.draggable;return c.stepDrag=new no({onDragging:c.onDragging,step:1,isStopPropagation:h}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.text,x=h.editConfigModel,S=g.value,D=g.x,I=g.y,X=g.editable,q=g.draggable,ee={x:D,y:I,className:"",value:S};X?ee.className="lf-element-text":q||x.nodeTextDraggable?ee.className="lf-text-draggable":ee.className="lf-text-disabled";var ge=c.getTextStyle();return Object(fe.g)(ab,jy({},ee,ge,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&uO(e.prototype,n),a}(fe.a),lO=fa(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,sb=o(130);function Ay(t){return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function My(){return My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function fO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function pO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wp(t);if(e){var a=Wp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cs(t)}function cs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(t)}function Vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=pO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),Vl(cs(c=r.call(this,i)),"style",{}),Vl(cs(c),"defaultAngle",void 0),Vl(cs(c),"normal",void 0),Vl(cs(c),"stepperDrag",void 0),Vl(cs(c),"onDragging",function(h){var g,x=h.event,S=c.props,D=S.graphModel,I=S.nodeModel,X=S.eventCenter,q=D.selectNodes,ee=I.x,ge=I.y,ve=x.clientX,we=x.clientY,Ce=D.getPointByClient({x:ve,y:we}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,gt=new nr(Je-ee,qe-ge),$e=((g=c.normal)===null||g===void 0?void 0:g.angle(gt))-c.defaultAngle,ht=new Ca(-ee,-ge).rotate($e).translate(ee,ge).toString();I.transform=ht,I.rotate=$e;var tt=Object(sb.map)(q,function(Jt){return Jt.id});tt.indexOf(I.id)===-1&&(tt=[I.id]);var Kt=Object(sb.reduce)(tt,function(Jt,Tt){var rn=D.getNodeModelById(Tt);return Jt[Tt]=rn==null?void 0:rn.getMoveDistance(0,0,!1),Jt},{});tt.forEach(function(Jt){D.getNodeEdges(Jt).forEach(function(Tt){if(Kt[Tt.sourceNodeId]){var rn=D.getNodeModelById(Tt.sourceNodeId).anchors.find(function(Gn){return Gn.id===Tt.sourceAnchorId});Tt.updateStartPoint(rn)}if(Kt[Tt.targetNodeId]){var Un=D.getNodeModelById(Tt.targetNodeId).anchors.find(function(Gn){return Gn.id===Tt.targetAnchorId});Tt.updateEndPoint(Un)}})}),X.emit(pt.NODE_ROTATE,{e:x,nodeModel:I})}),c.style=i.style,c.stepperDrag=new no({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,h=c.x,g=c.y,x=h+c.width/2+20,S=g-c.height/2-20;return this.normal=new nr(1,0),this.defaultAngle=this.normal.angle(new nr(x-h,S-g)),c.defaultAngle=this.defaultAngle,Object(fe.g)("g",{className:"lf-rotate-control"},Object(fe.g)("g",{onMouseDown:function(D){i.stepperDrag.handleMouseDown(D)}},Object(fe.g)(Jc,My({},this.style,{cx:x,cy:S}))))}}])&&fO(e.prototype,n),a}(fe.a);function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}var yO=["className"];function Vp(){return Vp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function vO(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Kp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return lb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dy(t,e){return Dy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dy(t,e)}function gO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$p(t);if(e){var a=$p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mO(this,n)}}function mO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(t)}function yr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qi=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&Dy(c,h)})(i,t);var e,n,r,a=gO(i);function i(c){var h;(function(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")})(this,i),yr(ar(h=a.call(this)),"t",void 0),yr(ar(h),"moveOffset",void 0),yr(ar(h),"stepDrag",void 0),yr(ar(h),"contextMenuTime",void 0),yr(ar(h),"mouseUpDrag",void 0),yr(ar(h),"startTime",void 0),yr(ar(h),"clickTimer",void 0),yr(ar(h),"modelDisposer",void 0),yr(ar(h),"onDragStart",function(I){var X=I.event,q=X.clientX,ee=X.clientY,ge=h.props,ve=ge.model,we=ge.graphModel.getPointByClient({x:q,y:ee}).canvasOverlayPosition,Ce=we.x,Je=we.y;h.moveOffset={x:ve.x-Ce,y:ve.y-Je}}),yr(ar(h),"onDragging",function(I){var X=I.event,q=h.props,ee=q.model,ge=q.graphModel,ve=ge.editConfigModel,we=ve.stopMoveGraph,Ce=ve.autoExpand,Je=ge.transformModel,qe=ge.selectNodes,gt=ge.width,$e=ge.height,ht=ge.gridSize;ee.isDragging=!0;var tt=X.clientX,Kt=X.clientY,Jt=ge.getPointByClient({x:tt,y:Kt}).canvasOverlayPosition,Tt=Jt.x,rn=Jt.y,Un=Kp(Je.CanvasPointToHtmlPoint([Tt,rn]),2),Gn=Un[0],Sr=Un[1];if(Tt+=h.moveOffset.x,rn+=h.moveOffset.y,Tt=yi(Tt,ht),rn=yi(rn,ht),gt&&$e){if(!Ce||we||!(Gn<0||Sr<0||Gn>gt||Sr>$e)){var bo=Kp(Je.CanvasPointToHtmlPoint([Tt-ee.width/2,rn-ee.height/2]),2),_o=bo[0],Ai=bo[1],Yu=Kp(Je.CanvasPointToHtmlPoint([Tt+ee.width/2,rn+ee.height/2]),2),yd=Yu[0],Wu=Yu[1],Fa=Math.max(ht,20),Ua=[];_o<0?Ua=[Fa,0]:yd>ge.width?Ua=[-Fa,0]:Ai<0?Ua=[0,Fa]:Wu>ge.height&&(Ua=[0,-Fa]),h.t&&Xp(h.t);var tx=new Ca(-Tt,-rn).rotate(ee.rotate).translate(Tt,rn).toString();ee.transform=tx;var vd=qe.map(function(gd){return gd.id});vd.indexOf(ee.id)===-1&&(vd=[ee.id]),Ua.length>0&&!we&&Ce?h.t=tb(function(){var gd=Kp(Ua,2),Yb=gd[0],Wb=gd[1];Je.translate(Yb,Wb);var nx=-Yb/Je.SCALE_X,rx=-Wb/Je.SCALE_X;ge.moveNodes(vd,nx,rx)}):ge.moveNodes(vd,Tt-ee.x,rn-ee.y)}}else ge.moveNode2Coordinate(ee.id,Tt,rn)}),yr(ar(h),"onDragEnd",function(){h.t&&Xp(h.t),h.props.model.isDragging=!1}),yr(ar(h),"handleMouseUp",function(){var I=h.props.model;h.mouseUpDrag=I.isDragging}),yr(ar(h),"handleClick",function(I){var X=h.mouseUpDrag===!1;if(h.startTime){var q=h.props,ee=q.model,ge=q.graphModel;if(X){var ve={data:ee.getData(),e:I,position:ge.getPointByClient({x:I.clientX,y:I.clientY}),isSelected:!1,isMultiple:!1},we=I.button===2,Ce=I.detail===2;if(!we){var Je=ge.editConfigModel,qe=Ou(I,Je);ve.isMultiple=qe,ee.isSelected&&!Ce&&qe?(ve.isSelected=!1,ee.setSelected(!1)):(ge.selectNodeById(ee.id,qe),ve.isSelected=!0,h.toFront()),Ce?(Je.nodeTextEdit&&ee.text.editable&&(ee.setSelected(!1),ge.setElementStateById(ee.id,sn.TEXT_EDIT)),ge.eventCenter.emit(pt.NODE_DBCLICK,ve)):(ge.eventCenter.emit(pt.ELEMENT_CLICK,ve),ge.eventCenter.emit(pt.NODE_CLICK,ve))}}}}),yr(ar(h),"handleContextMenu",function(I){I.preventDefault();var X=h.props,q=X.model,ee=X.graphModel,ge=q.getData(),ve=ee.getPointByClient({x:I.clientX,y:I.clientY});ee.setElementStateById(q.id,sn.SHOW_MENU,ve.domOverlayPosition),q.isSelected||ee.selectNodeById(q.id),ee.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ge,e:I,position:ve}),h.toFront()}),yr(ar(h),"handleMouseDown",function(I){var X=h.props,q=X.model,ee=X.graphModel;h.startTime=new Date().getTime(),ee.editConfigModel.adjustNodePosition&&q.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(I)}),yr(ar(h),"setHoverON",function(I){var X=h.props,q=X.model,ee=X.graphModel;if(!q.isHovered){var ge=q.getData();q.setHovered(!0),ee.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ge,e:I})}}),yr(ar(h),"setHoverOFF",function(I){var X=h.props,q=X.model,ee=X.graphModel,ge=q.getData();q.isHovered&&(q.setHovered(!1),ee.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ge,e:I}))}),yr(ar(h),"onMouseOut",function(I){lO&&h.setHoverOFF(I)});var g=c.graphModel,x=g.gridSize,S=g.eventCenter,D=c.model;return h.stepDrag=new no({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),h.modelDisposer=Object(d.F)(function(){return h.props},function(I){I&&I.model&&h.stepDrag.setModel(I.model)}),h}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,h=this.props,g=h.model,x=h.graphModel,S=g.isSelected,D=g.isHitable,I=g.isDragging,X=g.isShowAnchor;return D&&(S||X)&&!I?ac(g.anchors,function(q,ee){var ge=g.getAnchorLineStyle(q),ve=g.getAnchorStyle(q);return Object(fe.g)(nO,{anchorData:q,node:c,style:ve,edgeStyle:ge,anchorIndex:ee,nodeModel:g,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,h=c.model,g=c.graphModel,x=h.isSelected,S=h.isHitable,D=h.enableRotate,I=h.isHovered,X=h.getRotateControlStyle().style;if(S&&(x||I)&&D)return Object(fe.g)(hO,{graphModel:g,nodeModel:h,eventCenter:g.eventCenter,style:X})}},{key:"getText",value:function(){var c=this.props,h=c.model,g=c.graphModel;if(h.state===sn.TEXT_EDIT)return"";if(h.text){var x=g.editConfigModel,S=!1;return(h.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(fe.g)(cb,{editable:x.nodeTextEdit&&h.text.editable,model:h,graphModel:g,draggable:S})}}},{key:"getStateClassName",value:function(){var c=this.props.model,h=c.state,g=c.isDragging,x=c.isSelected,S="lf-node";switch(h){case sn.ALLOW_CONNECT:S+=" lf-node-allow";break;case sn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return g&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var c=this.props,h=c.model,g=c.graphModel;h.autoToFront&&g.toFront(h.id)}},{key:"render",value:function(){var c,h=this.props,g=h.model,x=h.graphModel,S=x.editConfigModel,D=S.hideAnchors,I=S.adjustNodePosition,X=S.allowRotation,q=x.gridSize,ee=x.transformModel.SCALE_X,ge=g.isHitable,ve=g.draggable,we=g.transform,Ce=g.getOuterGAttributes(),Je=Ce.className,qe=Je===void 0?"":Je,gt=vO(Ce,yO),$e=Object(fe.g)("g",{className:"lf-node-content"},Object(fe.g)("g",{transform:we},this.getShape(),this.getText(),X&&this.getRotateControl()),!D&&this.getAnchors());return ge?(I&&ve&&this.stepDrag.setStep(q*ee),c=Object(fe.g)("g",Vp({className:"".concat(this.getStateClassName()," ").concat(qe),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},gt),$e)):c=Object(fe.g)("g",Vp({className:"".concat(this.getStateClassName()," ").concat(qe)},gt),$e),c}}])&&fb(e.prototype,n),r&&fb(e,r),i}(fe.a);function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function Cy(){return Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ry(t,e)}function OO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qp(t);if(e){var a=qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wO(this,n)}}function wO(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qp(t)}var Iy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ry(i,c)})(a,t);var e,n,r=OO(a);function a(){return bO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(Ra,Cy({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&_O(e.prototype,n),a}(qi);function Ly(t){return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function zy(){return zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function xO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function By(t,e){return By=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},By(t,e)}function SO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zp(t);if(e){var a=Zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(t)}var Fy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&By(i,c)})(a,t);var e,n,r=SO(a);function a(){return xO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.r,x=i.getNodeStyle();return Object(fe.g)(Jc,zy({},x,{x:c,y:h,r:g}))}}])&&EO(e.prototype,n),a}(qi);function Uy(t){return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function PO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return pb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function db(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=PO(a,2),c=i[0],h=i[1];Uy(h)!=="object"&&(r[c]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(fe.g)("polygon",r)}function Gy(t){return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function Xy(){return Xy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(this,arguments)}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hy(t,e)}function kO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jp(t);if(e){var a=Jp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(Gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jp(t)}var Yy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hy(i,c)})(a,t);var e,n,r=kO(a);function a(){return AO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.width,x=i.height,S=i.points,D=i.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(c-g/2," ").concat(h-x/2,")")};return Object(fe.g)("g",I,Object(fe.g)(db,Xy({},D,{points:S,x:c,y:h})))}}])&&MO(e.prototype,n),a}(qi);function Wy(t){return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function Vy(){return Vy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}function DO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ky(t,e)}function CO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qp(t);if(e){var a=Qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(t,e){if(e&&(Wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(t)}var $y=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ky(i,c)})(a,t);var e,n,r=CO(a);function a(){return DO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(db,Vy({},c,{points:i.points,x:i.x,y:i.y})))}}])&&NO(e.prototype,n),a}(qi);function qy(t){return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function IO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LO(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,h=t.ry,g=h===void 0?4:h,x=t.className,S={cx:n,cy:a,rx:c,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var I=IO(D,2),X=I[0],q=I[1];qy(q)!=="object"&&(S[X]=q)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(fe.g)("ellipse",S)}function Zy(t){return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function Jy(){return Jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}function zO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qy(t,e){return Qy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qy(t,e)}function FO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ed(t);if(e){var a=ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UO(this,n)}}function UO(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}var ev=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Qy(i,c)})(a,t);var e,n,r=FO(a);function a(){return zO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(LO,Jy({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&BO(e.prototype,n),a}(qi);function tv(t){return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yb(Object(n),!0).forEach(function(r){GO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function YO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=td(t);if(e){var a=td(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return WO(this,n)}}function WO(t,e){if(e&&(tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}var rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&nv(i,c)})(a,t);var e,n,r=YO(a);function a(){return XO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.width,g=i.height,x=i.x,S=i.y,D=vb(vb({},c.background),{},{x,y:S-1,width:h,height:g});return Object(fe.g)(Ra,D)}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackground())}}])&&HO(e.prototype,n),a}(qi);function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function VO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},av(t,e)}function $O(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nd(t);if(e){var a=nd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qO(this,n)}}function qO(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kl(t)}function Kl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nd(t)}function rd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&av(i,c)})(a,t);var e,n,r=$O(a);function a(){var i;VO(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return rd(Kl(i=r.call.apply(r,[this].concat(h))),"ref",void 0),rd(Kl(i),"currentProperties",void 0),rd(Kl(i),"preProperties",void 0),rd(Kl(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.height,x=i.width,S=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(fe.g)("foreignObject",iv({},S,{x:c-x/2,y:h-g/2,width:x,height:g,ref:this.setRef}))}}])&&KO(e.prototype,n),a}(qi);function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function sv(){return sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(n),!0).forEach(function(r){pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lv(t,e)}function JO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=od(t);if(e){var a=od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return QO(this,n)}}function QO(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fv(t)}function fv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}function pv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ew=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&lv(i,c)})(a,t);var e,n,r=JO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),pv(fv(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),pv(fv(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.text,g=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Gu(Gu({},x),c.hover.background)),h&&h.value&&x.fill!=="transparent"){var S,D=c.fontSize,I=c.overflowMode,X=c.lineHeight,q=c.wrapPadding,ee=c.textWidth,ge=h.value,ve=h.x,we=h.y,Ce=String(ge).split(/[\r\n]/g),Je=Ce.length;if(I==="autoWrap"&&ee){var qe=Qf({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(ee,"px"),lineHeight:X,padding:q},rowsLength:Je,className:"lf-get-text-height"});S=Gu(Gu({},x),{},{x:ve-1,y:we-1,width:ee,height:qe})}else{Ce&&Ce.forEach(function(Kt){Tl(Kt)});var gt=Eu({rows:Ce,fontSize:D,rowsLength:Je}),$e=gt.width,ht=gt.height;if(I==="ellipsis"&&($e=ee||g,ht=D+2),typeof x.wrapPadding=="string"){var tt=x.wrapPadding.split(",").filter(function(Kt){return Kt.trim()}).map(function(Kt){return parseFloat(Kt.trim())});tt.length>0&&tt.length<=4&&(tt.length===1?tt=[tt[0],tt[0],tt[0],tt[0]]:tt.length===2?tt=[tt[0],tt[1],tt[0],tt[1]]:tt.length===3&&(tt=[tt[0],tt[1],tt[2],tt[1]]),$e+=tt[1]+tt[3],ht+=tt[0]+tt[2],ve+=(tt[1]-tt[3])/2,we+=(tt[2]-tt[0])/2)}S=Gu(Gu({},x),{},{x:ve-1,y:we-1,width:$e,height:ht})}return Object(fe.g)(Ra,S)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,h=c.value,g=c.x,x=c.y;if(h){var S=Gu({x:g,y:x,className:"lf-element-text",value:h},i.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(fe.g)(ab,sv({},S,{model:i})))}}}])&&ZO(e.prototype,n),a}(cb);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}var ji,tw=["text","sourceAnchorId","targetAnchorId"];function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nw(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return bb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return bb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hv(t,e){return hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hv(t,e)}function iw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=id(t);if(e){var a=id(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return aw(this,n)}}function aw(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(t)}function go(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},id(t)}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ji||(ji={}));var _b=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&hv(i,c)})(a,t);var e,n,r=iw(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),mo(go(c=r.call(this)),"stepDragData",void 0),mo(go(c),"stepDrag",void 0),mo(go(c),"oldEdge",void 0),mo(go(c),"preTargetNode",void 0),mo(go(c),"targetRuleResults",void 0),mo(go(c),"sourceRuleResults",void 0),mo(go(c),"handleMouseDown",function(S){c.stepDrag&&c.stepDrag.handleMouseDown(S)}),mo(go(c),"onDragStart",function(){var S=c.props,D=S.x,I=S.y,X=S.edgeModel,q=X.startPoint,ee=X.endPoint,ge=X.pointsList;c.oldEdge={startPoint:q,endPoint:ee,pointsList:ge},c.setState({endX:D,endY:I,dragging:!0})}),mo(go(c),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,X=c.state,q=X.endX,ee=X.endY,ge=c.props,ve=ge.graphModel,we=ge.type,Ce=ve.transformModel,Je=ve.editConfigModel,qe=rw(Ce.moveCanvasPointByHtml([q,ee],D,I),2),gt=qe[0],$e=qe[1];c.setState({endX:gt,endY:$e,dragging:!0});var ht=c.props.edgeModel,tt=xu({x:q,y:ee},ve);if(tt&&tt.node&&c.isAllowAdjust(tt).pass){var Kt,Jt=ht.startPoint,Tt=ht.endPoint,rn=ht.sourceNode,Un=ht.targetNode;we===ji.SOURCE?Kt={startPoint:{x:tt.anchor.x,y:tt.anchor.y},endPoint:{x:Tt.x,y:Tt.y},sourceNode:tt.node,targetNode:Un}:we===ji.TARGET&&(Kt={startPoint:{x:Jt.x,y:Jt.y},endPoint:{x:tt.anchor.x,y:tt.anchor.y},sourceNode:rn,targetNode:tt.node}),ht.updateAfterAdjustStartAndEnd(Kt)}else we===ji.SOURCE?ht.updateStartPoint({x:gt,y:$e}):we===ji.TARGET&&ht.updateEndPoint({x:gt,y:$e});ht.text.value&&Je.adjustEdge&&ht.setText(Object.assign({},ht.text,ht.textPosition))}),mo(go(c),"onDragEnd",function(S){var D=S.event;try{var I;c.setState({dragging:!1});var X=c.props,q=X.graphModel,ee=X.edgeModel,ge=X.type,ve=c.state,we=ve.endX,Ce=ve.endY,Je=ve.dragging,qe=xu({x:we,y:Ce},q);if(!Je)return;var gt,$e=!1;if(qe&&qe.node){var ht=c.isAllowAdjust(qe),tt=ht.pass,Kt=ht.msg,Jt=ht.newTargetNode;if(tt){var Tt=ee.getData(),rn=Tt.text,Un=Tt.sourceAnchorId,Gn=Un===void 0?"":Un,Sr=Tt.targetAnchorId;gt=Zi(Zi({sourceAnchorId:Gn,targetAnchorId:Sr===void 0?"":Sr},nw(Tt,tw)),{},{text:(rn==null?void 0:rn.value)||""}),ge===ji.SOURCE?(gt=Zi(Zi({},q.edgeGenerator(q.getNodeModelById(qe.node.id).getData(),q.getNodeModelById(ee.targetNodeId).getData(),gt)),{},{sourceNodeId:qe.node.id,sourceAnchorId:qe.anchor.id,startPoint:{x:qe.anchor.x,y:qe.anchor.y},targetNodeId:ee.targetNodeId,endPoint:Zi({},ee.endPoint)}),ee.sourceNodeId===qe.node.id&&ee.sourceAnchorId===qe.anchor.id&&($e=!0)):ge===ji.TARGET&&(gt=Zi(Zi({},q.edgeGenerator(q.getNodeModelById(ee.sourceNodeId).getData(),q.getNodeModelById(qe.node.id).getData(),gt)),{},{sourceNodeId:ee.sourceNodeId,startPoint:Zi({},ee.startPoint),targetNodeId:qe.node.id,targetAnchorId:qe.anchor.id,endPoint:{x:qe.anchor.x,y:qe.anchor.y}}),ee.targetNodeId===qe.node.id&&ee.targetAnchorId===qe.anchor.id&&($e=!0))}else{$e=!0;var bo=Jt.getData();q.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:bo,msg:Kt})}}else $e=!0;if($e)c.recoveryEdge();else{var _o=ee.getData();q.deleteEdgeById(ee.id);var Ai=q.addEdge(Zi({},gt));q.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ai.getData(),oldEdge:_o}})}(I=c.preTargetNode)===null||I===void 0||I.setElementState(sn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:D,data:c.stepDragData})}}),mo(go(c),"recoveryEdge",function(){var S=c.props.edgeModel,D=c.oldEdge,I=D.startPoint,X=D.endPoint,q=D.pointsList;S.updateStartPoint(I),S.updateEndPoint(X),S.modelType!==Yt.LINE_EDGE&&(S.pointsList=q,S.initPoints())}),mo(go(c),"getAdjustPointStyle",function(){var S=c.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var h=i.type,g=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:h,edgeData:g.getData()},c.stepDrag=new no({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,h=c.edgeModel,g=h.id,x=h.sourceNode,S=h.targetNode,D=h.sourceAnchorId,I=h.targetAnchorId,X=c.type,q=null,ee=null,ge=null,ve=null;if(X===ji.SOURCE?(q=i.node,ee=S,ge=i.anchor,ve=S.getAnchorInfo(I)):(q=x,ee=i.node,ve=i.anchor,ge=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(sn.DEFAULT),this.preTargetNode=i.node,ve.id===ge.id)return{pass:!1,msg:"",newTargetNode:ee};var we="".concat(q.id,"_").concat(ee.id,"_").concat(ge.id,"_").concat(ve.id);if(!this.targetRuleResults.has(we)){var Ce=q.isAllowConnectedAsSource(ee,ge,ve,g),Je=ee.isAllowConnectedAsTarget(q,ge,ve,g);this.sourceRuleResults.set(we,Sa(Ce)),this.targetRuleResults.set(we,Sa(Je))}var qe=this.sourceRuleResults.get(we),gt=qe.isAllPass,$e=qe.msg,ht=this.targetRuleResults.get(we),tt=ht.isAllPass,Kt=ht.msg,Jt=gt&&tt?sn.ALLOW_CONNECT:sn.NOT_ALLOW_CONNECT;return X===ji.SOURCE?q.setElementState(Jt):ee.setElementState(Jt),{pass:gt&&tt,msg:Kt||$e,newTargetNode:ee}}},{key:"render",value:function(){var i=this.props,c=i.x,h=i.y,g=i.getAdjustPointShape,x=i.edgeModel,S=this.state.dragging;return Object(fe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":g(c,h,x))}}])&&ow(e.prototype,n),a}(fe.a);function yv(t){return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function $l(){return $l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function uw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ob(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ob(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vv(t,e){return vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vv(t,e)}function lw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ad(t);if(e){var a=ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fw(this,n)}}function fw(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}function Pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ql=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vv(i,c)})(a,t);var e,n,r=lw(a);function a(){var i;cw(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Pi(ii(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),Pi(ii(i),"contextMenuTime",void 0),Pi(ii(i),"clickTimer",void 0),Pi(ii(i),"textRef",Object(fe.f)()),Pi(ii(i),"handleHover",function(x,S){var D=i.props,I=D.model,X=D.graphModel.eventCenter;I.setHovered(x);var q=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,ee=I.getData();X.emit(q,{data:ee,e:S})}),Pi(ii(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Pi(ii(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Pi(ii(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var S=i.props,D=S.model,I=S.graphModel,X=I.getPointByClient({x:x.clientX,y:x.clientY});I.setElementStateById(D.id,sn.SHOW_MENU,X.domOverlayPosition),i.toFront(),D.isSelected||I.selectEdgeById(D.id);var q=D==null?void 0:D.getData();I.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:q,e:x,position:X})}),Pi(ii(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Pi(ii(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var S=x.detail===2,D=i.props,I=D.model,X=D.graphModel,q=I==null?void 0:I.getData(),ee=X.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ge=X.editConfigModel,ve=X.textEditElement;if(ve&&ve.id===I.id&&X.setElementStateById(I.id,sn.DEFAULT),ge.edgeTextEdit&&I.text.editable&&X.setElementStateById(I.id,sn.TEXT_EDIT),I.modelType===Yt.POLYLINE_EDGE){var we=I,Ce=X.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,gt=ku({x:Je,y:qe},we.points);we.dbClickPosition=gt}X.eventCenter.emit(pt.EDGE_DBCLICK,{data:q,e:x,position:ee})}else X.eventCenter.emit(pt.ELEMENT_CLICK,{data:q,e:x,position:ee}),X.eventCenter.emit(pt.EDGE_CLICK,{data:q,e:x,position:ee});var $e=X.editConfigModel;X.selectEdgeById(I.id,Ou(x,$e)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,h=i.graphModel;if(c.state===sn.TEXT_EDIT)return null;var g=!1,x=h.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(g=!0),Object(fe.g)(ew,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:h,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isSelected;return{start:c,end:h,hover:this.state.hover,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,h=i.getArrowStyle(),g=h.refY,x=g===void 0?0:g,S=h.refX,D=S===void 0?2:S,I=uw(this.getLastTwoPoints(),2),X=I[0],q=I[1],ee="auto";return X!==null&&q!==null&&(ee=Ol(_l({x:q.x-X.x,y:q.y-X.y,z:0}))),Object(fe.g)("g",null,Object(fe.g)("defs",null,Object(fe.g)("marker",{id:"marker-start-".concat(c),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(fe.g)("marker",{id:"marker-end-".concat(c),refX:D,refY:x,overflow:"visible",orient:ee,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(fe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,h=i.strokeWidth,g=i.offset,x=i.verticalLength;return Object(fe.g)("path",{stroke:c,fill:c,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(g," -").concat(x," L ").concat(g," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,h){var g=h.getAdjustPointStyle();return Object(fe.g)(Jc,$l({className:"lf-edge-adjust-point"},g,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.getAdjustStart(),x=c.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(_b,$l({type:"SOURCE"},g,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})),Object(fe.g)(_b,$l({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,h=i.model;c.toFront(h.id)}},{key:"render",value:function(){var i=this.props,c=i.model,h=c.isSelected,g=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!g&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&h?this.getAdjustPoints():"")}}])&&sw(e.prototype,n),a}(fe.a);function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function pw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return wb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zl=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=pw(n,2),a=r[0],i=r[1],c=gv(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(fe.g)("path",e)};function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function bv(){return bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function dw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _v(t,e){return _v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_v(t,e)}function yw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ud(t);if(e){var a=ud(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vw(this,n)}}function vw(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}var Ov=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_v(i,c)})(a,t);var e,n,r=yw(a);function a(){return dw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeStyle(),D=i.getEdgeAnimationStyle(),I=D.strokeDasharray,X=D.stroke,q=D.strokeDashoffset,ee=D.animationName,ge=D.animationDuration,ve=D.animationIterationCount,we=D.animationTimingFunction,Ce=D.animationDirection;return Object(fe.g)(qc,bv({},S,{x1:c.x,y1:c.y,x2:h.x,y2:h.y},x,g?{strokeDasharray:I,stroke:X,style:{strokeDashoffset:q,animationName:ee,animationDuration:ge,animationIterationCount:ve,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=gp({start:c,end:h}),x=g.d,S=g.strokeWidth,D=g.fill,I=g.strokeDasharray,X=g.stroke;return Object(fe.g)(Zl,{d:x,fill:D,strokeWidth:S,stroke:X,strokeDasharray:I})}}])&&hw(e.prototype,n),a}(ql);function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function gw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return xb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=gw(n,2),a=r[0],i=r[1];(a==="style"||wv(i)!=="object")&&(e[a]=i)}),Object(fe.g)("polyline",e)};function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ev(){return Ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function bw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e){return Sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sv(t,e)}function Ow(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ww(this,n)}}function ww(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ji(t)}function Ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}function Qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sv(i,c)})(a,t);var e,n,r=Ow(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Qi(Ji(i=r.call(this)),"drag",void 0),Qi(Ji(i),"isDragging",void 0),Qi(Ji(i),"isShowAdjustPointTemp",void 0),Qi(Ji(i),"appendInfo",void 0),Qi(Ji(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),Qi(Ji(i),"onDragging",function(c){var h=c.deltaX,g=c.deltaY,x=i.props,S=x.model,D=x.graphModel;i.isDragging=!0;var I=D.transformModel,X=D.editConfigModel,q=bw(I.fixDeltaXY(h,g),2),ee=q[0],ge=q[1],ve=S,we=X.adjustEdgeMiddle;i.appendInfo=we?ve.dragAppendSimple(i.appendInfo,{x:ee,y:ge}):ve.dragAppend(i.appendInfo,{x:ee,y:ge})}),Qi(Ji(i),"onDragEnd",function(){var c=i.props,h=c.model,g=c.graphModel.eventCenter,x=h;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,g.emit(pt.EDGE_ADJUST,{data:x.getData()})}),Qi(Ji(i),"beforeDragStart",function(c,h){h.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=h}),i.drag=new no({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,h=i.isAnimation,g=i.arrowConfig,x=i.getEdgeStyle(),S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,X=S.strokeDashoffset,q=S.animationName,ee=S.animationDuration,ge=S.animationIterationCount,ve=S.animationTimingFunction,we=S.animationDirection;return Object(fe.g)(mw,Ev({points:c},x,g,h?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:X,animationName:q,animationDuration:ee,animationIterationCount:ge,animationTimingFunction:ve,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,h=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:h},x=Jo(c);return x.length>=2&&(g.start=x[x.length-2],g.end=x[x.length-1]),g}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Jo(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,h=i.start,g=i.end;if(h.x===g.x&&h.y===g.y)c="";else{var x={start:h,end:g,offset:10,verticalLength:5},S=Aa(cd(cd({},x),{},{type:"start"})),D=Aa(cd(cd({},x),{},{type:"end"}));c="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),h=c.d,g=c.strokeWidth,x=c.fill,S=c.strokeDasharray,D=c.stroke;return Object(fe.g)(Zl,{d:h,fill:x,strokeWidth:g,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,h=c.model,g=c.graphModel,x=h.pointsList,S=h.draggable,D=[],I=x.length,X=function(ee){var ge="lf-polyline-append",ve={start:{x:x[ee].x,y:x[ee].y},end:{x:x[ee+1].x,y:x[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},we=Object(fe.g)("g",{className:ge},i.getAppendShape(ve)),Ce=g.editConfigModel,Je=Ce.adjustEdge,qe=Ce.adjustEdgeMiddle;if(Je&&S){var gt=ve.startIndex,$e=ve.endIndex,ht=qe&&(gt===0||$e===I-1);ve.dragAble=!ht,ve.start.x===ve.end.x?(ve.dragAble&&(ge+="-ew-resize"),ve.direction=mn.VERTICAL):ve.start.y===ve.end.y&&(ve.dragAble&&(ge+="-ns-resize"),ve.direction=mn.HORIZONTAL),we=Object(fe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(tt){return i.beforeDragStart(tt,ve)}},Object(fe.g)("g",{className:ge},i.getAppendShape(ve)))}D.push(we)},q=0;q<I-1;q++)X(q);return Object(fe.g)("g",null,D)}}])&&_w(e.prototype,n),a}(ql);function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function xw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Av(){return Av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function Ew(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mv(t,e){return Mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mv(t,e)}function jw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ld(t);if(e){var a=ld(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pw(this,n)}}function Pw(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(t)}var kv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mv(i,c)})(a,t);var e,n,r=jw(a);function a(){return Ew(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),h=i.path,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,X=S.strokeDashoffset,q=S.animationName,ee=S.animationDuration,ge=S.animationIterationCount,ve=S.animationTimingFunction,we=S.animationDirection;return Object(fe.g)(Zl,Av({d:h},c,x,g?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:X,animationName:q,animationDuration:ee,animationIterationCount:ge,animationTimingFunction:ve,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(fe.g)(Zl,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,h=i.isSelected,g=i.getArrowStyle().offset,x=i.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=xw(Nl(x,g),2);return{start:S[0],end:S[1],hover:c,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,h=i.pointsList.map(function(g){return{x:g.x,y:g.y}});return Nl(h,c)}}])&&Sw(e.prototype,n),a}(ql);function Tv(t){return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function Pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dv(t,e){return Dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dv(t,e)}function Tw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fd(t);if(e){var a=fd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dw(this,n)}}function Dw(t,e){if(e&&(Tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(t)}var Nw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dv(i,c)})(a,t);var e,n,r=Tw(a);function a(){return Mw(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,h=i.style,g=c.start,x=c.end,S={start:g,end:x,offset:h.offset,verticalLength:h.verticalLength,type:"end"},D=Aa(S),I=D.leftX,X=D.leftY,q=D.rightX,ee=D.rightY;return function(ge){for(var ve=1;ve<arguments.length;ve++){var we=arguments[ve]!=null?arguments[ve]:{};ve%2?Pb(Object(we),!0).forEach(function(Ce){Aw(ge,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(we)):Pb(Object(we)).forEach(function(Ce){Object.defineProperty(ge,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ge}({d:"M".concat(I," ").concat(X," L").concat(x.x," ").concat(x.y," L").concat(q," ").concat(ee," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,h=i.strokeWidth,g=i.stroke,x=i.fill;return Object(fe.g)(Zl,{d:c,fill:x,strokeWidth:h,stroke:g})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&kw(e.prototype,n),a}(fe.a),Ab=function(t,e){return Ee(t,e)},Cw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Nv=function(){return ft.a.Date.now()},Rw=Math.max,Iw=Math.min,Lw=function(t,e,n){var r,a,i,c,h,g,x=0,S=!1,D=!1,I=!0;if(typeof t!="function")throw new TypeError("Expected a function");function X(Ce){var Je=r,qe=a;return r=a=void 0,x=Ce,c=t.apply(qe,Je)}function q(Ce){return x=Ce,h=setTimeout(ge,e),S?X(Ce):c}function ee(Ce){var Je=Ce-g;return g===void 0||Je>=e||Je<0||D&&Ce-x>=i}function ge(){var Ce=Nv();if(ee(Ce))return ve(Ce);h=setTimeout(ge,function(Je){var qe=e-(Je-g);return D?Iw(qe,i-(Je-x)):qe}(Ce))}function ve(Ce){return h=void 0,I&&r?X(Ce):(r=a=void 0,c)}function we(){var Ce=Nv(),Je=ee(Ce);if(r=arguments,a=this,g=Ce,Je){if(h===void 0)return q(g);if(D)return clearTimeout(h),h=setTimeout(ge,e),X(g)}return h===void 0&&(h=setTimeout(ge,e)),c}return e=Pc(e)||0,xn(n)&&(S=!!n.leading,i=(D="maxWait"in n)?Rw(Pc(n.maxWait)||0,e):i,I="trailing"in n?!!n.trailing:I),we.cancel=function(){h!==void 0&&clearTimeout(h),x=0,r=g=a=h=void 0},we.flush=function(){return h===void 0?c:ve(Nv())},we},zw=o(172);function Bw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mb,kb,Tb,Fw=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ba(this,"undos",[]),Ba(this,"redos",[]),Ba(this,"callbacks",[]),Ba(this,"stopWatch",null),Ba(this,"curData",null),Ba(this,"maxSize",50),Ba(this,"waitTime",100),Ba(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Ab(Cw(this.undos),r)||(this.undos.push(r),Ab(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=fn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=fn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(zw.a)(r,Lw(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Bw(e.prototype,n),t}();function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Uw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(r){Hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(t,e)}function Gw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pd(t);if(e){var a=pd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xw(this,n)}}function Xw(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ss(t)}function ss(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(t)}function Hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rb,Ib,Lb,Iv=ai((Tb=kb=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&Rv(c,h)})(i,t);var e,n,r,a=Gw(i);function i(){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,i),Hu(ss(c=a.call(this)),"ref",Object(fe.f)()),Hu(ss(c),"__prevText",{type:"",text:"",id:""}),Hu(ss(c),"keyupHandler",function(h){var g=c.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&g.setElementState(0)}),Hu(ss(c),"inputHandler",function(h){var g=h.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:g.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Hu(ss(c),"keydownHandler",function(h){h.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var h,g=c.graphModel,x=g.transformModel,S=g.theme,D=S.inputText,I=g.textEditElement;if(I){var X;if((X=I.text)===null||X===void 0||!X.value)if(I.BaseType===Bn.EDGE){var q=(I=I).text,ee=I.textPosition,ge=ee.x,ve=ee.y;q.x=ge,q.y=ve,I.setText(q)}else I=I;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(I.BaseType===Bn.EDGE){var Ce=S.edgeText,Je=Ce.overflowMode,qe=Ce.lineHeight,gt=Ce.wrapPadding,$e=Ce.textWidth;$e&&Je==="autoWrap"&&(h=Xu(Xu({},we),{},{width:$e,minWidth:$e,lineHeight:qe,padding:gt}))}else if(I.BaseType===Bn.NODE){var ht=S.nodeText,tt=ht.overflowMode,Kt=ht.lineHeight,Jt=ht.wrapPadding,Tt=ht.textWidth,rn=I,Un=rn.width,Gn=rn.modelType,Sr=rn.textWidth||Tt||Un;(Gn!==Yt.TEXT_NODE&&tt==="autoWrap"||Gn===Yt.TEXT_NODE&&Tt)&&(h=Xu(Xu({},we),{},{width:Sr,minWidth:Sr,lineHeight:Kt,padding:Jt}))}var bo=I.text,_o=bo.x,Ai=bo.y,Yu=Uw(x.CanvasPointToHtmlPoint([_o,Ai]),2);return{style:Xu(Xu({left:Yu[0],top:Yu[1]},h),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,g=h.text,x=h.id;c.updateText(x,g),c.eventCenter.emit(pt.TEXT_UPDATE,Xu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(c),h.collapse(!1);var g=window.getSelection();g.removeAllRanges(),g.addRange(h)}}},{key:"render",value:function(){var c,h=this.props.graphModel.textEditElement,g=this.state.style;return h?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:g,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=h.text)===null||c===void 0?void 0:c.value):null}}])&&Cb(e.prototype,n),r&&Cb(e,r),i}(fe.a),Hu(kb,"toolName","textEdit"),Mb=Tb))||Mb,Hw=function(t){return t.modelType===Yt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-h/2,x1:a+c/2,y1:i+h/2}}(t):t.modelType===Yt.POLYLINE_EDGE?function(e){var n=e.points,r=Jo(n),a=Xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):t.modelType===Yt.BEZIER_EDGE?function(e){var n=e.path,r=Au(n),a=Xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):void 0};function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function zb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Bb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yw(t){return function(e){if(Array.isArray(e))return zv(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Bb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bb(t,e){if(t){if(typeof t=="string")return zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zv(t,e):void 0}}function zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bv(t,e){return Bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bv(t,e)}function Vw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kw(this,n)}}function Kw(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(t)}function ls(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}function fs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fv=ai((Lb=Ib=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Bv(i,c)})(a,t);var e,n,r=Vw(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),fs(ls(c=r.call(this)),"stepDrag",void 0),fs(ls(c),"handleMouseDown",function(S){c.stepDrag.handleMouseDown(S)}),fs(ls(c),"handleWheelEvent",function(S){var D,I;S.preventDefault();var X=S.deltaX,q=S.deltaY,ee=S.clientX,ge=S.clientY,ve=S.ctrlKey,we=new WheelEvent("wheel",{deltaX:X,deltaY:q,clientX:ee,clientY:ge,ctrlKey:ve});(D=c.props.logicFlow.container)===null||D===void 0||(I=D.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||I===void 0||I.dispatchEvent(we)}),fs(ls(c),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,X=c.props.graphModel,q=X.getSelectElements(!0);X.moveNodes(q.nodes.map(function(ee){return ee.id}),D,I)}),fs(ls(c),"handleContextMenu",function(S){S.preventDefault();var D=c.props,I=D.graphModel,X=D.graphModel,q=X.eventCenter,ee=X.selectElements,ge=I.getPointByClient({x:S.clientX,y:S.clientY}),ve={nodes:[],edges:[]};Yw(ee.values()).forEach(function(we){we.BaseType===Bn.NODE&&ve.nodes.push(we.getData()),we.BaseType===Bn.EDGE&&ve.edges.push(we.getData())}),q.emit(pt.SELECTION_CONTEXTMENU,{data:ve,e:S,position:ge})});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new no({onDragging:c.onDragging,step:g,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,h=i.transformModel;if(!(c.size<=1)){var g=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;c.forEach(function(ee){var ge={x:0,y:0,x1:0,y1:0};ee.BaseType===Bn.NODE&&(ge=function(ve){var we=ve.x,Ce=ve.y,Je=ve.width,qe=ve.height;return{x:we-Je/2,y:Ce-qe/2,x1:we+Je/2,y1:Ce+qe/2}}(ee)),ee.BaseType===Bn.EDGE&&(ge=Hw(ee)),g=Math.min(g,ge.x),x=Math.min(x,ge.y),S=Math.max(S,ge.x1),D=Math.max(D,ge.y1)});var I=zb(h.CanvasPointToHtmlPoint([g,x]),2);g=I[0],x=I[1];var X=zb(h.CanvasPointToHtmlPoint([S,D]),2);S=X[0],D=X[1];var q={left:"".concat(g-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-g+20,"px"),height:"".concat(D-x+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:q,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&Ww(e.prototype,n),a}(fe.a),fs(Ib,"toolName","multipleSelect"),Rb=Lb))||Rb;function $w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qw=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),hd(this,"tools",void 0),hd(this,"components",void 0),hd(this,"toolMap",new Map),hd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Iv.toolName)||this.registerTool(Iv.toolName,Iv),this.isDisabledTool(Fv.toolName)||this.registerTool(Fv.toolName,Fv);var a=r.graphModel;a.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,h=c.edgeTextEdit,g=c.nodeTextEdit;(h||g)&&i&&a.textEditElement.setElementState(sn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&$w(e.prototype,n),t}(),Zw=o(173),Jw=o.n(Zw);function Qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fb=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Uv(this,"mousetrap",void 0),Uv(this,"options",void 0),Uv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new Jw.a(this.target),r.keyboard.enabled&&!a.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(vn(a))a.forEach(function(g){var x=g.keys,S=g.callback,D=g.action;return r.on(x,S,D)});else{var i=a.keys,c=a.callback,h=a.action;this.on(i,c,h)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Qw(e.prototype,n),t}(),ex=Fb,ea=null;function Ub(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Gb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var ps=40,Gv=40;function Xv(t){return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hv=Symbol("plugin register by Logicflow.use"),Yv=function(){function t(a){var i,c,h=this;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"container",void 0),Ln(this,"width",void 0),Ln(this,"height",void 0),Ln(this,"graphModel",void 0),Ln(this,"history",void 0),Ln(this,"viewMap",new Map),Ln(this,"tool",void 0),Ln(this,"keyboard",void 0),Ln(this,"dnd",void 0),Ln(this,"options",void 0),Ln(this,"snaplineModel",void 0),Ln(this,"components",[]),Ln(this,"plugins",void 0),Ln(this,"extension",{}),Ln(this,"adapterIn",void 0),Ln(this,"adapterOut",void 0),Ln(this,"getView",function(g){return h.viewMap.get(g)}),a=Fg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new a_(Jl({},a)),this.tool=new qw(this),this.history=new Fw(this.graphModel.eventCenter),this.dnd=new r1({lf:this}),this.keyboard=new ex({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new eb(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(g){var x=g.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),function(g,x){var S=g.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(Gv=ps,!D.enabled||x.textEditElement)return!0;var I=g.options.guards,X=x.getSelectElements(!1);return I&&I.beforeClone&&!I.beforeClone(X)||X.nodes.length===0&&X.edges.length===0?(ea=null,!0):((ea=X).nodes.forEach(function(q){return Ub(q,ps)}),ea.edges.forEach(function(q){return Gb(q,ps)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(ea&&(ea.nodes||ea.edges)){g.clearSelectElements();var I=g.addElements(ea,Gv);if(!I)return!0;I.nodes.forEach(function(X){return g.selectElementById(X.id,!0)}),I.edges.forEach(function(X){return g.selectElementById(X.id,!0)}),ea.nodes.forEach(function(X){return Ub(X,ps)}),ea.edges.forEach(function(X){return Gb(X,ps)}),Gv+=ps}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(g.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(g.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var I=x.getSelectElements(!0);return g.clearSelectElements(),I.edges.forEach(function(X){return g.deleteEdge(X.id)}),I.nodes.forEach(function(X){return g.deleteNode(X.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var h={BaseEdge:ql,BaseEdgeModel:pl,BaseNode:qi,BaseNodeModel:$i,RectNode:Iy,RectNodeModel:dy,CircleNode:Fy,CircleNodeModel:Kh,PolygonNode:Yy,PolygonNodeModel:sy,TextNode:rv,TextNodeModel:gy,LineEdge:Ov,LineEdgeModel:Uc,DiamondNode:$y,DiamondNodeModel:Qh,PolylineEdge:jv,PolylineEdgeModel:to,BezierEdge:kv,BezierEdgeModel:Gh,EllipseNode:ev,EllipseNodeModel:ry,HtmlNode:uv,HtmlNodeModel:_y,h:fe.g,type:a};this.viewMap.forEach(function(I){var X=I.extendKey;X&&(h[X]=I)}),this.graphModel.modelMap.forEach(function(I){var X=I.extendKey;X&&(h[X]=I)});var g=i(h),x=g.view,S=g.model,D=x;c&&!D.isObervered&&(D.isObervered=!0,D=st(D)),this.setView(a,D),this.graphModel.setModel(a,S)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Iy,model:dy,type:"rect"}),this.registerElement({type:"circle",view:Fy,model:Kh}),this.registerElement({type:"polygon",view:Yy,model:sy}),this.registerElement({type:"line",view:Ov,model:Uc}),this.registerElement({type:"polyline",view:jv,model:to}),this.registerElement({type:"bezier",view:kv,model:Gh}),this.registerElement({type:"text",view:rv,model:gy}),this.registerElement({type:"ellipse",view:ev,model:ry}),this.registerElement({type:"diamond",view:$y,model:Qh}),this.registerElement({type:"html",view:uv,model:_y})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,h=a.id;if(!c){var g=this.getNodeModelById(h);g&&(c=g.getData());var x=this.getEdgeModelById(h);x&&(c=x.textPosition)}var S=c,D=S.x,I=S.y;i.focusOn(D,I,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,h,g=this.getModelById(a);return!!g&&(c=(h=(Ln(i={},Bn.NODE,this.deleteNode),Ln(i,Bn.EDGE,this.deleteEdge),i)[g.BaseType])===null||h===void 0?void 0:h.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),h=this.options.guards,g=!h||!h.beforeDelete||h.beforeDelete(c);return g&&this.graphModel.deleteNode(a),g}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var h=c.model.getData(),g=!i||!i.beforeDelete||i.beforeDelete(h);return g&&this.graphModel.deleteEdgeById(a),g}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,h=a.targetNodeId;if(c&&h){var g=[];return i.forEach(function(D){D.sourceNodeId===c&&D.targetNodeId===h&&g.push(D)}),g}if(c){var x=[];return i.forEach(function(D){D.sourceNodeId===c&&x.push(D)}),x}if(h){var S=[];return i.forEach(function(D){D.targetNodeId===h&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(pr(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,h=a.edges,g={},x={nodes:[],edges:[]},S=0;S<c.length;S++){var D=c[S],I=D.id,X=this.addNode(D);if(!X)return;I&&(g[I]=X.id),x.nodes.push(X)}return h.forEach(function(q){var ee=q.sourceNodeId,ge=q.targetNodeId;g[ee]&&(ee=g[ee]),g[ge]&&(ge=g[ge]);var ve=i.graphModel.addEdge(Jl(Jl({},q),{},{sourceNodeId:ee,targetNodeId:ge}));x.edges.push(ve)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,h,g).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){var i=this.graphModel,c=i.editConfigModel,h=i.transformModel;c.updateEditConfig(a),(a==null?void 0:a.stopMoveGraph)!==void 0&&h.updateTranslateLimits(a.stopMoveGraph),a!=null&&a.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=pr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=pr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;h.forEach(function(g){var x=null,S=null;g[Hv]?(x=g.extension,S=g.props):x=g;var D=x.pluginName||x.name;c.indexOf(D)===-1&&i.installPlugin(x,S)})}},{key:"installPlugin",value:function(a,i){if(Xv(a)==="object"){var c=a.install,h=a.render;return c&&c.call(a,this,t),h&&this.components.push(h.bind(a)),void(this.extension[a.pluginName]=a)}var g=a,x=new g({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[g.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(Jl(Jl({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(pr(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(t1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,h,g=a.pluginName;g||(g=a.name);var x=(c=this.extensions.get(g))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(g,(Ln(h={},Hv,Hv),Ln(h,"extension",a),Ln(h,"props",i),h))}}],n&&Hb(e.prototype,n),r&&Hb(e,r),t}();function ai(t){return st(t)}Ln(Yv,"extensions",new Map),f.default=Yv}])})})($v,$v.exports);var ot=$v.exports;const ds=jx(ot);var Rx=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),Ix=(globalThis==null?void 0:globalThis._ids)||new Rx;function bs(){return Ix.next()}var N0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Lx=function(m){N0(y,m);function y(s,f){var o=this;return s.id||(s.id="Event_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var s=m.prototype.getConnectedTargetRules.call(this),f={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(f),s},y.extendKey="StartEventModel",y}(ot.CircleNodeModel),zx=function(m){N0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(ot.CircleNode),Bx={type:"bpmn:startEvent",view:zx,model:Lx},C0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),jd=function(){return jd=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},jd.apply(this,arguments)},Fx=function(m){C0(y,m);function y(s,f){var o=this;return s.id||(s.id="Event_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var s=m.prototype.getConnectedSourceRules.call(this),f={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(f),s},y.extendKey="EndEventModel",y}(ot.CircleNodeModel),Ux=function(m){C0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.props.model,f=s.getNodeStyle(),o=s.x,p=s.y,d=s.r,O=m.prototype.getShape.call(this);return ot.h("g",{},O,ot.h("circle",jd(jd({},f),{cx:o,cy:p,r:d-5})))},y.extendKey="EndEventView",y}(ot.CircleNode),Gx={type:"bpmn:endEvent",view:Ux,model:Fx},R0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),rf=function(){return rf=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},rf.apply(this,arguments)},Xx=function(m){R0(y,m);function y(s,f){var o=this;return s.id||(s.id="Gateway_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return y.extendKey="ExclusiveGatewayModel",y}(ot.PolygonNodeModel),Hx=function(m){R0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.points,v=s.getNodeStyle();return ot.h("g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(o-d/2)+")"},ot.h("polygon",rf(rf({},v),{x:f,y:o,points:O})),ot.h("path",rf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},y.extendKey="ExclusiveGatewayNode",y}(ot.PolygonNode),Yx={type:"bpmn:exclusiveGateway",view:Hx,model:Xx},I0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Pd=function(){return Pd=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Pd.apply(this,arguments)},Wx=function(m){I0(y,m);function y(s,f){var o=this;return s.id||(s.id="Activity_"+bs()),o=m.call(this,s,f)||this,o}return y.extendKey="UserTaskModel",y}(ot.RectNodeModel),Vx=function(m){I0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:f-p/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",Pd(Pd({},v),{x:f-p/2,y:o-d/2,rx:O,ry:O,width:p,height:d})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(ot.RectNode),Kx={type:"bpmn:userTask",view:Vx,model:Wx},L0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),qv=function(){return qv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},qv.apply(this,arguments)},$x=function(m){L0(y,m);function y(s,f){var o=this;return s.id||(s.id="Activity_"+bs()),o=m.call(this,s,f)||this,o}return y.extendKey="ServiceTaskModel",y}(ot.RectNodeModel),qx=function(m){L0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:f-p/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",qv({x:f-p/2,y:o-d/2,rx:O,ry:O,width:p,height:d},v)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(ot.RectNode),Zx={type:"bpmn:serviceTask",view:qx,model:$x},z0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Jx=function(m){z0(y,m);function y(s,f){var o=this;return s.id||(s.id="Flow_"+bs()),o=m.call(this,s,f)||this,o}return y.extendKey="SequenceFlowModel",y}(ot.PolylineEdgeModel),Qx=function(m){z0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(ot.PolylineEdge),eE={type:"bpmn:sequenceFlow",view:Qx,model:Jx},Jb={width:40,height:40},Qb={width:40,height:40},e0={width:40,height:40},t0={width:100,height:80},n0={width:100,height:80},tE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},nE=function(){function m(y){var s=y.lf;s.setTheme(tE),s.register(Bx),s.register(Gx),s.register(Yx),s.register(Kx),s.register(Zx),s.options.customBpmnEdge||(s.register(eE),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),rE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),oE=(globalThis==null?void 0:globalThis._ids)||new rE;function r0(){return oE.next()}function B0(m){return Object.prototype.toString.call(m)}function iE(m){return"  ".repeat(m)}function Ad(m){var y=m;return B0(m)==="[object Object]"?(y={},Object.keys(m).forEach(function(s){var f=s;s.charAt(0)==="-"&&(f=s.substring(1)),y[f]=Ad(m[s])})):Array.isArray(m)&&(y=[],m.forEach(function(s,f){y[f]=Ad(s)})),y}function aE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(Ad(m)).replace(/"/g,"'")}return y}var hs=`	
`;function wd(m,y,s){var f=iE(s),o="";if(y==="#text")return hs+f+m;if(y==="#cdata-section")return hs+f+"<![CDATA["+m+"]]>";if(y==="#comment")return hs+f+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+aE(m)+'"';if(Array.isArray(m))m.forEach(function(v){o+=wd(v,y,s+1)});else if(B0(m)==="[object Object]"){var p=Object.keys(m),d="",O="";o+=(s===0?"":hs+f)+"<"+y,p.forEach(function(v){v.charAt(0)==="-"?d+=wd(m[v],v,s+1):O+=wd(m[v],v,s+1)}),o+=d+(O!==""?">"+O+(hs+f)+"</"+y+">":" />")}else o+=hs+f+("<"+y+">"+m.toString()+"</"+y+">");return o}function uE(m){var y="";for(var s in m)y+=wd(m[s],s,0);return y}var Vr=function(){};Vr.ObjTree=function(){return this};Vr.ObjTree.VERSION="0.23";Vr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Vr.ObjTree.prototype.attr_prefix="-";Vr.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(m,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y)return this.parseDOM(y)};Vr.ObjTree.prototype.parseHTTP=function(m,y,s){var f={};for(var o in y)f[o]=y[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),s){f.asynchronous=!0;var p=this,d=s,O=f.onComplete;f.onComplete=function(M){var P;M&&M.responseXML&&M.responseXML.documentElement&&(P=p.parseDOM(M.responseXML.documentElement)),d(P,M),O&&O(M)}}else f.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=m;var E=new HTTP.Request(f);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,f);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Vr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!=11){var f={};f[m.nodeName]=s,s=f}return s}};Vr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4||m.nodeType==8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,f={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var p=m.attributes[o].nodeName;if(typeof p=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d&&(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v==3||v==4||v==8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var p=m.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}}else s===null&&(s={});return s}};Vr.ObjTree.prototype.addNode=function(m,y,s,f){this.__force_array[y]?(s==1&&(m[y]=[]),m[y][m[y].length]=f):s==1?m[y]=f:s==2?m[y]=[m[y],f]:m[y][m[y].length]=f};Vr.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};Vr.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],f=[];for(var o in y)if(y.hasOwnProperty(o)){var p=y[o];o.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor==Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=f.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};Vr.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],f=0;f<y.length;f++){var o=y[f];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};Vr.ObjTree.prototype.scalar_to_xml=function(m,y){return m=="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};Vr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var cE=function(m){return new Vr.ObjTree().parseXML(m)},sE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Zv=function(){return Zv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Zv.apply(this,arguments)},Ld=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},Mi;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(Mi||(Mi={}));var F0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],o0=["properties","startPoint","endPoint","pointsList"];function i0(m){var y=m?o0.concat(m):o0;return function(s){function f(o){var p={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return f(d)}):(Object.entries(o).forEach(function(d){var O=Ld(d,2),v=O[0],E=O[1];typeof E!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?p[v]=E:p["-"+v]=E:y.includes(v)?p["-"+v]=f(E):p[v]=f(E)}),p)}return f(s)}}function Md(m){var y={};return Object.entries(m).forEach(function(s){var f=Ld(s,2),o=f[0],p=f[1];o.indexOf("-")===0?y[o.substring(1)]=Ad(p):typeof p=="string"?y[o]=p:Object.prototype.toString.call(p)==="[object Object]"?y[o]=Md(p):Array.isArray(p)?y[o]=p.map(function(d){return Md(d)}):y[o]=p}),y}function lE(m,y,s){var f=new Map;y.nodes.forEach(function(p){var d,O={"-id":p.id};if(!((d=p.text)===null||d===void 0)&&d.value&&(O["-name"]=p.text.value),p.properties){var v=i0(s)(p.properties);Object.assign(O,v)}f.set(p.id,O),m[p.type]?Array.isArray(m[p.type])?m[p.type].push(O):m[p.type]=[m[p.type],O]:m[p.type]=O});var o=y.edges.map(function(p){var d,O,v=f.get(p.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(p.id):v["bpmn:incoming"]=[v["bpmn:incoming"],p.id]:v["bpmn:incoming"]=p.id;var E={"-id":p.id,"-sourceRef":p.sourceNodeId,"-targetRef":p.targetNodeId};if(!((d=p.text)===null||d===void 0)&&d.value&&(E["-name"]=(O=p.text)===null||O===void 0?void 0:O.value),p.properties){var M=i0(s)(p.properties);Object.assign(E,M)}return E});y.edges.forEach(function(p){var d=f.get(p.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(p.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],p.id]:d["bpmn:outgoing"]=p.id}),m[Mi.FLOW]=o}function fE(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var f,o=s.id,p=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((f=s.text)===null||f===void 0)&&f.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var f,o=s.id,p=100,d=80,O=s.x,v=s.y,E=Ha.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),O-=p/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":p,"-height":d}};return!((f=s.text)===null||f===void 0)&&f.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}function pE(m){var y=[],s=[],f=m["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(p){if(p.indexOf("bpmn:")===0){var d=o[p];if(p===Mi.FLOW){var O=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=hE(d,O)}else{var v=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(dE(d,v,p))}}})}return{nodes:y,edges:s}}function dE(m,y,s){var f=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=a0(O,s,d);f.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var p=a0(o,s,m);f.push(p)}return f}function a0(m,y,s){var f=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),p=s["-name"],d=Ha.shapeConfigMap.get(y);d&&(f+=d.width/2,o+=d.height/2);var O;Object.entries(s).forEach(function(P){var T=Ld(P,2),k=T[0],R=T[1];F0.indexOf(k)===-1&&(O||(O={}),O[k]=R)}),O&&(O=Md(O));var v;if(p&&(v={x:f,y:o,value:p},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=m["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(E["-x"])+Number(E["-width"])/2,v.y=Number(E["-y"])+Number(E["-height"])/2}var M={id:m["-bpmnElement"],type:y,x:f,y:o,properties:O};return v&&(M.text=v),M}function hE(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var p;Array.isArray(y)?p=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=y,s.push(u0(p,o))});else{var f=void 0;Array.isArray(y)?f=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):f=y,s.push(u0(f,m))}return s}function u0(m,y){var s,f=y["-name"];if(f){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(v){p<v.length&&(p=v.length)}),s={value:f,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d;Object.entries(y).forEach(function(v){var E=Ld(v,2),M=E[0],P=E[1];F0.indexOf(M)===-1&&(d||(d={}),d[M]=P)}),d&&(d=Md(d));var O={id:y["-id"],type:Mi.FLOW,pointsList:m["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(O.text=s),O}var Ha=function(){function m(y){var s=this,f=y.lf;this.adapterOut=function(o,p){var d=Zv({},s.processAttributes);lE(d,o,p);var O={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};fE(O,o);var v=s.definitionAttributes;v["bpmn:process"]=d,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var E={"bpmn:definitions":v};return E},this.adapterIn=function(o){if(o)return pE(o)},f.adapterIn=function(o){return s.adapterIn(o)},f.adapterOut=function(o,p){return s.adapterOut(o,p)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+r0()},this.definitionAttributes={"-id":"Definitions_"+r0(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();Ha.shapeConfigMap.set(Mi.START,{width:Jb.width,height:Jb.height});Ha.shapeConfigMap.set(Mi.END,{width:Qb.width,height:Qb.height});Ha.shapeConfigMap.set(Mi.GATEWAY,{width:e0.width,height:e0.height});Ha.shapeConfigMap.set(Mi.SYSTEM,{width:t0.width,height:t0.height});Ha.shapeConfigMap.set(Mi.USER,{width:n0.width,height:n0.height});(function(m){sE(y,m);function y(s){var f=m.call(this,s)||this;f.adapterXmlIn=function(p){var d=cE(p);return f.adapterIn(d)},f.adapterXmlOut=function(p,d){var O=f.adapterOut(p,d);return uE(O)};var o=s.lf;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f}return y.pluginName="bpmnXmlAdapter",y})(Ha);var yE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),vE=(globalThis==null?void 0:globalThis._ids)||new yE;function gE(){return vE.next()}ot.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),ot.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});ot.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});ot.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var cg,rr,U0,Vu,c0,G0,Jv,sg,Qv,eg,tg={},X0=[],mE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lg=Array.isArray;function Xa(m,y){for(var s in y)m[s]=y[s];return m}function H0(m){var y=m.parentNode;y&&y.removeChild(m)}function of(m,y,s){var f,o,p,d={};for(p in y)p=="key"?f=y[p]:p=="ref"?o=y[p]:d[p]=y[p];if(arguments.length>2&&(d.children=arguments.length>3?cg.call(arguments,2):s),typeof m=="function"&&m.defaultProps!=null)for(p in m.defaultProps)d[p]===void 0&&(d[p]=m.defaultProps[p]);return xd(m,d,f,o,null)}function xd(m,y,s,f,o){var p={type:m,props:y,key:s,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o==null?++U0:o,__i:-1,__u:0};return o==null&&rr.vnode!=null&&rr.vnode(p),p}function fg(m){return m.children}function gs(m,y){this.props=m,this.context=y}function $u(m,y){if(y==null)return m.__?$u(m.__,m.__i+1):null;for(var s;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null)return s.__e;return typeof m.type=="function"?$u(m):null}function Y0(m){var y,s;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,y=0;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null){m.__e=m.__c.base=s.__e;break}return Y0(m)}}function s0(m){(!m.__d&&(m.__d=!0)&&Vu.push(m)&&!kd.__r++||c0!==rr.debounceRendering)&&((c0=rr.debounceRendering)||G0)(kd)}function kd(){var m,y,s,f,o,p,d,O;for(Vu.sort(Jv);m=Vu.shift();)m.__d&&(y=Vu.length,f=void 0,p=(o=(s=m).__v).__e,d=[],O=[],s.__P&&((f=Xa({},o)).__v=o.__v+1,rr.vnode&&rr.vnode(f),K0(s.__P,f,o,s.__n,s.__P.namespaceURI,32&o.__u?[p]:null,d,p==null?$u(o):p,!!(32&o.__u),O),f.__v=o.__v,f.__.__k[f.__i]=f,OE(d,f,O),f.__e!=p&&Y0(f)),Vu.length>y&&Vu.sort(Jv));kd.__r=0}function W0(m,y,s,f,o,p,d,O,v,E,M){var P,T,k,R,C,F=f&&f.__k||X0,Y=y.length;for(s.__d=v,bE(s,y,F),v=s.__d,P=0;P<Y;P++)(k=s.__k[P])!=null&&typeof k!="boolean"&&typeof k!="function"&&(T=k.__i===-1?tg:F[k.__i]||tg,k.__i=P,K0(m,k,T,o,p,d,O,v,E,M),R=k.__e,k.ref&&T.ref!=k.ref&&(T.ref&&pg(T.ref,null,k),M.push(k.ref,k.__c||R,k)),C==null&&R!=null&&(C=R),65536&k.__u||T.__k===k.__k?v=V0(k,v,m):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:R&&(v=R.nextSibling),k.__d=void 0,k.__u&=-196609);s.__d=v,s.__e=C}function bE(m,y,s){var f,o,p,d,O,v=y.length,E=s.length,M=E,P=0;for(m.__k=[],f=0;f<v;f++)d=f+P,(o=m.__k[f]=(o=y[f])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?xd(null,o,null,null,null):lg(o)?xd(fg,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?xd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=m,o.__b=m.__b+1,O=_E(o,s,d,M),o.__i=O,p=null,O!==-1&&(M--,(p=s[O])&&(p.__u|=131072)),p==null||p.__v===null?(O==-1&&P--,typeof o.type!="function"&&(o.__u|=65536)):O!==d&&(O==d-1?P--:O==d+1?P++:O>d?M>v-d?P+=O-d:P--:O<d&&(O==d-P?P-=O-d:P++),O!==f+P&&(o.__u|=65536))):(p=s[d])&&p.key==null&&p.__e&&!(131072&p.__u)&&(p.__e==m.__d&&(m.__d=$u(p)),ng(p,p,!1),s[d]=null,M--);if(M)for(f=0;f<E;f++)(p=s[f])!=null&&!(131072&p.__u)&&(p.__e==m.__d&&(m.__d=$u(p)),ng(p,p))}function V0(m,y,s){var f,o;if(typeof m.type=="function"){for(f=m.__k,o=0;f&&o<f.length;o++)f[o]&&(f[o].__=m,y=V0(f[o],y,s));return y}m.__e!=y&&(y&&m.type&&!s.contains(y)&&(y=$u(m)),s.insertBefore(m.__e,y||null),y=m.__e);do y=y&&y.nextSibling;while(y!=null&&y.nodeType===8);return y}function _E(m,y,s,f){var o=m.key,p=m.type,d=s-1,O=s+1,v=y[s];if(v===null||v&&o==v.key&&p===v.type&&!(131072&v.__u))return s;if(f>(v!=null&&!(131072&v.__u)?1:0))for(;d>=0||O<y.length;){if(d>=0){if((v=y[d])&&!(131072&v.__u)&&o==v.key&&p===v.type)return d;d--}if(O<y.length){if((v=y[O])&&!(131072&v.__u)&&o==v.key&&p===v.type)return O;O++}}return-1}function l0(m,y,s){y[0]==="-"?m.setProperty(y,s==null?"":s):m[y]=s==null?"":typeof s!="number"||mE.test(y)?s:s+"px"}function bd(m,y,s,f,o){var p;e:if(y==="style")if(typeof s=="string")m.style.cssText=s;else{if(typeof f=="string"&&(m.style.cssText=f=""),f)for(y in f)s&&y in s||l0(m.style,y,"");if(s)for(y in s)f&&s[y]===f[y]||l0(m.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")p=y!==(y=y.replace(/(PointerCapture)$|Capture$/i,"$1")),y=y.toLowerCase()in m||y==="onFocusOut"||y==="onFocusIn"?y.toLowerCase().slice(2):y.slice(2),m.l||(m.l={}),m.l[y+p]=s,s?f?s.u=f.u:(s.u=sg,m.addEventListener(y,p?eg:Qv,p)):m.removeEventListener(y,p?eg:Qv,p);else{if(o=="http://www.w3.org/2000/svg")y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!="width"&&y!="height"&&y!="href"&&y!="list"&&y!="form"&&y!="tabIndex"&&y!="download"&&y!="rowSpan"&&y!="colSpan"&&y!="role"&&y!="popover"&&y in m)try{m[y]=s==null?"":s;break e}catch(d){}typeof s=="function"||(s==null||s===!1&&y[4]!=="-"?m.removeAttribute(y):m.setAttribute(y,y=="popover"&&s==1?"":s))}}function f0(m){return function(y){if(this.l){var s=this.l[y.type+m];if(y.t==null)y.t=sg++;else if(y.t<s.u)return;return s(rr.event?rr.event(y):y)}}}function K0(m,y,s,f,o,p,d,O,v,E){var M,P,T,k,R,C,F,Y,V,te,ie,re,J,Z,H,z,G=y.type;if(y.constructor!==void 0)return null;128&s.__u&&(v=!!(32&s.__u),p=[O=y.__e=s.__e]),(M=rr.__b)&&M(y);e:if(typeof G=="function")try{if(Y=y.props,V="prototype"in G&&G.prototype.render,te=(M=G.contextType)&&f[M.__c],ie=M?te?te.props.value:M.__:f,s.__c?F=(P=y.__c=s.__c).__=P.__E:(V?y.__c=P=new G(Y,ie):(y.__c=P=new gs(Y,ie),P.constructor=G,P.render=xE),te&&te.sub(P),P.props=Y,P.state||(P.state={}),P.context=ie,P.__n=f,T=P.__d=!0,P.__h=[],P._sb=[]),V&&P.__s==null&&(P.__s=P.state),V&&G.getDerivedStateFromProps!=null&&(P.__s==P.state&&(P.__s=Xa({},P.__s)),Xa(P.__s,G.getDerivedStateFromProps(Y,P.__s))),k=P.props,R=P.state,P.__v=y,T)V&&G.getDerivedStateFromProps==null&&P.componentWillMount!=null&&P.componentWillMount(),V&&P.componentDidMount!=null&&P.__h.push(P.componentDidMount);else{if(V&&G.getDerivedStateFromProps==null&&Y!==k&&P.componentWillReceiveProps!=null&&P.componentWillReceiveProps(Y,ie),!P.__e&&(P.shouldComponentUpdate!=null&&P.shouldComponentUpdate(Y,P.__s,ie)===!1||y.__v===s.__v)){for(y.__v!==s.__v&&(P.props=Y,P.state=P.__s,P.__d=!1),y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(W){W&&(W.__=y)}),re=0;re<P._sb.length;re++)P.__h.push(P._sb[re]);P._sb=[],P.__h.length&&d.push(P);break e}P.componentWillUpdate!=null&&P.componentWillUpdate(Y,P.__s,ie),V&&P.componentDidUpdate!=null&&P.__h.push(function(){P.componentDidUpdate(k,R,C)})}if(P.context=ie,P.props=Y,P.__P=m,P.__e=!1,J=rr.__r,Z=0,V){for(P.state=P.__s,P.__d=!1,J&&J(y),M=P.render(P.props,P.state,P.context),H=0;H<P._sb.length;H++)P.__h.push(P._sb[H]);P._sb=[]}else do P.__d=!1,J&&J(y),M=P.render(P.props,P.state,P.context),P.state=P.__s;while(P.__d&&++Z<25);P.state=P.__s,P.getChildContext!=null&&(f=Xa(Xa({},f),P.getChildContext())),V&&!T&&P.getSnapshotBeforeUpdate!=null&&(C=P.getSnapshotBeforeUpdate(k,R)),W0(m,lg(z=M!=null&&M.type===fg&&M.key==null?M.props.children:M)?z:[z],y,s,f,o,p,d,O,v,E),P.base=y.__e,y.__u&=-161,P.__h.length&&d.push(P),F&&(P.__E=P.__=null)}catch(W){if(y.__v=null,v||p!=null){for(y.__u|=v?160:32;O&&O.nodeType===8&&O.nextSibling;)O=O.nextSibling;p[p.indexOf(O)]=null,y.__e=O}else y.__e=s.__e,y.__k=s.__k;rr.__e(W,y,s)}else p==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=wE(s.__e,y,s,f,o,p,d,v,E);(M=rr.diffed)&&M(y)}function OE(m,y,s){y.__d=void 0;for(var f=0;f<s.length;f++)pg(s[f],s[++f],s[++f]);rr.__c&&rr.__c(y,m),m.some(function(o){try{m=o.__h,o.__h=[],m.some(function(p){p.call(o)})}catch(p){rr.__e(p,o.__v)}})}function wE(m,y,s,f,o,p,d,O,v){var E,M,P,T,k,R,C,F=s.props,Y=y.props,V=y.type;if(V==="svg"?o="http://www.w3.org/2000/svg":V==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),p!=null){for(E=0;E<p.length;E++)if((k=p[E])&&"setAttribute"in k==!!V&&(V?k.localName===V:k.nodeType===3)){m=k,p[E]=null;break}}if(m==null){if(V===null)return document.createTextNode(Y);m=document.createElementNS(o,V,Y.is&&Y),p=null,O=!1}if(V===null)F===Y||O&&m.data===Y||(m.data=Y);else{if(p=p&&cg.call(m.childNodes),F=s.props||tg,!O&&p!=null)for(F={},E=0;E<m.attributes.length;E++)F[(k=m.attributes[E]).name]=k.value;for(E in F)if(k=F[E],E!="children"){if(E=="dangerouslySetInnerHTML")P=k;else if(E!=="key"&&!(E in Y)){if(E=="value"&&"defaultValue"in Y||E=="checked"&&"defaultChecked"in Y)continue;bd(m,E,null,k,o)}}for(E in Y)k=Y[E],E=="children"?T=k:E=="dangerouslySetInnerHTML"?M=k:E=="value"?R=k:E=="checked"?C=k:E==="key"||O&&typeof k!="function"||F[E]===k||bd(m,E,k,F[E],o);if(M)O||P&&(M.__html===P.__html||M.__html===m.innerHTML)||(m.innerHTML=M.__html),y.__k=[];else if(P&&(m.innerHTML=""),W0(m,lg(T)?T:[T],y,s,f,V==="foreignObject"?"http://www.w3.org/1999/xhtml":o,p,d,p?p[0]:s.__k&&$u(s,0),O,v),p!=null)for(E=p.length;E--;)p[E]!=null&&H0(p[E]);O||(E="value",R!==void 0&&(R!==m[E]||V==="progress"&&!R||V==="option"&&R!==F[E])&&bd(m,E,R,F[E],o),E="checked",C!==void 0&&C!==m[E]&&bd(m,E,C,F[E],o))}return m}function pg(m,y,s){try{if(typeof m=="function"){var f=typeof m.__u=="function";f&&m.__u(),f&&y==null||(m.__u=m(y))}else m.current=y}catch(o){rr.__e(o,s)}}function ng(m,y,s){var f,o;if(rr.unmount&&rr.unmount(m),(f=m.ref)&&(f.current&&f.current!==m.__e||pg(f,null,y)),(f=m.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){rr.__e(p,y)}f.base=f.__P=null}if(f=m.__k)for(o=0;o<f.length;o++)f[o]&&ng(f[o],y,s||typeof m.type!="function");s||m.__e==null||H0(m.__e),m.__c=m.__=m.__e=m.__d=void 0}function xE(m,y,s){return this.constructor(m,s)}cg=X0.slice,rr={__e:function(m,y,s,f){for(var o,p,d;y=y.__;)if((o=y.__c)&&!o.__)try{if((p=o.constructor)&&p.getDerivedStateFromError!=null&&(o.setState(p.getDerivedStateFromError(m)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(m,f||{}),d=o.__d),d)return o.__E=o}catch(O){m=O}throw m}},U0=0,gs.prototype.setState=function(m,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xa({},this.state),typeof m=="function"&&(m=m(Xa({},s),this.props)),m&&Xa(s,m),m!=null&&this.__v&&(y&&this._sb.push(y),s0(this))},gs.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),s0(this))},gs.prototype.render=fg,Vu=[],G0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jv=function(m,y){return m.__v.__b-y.__v.__b},kd.__r=0,sg=0,Qv=f0(!1),eg=f0(!0);var af=function(){return af=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},af.apply(this,arguments)};function dg(m){var y=m.x,s=m.y,f=m.width,o=m.height,p=m.radius,d=m.className,O=y-f/2,v=s-o/2,E=af(af({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},m),{x:O,y:v});return ot.h("rect",af({},E))}dg.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ys;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(ys||(ys={}));var EE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ku=function(){return Ku=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Ku.apply(this,arguments)},SE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},jE=ot.LogicFlowUtil.StepDrag,PE=function(m){EE(y,m);function y(s){var f=m.call(this)||this;return f.updatePosition=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.x,E=O.y;f.nodeModel.x=v+p/2,f.nodeModel.y=E+d/2,f.nodeModel.moveText(p/2,d/2)},f.getResize=function(o){var p=o.index,d=o.deltaX,O=o.deltaY,v=o.width,E=o.height,M=o.PCTResizeInfo,P=o.pct,T=P===void 0?1:P,k=o.freezeWidth,R=k===void 0?!1:k,C=o.freezeHeight,F=C===void 0?!1:C,Y={width:v,height:E,deltaX:d,deltaY:O};if(M){var V=4,te=0,ie=0;switch(p){case 0:ie=(d*-1-O)/V;break;case 1:ie=(d-O)/V;break;case 2:ie=(d+O)/V;break;case 3:ie=(d*-1+O)/V;break}ie!==0&&(te=Math.round(ie/M.ResizeBasis.basisHeight*1e5)/1e3),M.ResizePCT.widthPCT=Math.max(Math.min(M.ResizePCT.widthPCT+te,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit),M.ResizePCT.hightPCT=Math.max(Math.min(M.ResizePCT.hightPCT+te,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit);var re=Math.round(M.ResizePCT.widthPCT*M.ResizeBasis.basisWidth/100),J=Math.round(M.ResizePCT.hightPCT*M.ResizeBasis.basisHeight/100);switch(p){case 0:d=v-re,O=E-J;break;case 1:d=re-v,O=E-J;break;case 2:d=re-v,O=J-E;break;case 3:d=v-re,O=J-E;break}return Y.width=re,Y.height=J,Y.deltaX=d/T,Y.deltaY=O/T,Y}switch(p){case 0:Y.width=R?v:v-d*T,Y.height=F?E:E-O*T;break;case 1:Y.width=R?v:v+d*T,Y.height=F?E:E-O*T;break;case 2:Y.width=R?v:v+d*T,Y.height=F?E:E+O*T;break;case 3:Y.width=R?v:v-d*T,Y.height=F?E:E+O*T;break}return Y},f.updateEdgePointByAnchors=function(){var o=f.nodeModel,p=o.id,d=o.anchors,O=f.getNodeEdges(p);O.sourceEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.sourceAnchorId});v.updateStartPoint({x:E.x,y:E.y})}),O.targetEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.targetAnchorId});v.updateEndPoint({x:E.x,y:E.y})})},f.updateRect=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.id,E=O.x,M=O.y,P=O.width,T=O.height,k=O.radius,R=O.PCTResizeInfo,C=f.nodeModel,F=C.minWidth,Y=C.minHeight,V=C.maxWidth,te=C.maxHeight,ie=f.index,re=F===V,J=Y===te,Z=f.getResize({index:ie,deltaX:p,deltaY:d,width:P,height:T,PCTResizeInfo:R,pct:1,freezeWidth:re,freezeHeight:J});if(Z.width<F||Z.width>V||Z.height<Y||Z.height>te){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:re?0:Z.deltaX,deltaY:J?0:Z.deltaY}),f.nodeModel.width=Z.width,f.nodeModel.height=Z.height,f.nodeModel.setProperties({nodeSize:{width:Z.width,height:Z.height}}),f.getNodeEdges(v);var H={x:E,y:M,width:P,height:T,radius:k},z={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:k};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:H,afterNode:z})},f.updateEllipse=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.id,E=O.rx,M=O.ry,P=O.x,T=O.y,k=O.PCTResizeInfo,R=f.index,C=f.nodeModel,F=C.minWidth,Y=C.minHeight,V=C.maxWidth,te=C.maxHeight,ie=F===V,re=Y===te,J=E,Z=M,H=f.getResize({index:R,deltaX:p,deltaY:d,width:J,height:Z,PCTResizeInfo:k,pct:1/2,freezeWidth:ie,freezeHeight:re});if(H.width<F/2||H.width>V/2||H.height<Y/2||H.height>te/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:ie?0:H.deltaX,deltaY:re?0:H.deltaY}),f.nodeModel.rx=H.width,f.nodeModel.ry=H.height,f.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}}),f.getNodeEdges(v);var z={x:P,y:T},G={rx:H.width,ry:H.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Ku(Ku({},z),{rx:E,ry:M}),afterNode:G})},f.updateDiamond=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel;O.id;var v=O.rx,E=O.ry,M=O.x,P=O.y,T=O.PCTResizeInfo,k=f.index,R=f.nodeModel,C=R.minWidth,F=R.minHeight,Y=R.maxWidth,V=R.maxHeight,te=C===Y,ie=F===V,re=v,J=E,Z=f.getResize({index:k,deltaX:p,deltaY:d,width:re,height:J,PCTResizeInfo:T,pct:1/2,freezeWidth:te,freezeHeight:ie});if(Z.width<C/2||Z.width>Y/2||Z.height<F/2||Z.height>V/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:te?0:Z.deltaX,deltaY:ie?0:Z.deltaY}),f.nodeModel.rx=Z.width,f.nodeModel.ry=Z.height,f.nodeModel.setProperties({nodeSize:{rx:Z.width,ry:Z.height}});var H={x:M,y:P,rx:v,ry:E},z={rx:Z.width,ry:Z.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:H,afterNode:z})},f.eventEmit=function(o){var p=o.beforeNode,d=o.afterNode,O=f.nodeModel,v=O.id,E=O.modelType,M=O.type,P=Ku({id:v,modelType:E,type:M},p),T=Ku({id:v,modelType:E,type:M},d);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:T})},f.onDragging=function(o){var p,d=o.deltaX,O=o.deltaY,v=f.graphModel.transformModel,E=f.nodeModel.modelType;p=SE(v.fixDeltaXY(d,O),2),d=p[0],O=p[1],E===ys.RECT_NODE||E===ys.HTML_NODE?f.updateRect({deltaX:d,deltaY:O}):E===ys.ELLIPSE_NODE?f.updateEllipse({deltaX:d,deltaY:O}):E===ys.DIAMOND_NODE&&f.updateDiamond({deltaX:d,deltaY:O})},f.onDragEnd=function(){var o=f.graphModel.gridSize,p=o===void 0?1:o,d=p*Math.round(f.nodeModel.x/p),O=p*Math.round(f.nodeModel.y/p);f.nodeModel.moveTo(d,O),f.updateEdgePointByAnchors()},f.index=s.index,f.nodeModel=s.model,f.graphModel=s.graphModel,f.state={},f.dragHandler=new jE({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return y.prototype.getNodeEdges=function(s){for(var f=this.graphModel,o=f.edges,p=[],d=[],O=0;O<o.length;O++){var v=o[O];v.sourceNodeId===s?p.push(v):o[O].targetNodeId===s&&d.push(v)}return{sourceEdges:p,targetEdges:d}},y.prototype.render=function(){var s=this.props,f=s.x,o=s.y,p=s.index,d=s.model,O=d.getControlPointStyle();return of("g",{className:"lf-resize-control-"+p},of(dg,Ku({className:"lf-node-control"},{x:f,y:o},O,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(gs),AE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Td=function(){return Td=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Td.apply(this,arguments)},zd=function(m){AE(y,m);function y(){var s=m.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,f=s.model,o=s.graphModel,p=f.x,d=f.y,O=f.width,v=f.height,E={minX:p-O/2,minY:d-v/2,maxX:p+O/2,maxY:d+v/2},M=E.minX,P=E.minY,T=E.maxX,k=E.maxY,R=[{x:M,y:P},{x:T,y:P},{x:T,y:k},{x:M,y:k}];return R.map(function(C,F){return of(PE,Td({index:F},C,{model:f,graphModel:o}))})},y.prototype.getGroupSolid=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getResizeOutlineStyle();return of(dg,Td({fill:"none"},O,{x:f,y:o,width:p,height:d}))},y.prototype.render=function(){return of("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(gs),$0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ME=function(m){$0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(s,f){},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y}(ot.RectNodeModel),kE=function(m){$0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return ot.h(zd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y}(ot.RectNode),q0={type:"rect",view:kE,model:ME},Z0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(m){Z0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(ot.EllipseNodeModel);(function(m){Z0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return ot.h(zd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},y})(ot.EllipseNode);var rg=function(){return rg=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},rg.apply(this,arguments)};function TE(m){var y=m.fillOpacity,s=y===void 0?1:y,f=m.strokeWidth,o=f===void 0?1:f,p=m.strokeOpacity,d=p===void 0?1:p,O=m.fill,v=O===void 0?"transparent":O,E=m.stroke,M=E===void 0?"#000":E,P=m.points,T=m.className,k=T===void 0?"lf-basic-shape":T,R={fill:v,fillOpacity:s,strokeWidth:o,stroke:M,strokeOpacity:d,points:"",className:k};return R.points=P.map(function(C){return C.join(",")}).join(" "),ot.h("polygon",rg({},R))}var J0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),og=function(){return og=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},og.apply(this,arguments)};(function(m){J0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(ot.DiamondNodeModel);(function(m){J0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return ot.h(zd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){var s=this.props.model,f=s.points,o=s.getNodeStyle();return ot.h("g",null,ot.h(TE,og({},o,{points:f})))},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y})(ot.DiamondNode);var Q0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(m){Q0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(ot.HtmlNodeModel);(function(m){Q0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return ot.h(zd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y})(ot.HtmlNode);var e_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Dd=function(){return Dd=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Dd.apply(this,arguments)},DE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},NE=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(DE(arguments[y]));return m},p0=500,d0=300,CE=-1e4;(function(m){e_(y,m);function y(){var s=m!==null&&m.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=p0,s.unfoldedHight=d0,s.childrenLastFoldStatus={},s}return y.prototype.initNodeData=function(s){var f=this;m.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=p0,this.height=d0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=CE,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var s=m.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},y.prototype.foldGroup=function(s){var f=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(p){var d=f.graphModel.getElement(p),O=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(s),d.isGroup&&!s){var v=f.childrenLastFoldStatus[p];v!==void 0&&v!==d.isFolded&&d.foldGroup(v)}f.childrenLastFoldStatus[p]=O,d.visible=!s,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(s,o)}},y.prototype.getAnchorStyle=function(s){var f=m.prototype.getAnchorStyle.call(this,s);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},y.prototype.foldEdge=function(s,f){var o=this;f.forEach(function(p,d){var O=p.id,v=p.sourceNodeId,E=p.targetNodeId,M=p.startPoint,P=p.endPoint,T=p.type,k=p.text,R=p.getProperties(),C={id:O+"__"+d,sourceNodeId:v,targetNodeId:E,startPoint:M,endPoint:P,type:T,properties:R,text:k==null?void 0:k.value};p.virtual&&o.graphModel.deleteEdgeById(p.id);var F=o.graphModel.group.getNodeGroup(E);F||(F=o.graphModel.getNodeModelById(E));var Y=o.graphModel.group.getNodeGroup(v);Y||(Y=o.graphModel.getNodeModelById(v)),s&&p.visible!==!1&&(o.children.has(v)||o.id===v?(C.startPoint=void 0,C.sourceNodeId=o.id):(C.endPoint=void 0,C.targetNodeId=o.id),(F.id!==o.id||Y.id!==o.id)&&o.createVirtualEdge(C),p.visible=!1),!s&&p.visible===!1&&(F&&F.isGroup&&F.isFolded?(C.targetNodeId=F.id,C.endPoint=void 0,o.createVirtualEdge(C)):Y&&Y.isGroup&&Y.isFolded?(C.sourceNodeId=Y.id,C.startPoint=void 0,o.createVirtualEdge(C)):p.visible=!0)})},y.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var f=this.graphModel.addEdge(s);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},y.prototype.isInRange=function(s){var f=s.x1,o=s.y1,p=s.x2,d=s.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(s){var f=s.x1,o=s.y1,p=s.x2,d=s.y2;return{x:f>=this.x-this.width/2&&p<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},y.prototype.addChild=function(s){this.children.add(s),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},y.prototype.removeChild=function(s){this.children.delete(s),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var s=this,f=m.prototype.getData.call(this);f.children=[],this.children.forEach(function(p){var d=s.graphModel.getNodeModelById(p);d&&!d.virtual&&f.children.push(p)});var o=f.properties;return delete o.groupAddable,delete o.isFolded,f},y.prototype.getHistoryData=function(){var s=m.prototype.getData.call(this);s.children=NE(this.children),s.isGroup=!0;var f=s.properties;return delete f.groupAddable,f.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},y.prototype.isAllowAppendIn=function(s){return!0},y.prototype.toBack=function(){this.zIndex--},y})(q0.model);(function(m){e_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props.model,f=s.resizable,o=s.properties;return f&&!o.isFolded?m.prototype.getControlGroup.call(this):null},y.prototype.getAddableShape=function(){var s=this.props.model,f=s.width,o=s.height,p=s.x,d=s.y,O=s.radius,v=s.properties;if(!v.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,M=this.props.model.getAddableOutlineStyle(),P=f+E+8,T=o+E+8;return ot.h("rect",Dd(Dd({},M),{width:P,height:T,x:p-P/2,y:d-T/2,rx:O,ry:O}))},y.prototype.getFoldIcon=function(){var s=this.props.model,f=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var p=ot.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return ot.h("g",{},[ot.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),p])},y.prototype.getResizeShape=function(){return ot.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(q0.view);var h0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),uf=function(){return uf=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},uf.apply(this,arguments)};function RE(m){var y=function(f){h0(o,f);function o(p,d){var O=this;p.id||(p.id="Flow_"+gE());var v=uf(uf(uf({},{}),p.properties),{isDefaultFlow:!1});return p.properties=v,O=f.call(this,p,d)||this,O}return o.extendKey="SequenceFlowModel",o}(ot.PolylineEdgeModel),s=function(f){h0(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var p=this.props.model,d=p.properties.isDefaultFlow;return d?ot.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):ot.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(ot.PolylineEdge);return{type:"bpmn:sequenceFlow",view:s,model:y}}RE();var y0={width:40,height:40},v0={width:40,height:40},g0={width:100,height:80},Nd={width:100,height:80},m0={width:100,height:80},b0={width:100,height:80},_0={width:100,height:80},O0={width:100,height:80},w0={width:100,height:80},x0={width:100,height:80},Kr=function(){};Kr.ObjTree=function(){return this};Kr.ObjTree.VERSION="0.23";Kr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Kr.ObjTree.prototype.attr_prefix="-";Kr.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(m,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y){var o=this.parseDOM(y);return o}};Kr.ObjTree.prototype.parseHTTP=function(m,y,s){var f={};for(var o in y)f[o]=y[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),s){f.asynchronous=!0;var p=this,d=s,O=f.onComplete;f.onComplete=function(M){var P;M&&M.responseXML&&M.responseXML.documentElement&&(P=p.parseDOM(M.responseXML.documentElement)),d(P,M),O&&O(M)}}else f.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=m;var E=new HTTP.Request(f);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,f);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Kr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!==11){var f={};f[m.nodeName]=s,s=f}return s}};Kr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!==7){if(m.nodeType===3||m.nodeType===4||m.nodeType===8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,f={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var p=m.attributes[o].nodeName;if(typeof p=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d!=null&&(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v===3||v===4||v===8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var p=m.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}}else s===null&&(s={});return s}};Kr.ObjTree.prototype.addNode=function(m,y,s,f){this.__force_array[y]?(s===1&&(m[y]=[]),m[y][m[y].length]=f):s===1?m[y]=f:s===2?m[y]=[m[y],f]:m[y][m[y].length]=f};Kr.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};Kr.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],f=[];for(var o in y)if(y!=null&&y.hasOwnProperty(o)){var p=y[o];o.charAt(0)!==this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor===Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=f.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};Kr.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],f=0;f<y.length;f++){var o=y[f];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor===Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};Kr.ObjTree.prototype.scalar_to_xml=function(m,y){return m==="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};Kr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var IE=function(m){return new Kr.ObjTree().parseXML(m)};function t_(m){return Object.prototype.toString.call(m)}function E0(m){return"  ".repeat(m)}function Cd(m){return t_(m)==="[object Object]"?Object.keys(m).reduce(function(y,s){var f=s;return s.charAt(0)==="-"&&(f=s.substring(1)),y[f]=Cd(m[s]),y},{}):Array.isArray(m)?m.map(function(y){return Cd(y)}):m}function LE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(Cd(m)).replace(/"/g,"'")}return y}var S0=`	
`;function Ed(m,y,s){var f=E0(s),o="",p=S0+f;if(y==="-json")return"";if(y==="#text")return p+m;if(y==="#cdata-section")return p+"<![CDATA["+m+"]]>";if(y==="#comment")return p+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+LE(m)+'"';if(Array.isArray(m))o+=m.map(function(E){return Ed(E,y,s+1)}).join("");else if(t_(m)==="[object Object]"){var d=Object.keys(m),O="",v=m["-json"]?S0+E0(s+1)+m["-json"]:"";o+=(s===0?"":p)+"<"+y,d.forEach(function(E){E.charAt(0)==="-"?O+=Ed(m[E],E,s+1):v+=Ed(m[E],E,s+1)}),o+=O+(v!==""?">"+v+p+"</"+y+">":" />")}else o+=p+"<"+y+">"+m.toString()+"</"+y+">";return o}function zE(m){var y="";for(var s in m)y+=Ed(m[s],s,0);return y}var BE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ig=function(){return ig=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},ig.apply(this,arguments)},j0=function(m,y){var s={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&y.indexOf(f)<0&&(s[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,f=Object.getOwnPropertySymbols(m);o<f.length;o++)y.indexOf(f[o])<0&&Object.prototype.propertyIsEnumerable.call(m,f[o])&&(s[f[o]]=m[f[o]]);return s},hg=function(m){var y=typeof Symbol=="function"&&Symbol.iterator,s=y&&m[y],f=0;if(s)return s.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&f>=m.length&&(m=void 0),{value:m&&m[f++],done:!m}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},_s=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},ms=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(_s(arguments[y]));return m},Wr;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",m.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",m.BOUNDARY="bpmn:boundaryEvent",m.PARALLEL_GATEWAY="bpmn:parallelGateway",m.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",m.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow",m.SUBPROCESS="bpmn:subProcess"})(Wr||(Wr={}));var n_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],FE=["properties","startPoint","endPoint","pointsList"],Rd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},r_=function(m,y){var s=Object.keys(y||{});return s.forEach(function(f){if(m[f]){var o=y[f],p=o.in,d=o.out;p&&(m[f].in=p),d&&(m[f].out=d)}else m[f]=y[f]}),m},zo={"bpmn:startEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=zo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateCatchEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=zo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateThrowEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=zo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:boundaryEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=zo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:sequenceFlow":{out:function(m){var y=m.properties,s=y.expressionType,f=y.condition;return f?s==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+f+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+f+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(m){var y=m.properties,s=y.timerType,f=y.timerValue,o=y.definitionId,p=function(){return"<bpmn:"+s+' xsi:type="bpmn:tFormalExpression">'+f+"</bpmn:"+s+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(s&&f?">"+p()+"</bpmn:timerEventDefinition>":"/>")}},in:function(m,y){var s,f,o,p,d=m,O=y["-id"],v="",E="";try{for(var M=hg(Object.keys(y)),P=M.next();!P.done;P=M.next()){var T=P.value;T.includes("bpmn:")&&(o=_s(T.split(":"),2),v=o[1],E=(p=y[T])===null||p===void 0?void 0:p["#text"])}}catch(k){s={error:k}}finally{try{P&&!P.done&&(f=M.return)&&f.call(M)}finally{if(s)throw s.error}}return{"-definitionId":O,"-definitionType":d,"-timerType":v,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(m,y){var s,f="",o="";return y["#cdata-section"]?(o="cdata",f=((s=/^\$\{(.*)\}$/g.exec(y["#cdata-section"]))===null||s===void 0?void 0:s[1])||""):y["#text"]&&(o="normal",f=y["#text"]),{"-condition":f,"-expressionType":o}}}};function UE(m){var y=m!=null?m:{},s=y.retainedAttrsFields,f=y.excludeFields,o=y.transformer,p=new Set(ms(FE,s||[])),d={in:new Set(ms(Rd.in,(f==null?void 0:f.in)||[])),out:new Set(ms(Rd.out,(f==null?void 0:f.out)||[]))};return zo=r_(zo,o),function(O){var v=O.nodes,E=O.edges;function M(P,T){var k,R,C;if((P==null?void 0:P.flag)!==1){var F;if((F=zo[P.type])&&F.out){var Y=F.out(P),V=Object.keys(Y);V.length>0&&V.forEach(function(G){P[G]=Y[G]})}P!=null&&P.children&&(P.children=P.children.map(function(G){var W=v.find(function($){return $.id===G})||E.find(function($){return $.id===G});return W||{}}));var te={};if(typeof P=="string")return P;if(Array.isArray(P))return P.map(function(G){return M(G,"")}).filter(function(G){return G!=null});try{for(var ie=hg(Object.entries(P)),re=ie.next();!re.done;re=ie.next()){var J=_s(re.value,2),Z=J[0],H=J[1];if(((C=H)===null||C===void 0?void 0:C.flag)===1)return;var z=[T,Z].filter(function(G){return G}).join(".");d.out.has(z)||(typeof H!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?te[Z]=H:te["-"+Z]=H:p.has(z)?te["-"+Z]=M(H,z):te[Z]=M(H,z))}}catch(G){k={error:G}}finally{try{re&&!re.done&&(R=ie.return)&&R.call(ie)}finally{if(k)throw k.error}}return te}}return M(O,"")}}function Id(m){var y,s,f={};try{for(var o=hg(Object.entries(m)),p=o.next();!p.done;p=o.next()){var d=_s(p.value,2),O=d[0],v=d[1];O.indexOf("-")===0?f[O.substring(1)]=Cd(v):typeof v=="string"?f[O]=v:Object.prototype.toString.call(v)==="[object Object]"?f[O]=Id(v):Array.isArray(v)?f[O]=v.map(function(E){return Id(E)}):f[O]=v}}catch(E){y={error:E}}finally{try{p&&!p.done&&(s=o.return)&&s.call(o)}finally{if(y)throw y.error}}return f}function GE(m,y,s){var f,o=new Map,p=UE(s)(y);p.nodes.forEach(function(O){var v=O["-id"],E=O["-type"],M=O.text,P=O.children,T=j0(O,["-id","-type","text","children"]),k={"-id":v};M!=null&&M["-value"]&&(k["-name"]=M["-value"]),T["-json"]&&(k["-json"]=T["-json"]),T["-properties"]&&Object.assign(k,T["-properties"]),P&&(k.children=P),m[E]||(m[E]=[]),m[E].push(k),o.set(v,k)});var d=p.edges.map(function(O){var v=O["-id"];O["-type"];var E=O["-sourceNodeId"],M=O["-targetNodeId"],P=O.text,T=j0(O,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(M);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var R={"-id":v,"-sourceRef":E,"-targetRef":M};return P!=null&&P["-value"]&&(R["-name"]=P["-value"]),T["-json"]&&(R["-json"]=T["-json"]),T["-properties"]&&Object.assign(R,T["-properties"]),R});return y.edges.forEach(function(O){var v=O.sourceNodeId,E=O.id,M=o.get(v);M["bpmn:outgoing"]||(M["bpmn:outgoing"]=[]),M["bpmn:outgoing"].push(E)}),(f=m["bpmn:subProcess"])===null||f===void 0||f.forEach(function(O){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];O.children.forEach(function(C){var F,Y=o.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){Y[te]&&Y[te].forEach(function(ie){v[te].add(ie)})});var V=(F=m[C["-type"]])===null||F===void 0?void 0:F.findIndex(function(te){return te["-id"]===C["-id"]});V>=0&&m[C["-type"]].splice(V,1),o.delete(C["-id"]),O[C["-type"]]||(O[C["-type"]]=[]),O[C["-type"]].push(Y)});var M=v["bpmn:incoming"],P=v["bpmn:outgoing"];P.forEach(function(C){M.has(C)&&E.push(C)});for(var T=function(C){var F=d.findIndex(function(Y){return Y["-id"]===E[C]});F>=0?(O["bpmn:sequenceFlow"]||(O["bpmn:sequenceFlow"]=[]),O["bpmn:sequenceFlow"].push(d[F]),d.splice(F,1)):C++,k=C},k,R=0;R<E.length;)T(R),R=k;delete O.children}),m[Wr.FLOW]=d,m}function XE(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var f,o=s.id,p=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((f=s.text)===null||f===void 0)&&f.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var f,o=s.id,p=100,d=80,O=s.x,v=s.y,E=oo.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),O-=p/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":p,"-height":d}};return!((f=s.text)===null||f===void 0)&&f.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}var HE=["bpmn:incoming","bpmn:outgoing"];function YE(m,y){var s=[],f=[],o=new Map,p=y!=null?y:{},d=p.transformer,O=p.excludeFields,v={in:new Set(ms(Rd.in,(O==null?void 0:O.in)||[])),out:new Set(ms(Rd.out,(O==null?void 0:O.out)||[]))};zo=r_(zo,d);var E=m["bpmn:definitions"];if(E){var M=E["bpmn:process"];(function(T,k){k.forEach(function(R){try{Object.keys(T).forEach(function(C){try{R(C)}catch(F){}})}catch(C){}})})(M,[function(T){function k(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(F){var Y;F.indexOf("bpmn:")===0&&!HE.includes(F)&&(M[F]||(M[F]=[]),!Array.isArray(M[F])&&(M[F]=[M[F]]),Array.isArray(C[F])?(Y=M[F]).push.apply(Y,ms(C[F])):M[F].push(C[F]),Array.isArray(C[F])?C[F].forEach(function(V){!F.includes("Flow")&&C["-children"].push(V["-id"])}):!F.includes("Flow")&&C["-children"].push(C[F]["-id"]),delete C[F])})}if(T==="bpmn:subProcess"){var R=M[T];Array.isArray(R)?R.forEach(function(C){T==="bpmn:subProcess"&&k(C)}):k(R)}},function(T){var k=function(C){Object.keys(C).forEach(function(F){var Y,V;if(F.includes("bpmn:")){var te={};zo[F]&&zo[F].in?(te=(V=(Y=zo[F]).in)===null||V===void 0?void 0:V.call(Y,F,T0.cloneDeep(C[F])),delete C[F]):R(C[F]);var ie=void 0;(ie=Reflect.ownKeys(te)).length>0&&ie.forEach(function(re){Reflect.set(C,re,te[re])})}})};function R(C){o.set(C["-id"],C),Array.isArray(C)?C.forEach(function(F){R(F)}):typeof C=="object"&&k(C)}R(M[T])},function(T){if(T.indexOf("bpmn:")===0){var k=M[T];if(T==="bpmn:sequenceFlow"){var R=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];f=VE(k,R)}else{var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(T==="bpmn:boundaryEvent"){var F=M[T],Y=function(V){var te=V["-attachedToRef"],ie=o.get(te);ie["-boundaryEvents"]||(ie["-boundaryEvents"]=[]),ie["-boundaryEvents"].push(V["-id"])};Array.isArray(F)?F.forEach(function(V){Y(V)}):Y(F)}s=s.concat(WE(k,C,T))}}}])}var P=function(T,k,R){Object.keys(T).forEach(function(C){var F=R?R+"."+C:C;k.has(F)?delete T[C]:typeof T[C]=="object"&&P(T[C],k,F)})};return s.forEach(function(T){var k,R;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(R=y==null?void 0:y.mapping)===null||R===void 0?void 0:R.in,F=T.type;C[F]&&(T.type=C[F])}P(T,v.in,"")}),f.forEach(function(T){var k,R;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(R=y==null?void 0:y.mapping)===null||R===void 0?void 0:R.in,F=T.type;C[F]&&(T.type=C[F])}P(T,v.in,"")}),{nodes:s,edges:f}}function WE(m,y,s){var f=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=P0(O,s,d);f.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var p=P0(o,s,m);f.push(p)}return f}function P0(m,y,s){var f=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),p=s["-children"],d=s["-name"],O=oo.shapeConfigMap.get(y);O&&(f+=O.width/2,o+=O.height/2);var v={};Object.entries(s).forEach(function(T){var k=_s(T,2),R=k[0],C=k[1];n_.includes(R)||(v[R]=C)}),v=Id(v);var E;if(d&&(E={x:f,y:o,value:d},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var M=m["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(M["-x"])+Number(M["-width"])/2,E.y=Number(M["-y"])+Number(M["-height"])/2}var P={id:m["-bpmnElement"],type:y,x:f,y:o,properties:v};return p&&(P.children=p),E&&(P.text=E),P}function VE(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var p;Array.isArray(y)?p=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=y,s.push(A0(p,o))});else{var f=void 0;Array.isArray(y)?f=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):f=y,s.push(A0(f,m))}return s}function A0(m,y){var s,f=y["-name"];if(f){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(E){p<E.length&&(p=E.length)}),s={value:f,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(y).forEach(function(E){var M=_s(E,2),P=M[0],T=M[1];n_.includes(P)||(d[P]=T)}),d=Id(d);var O=m["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),v={id:y["-id"],type:Wr.FLOW,pointsList:O,sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(v.text=s),v}var oo=function(){function m(y){var s=this,f=y.lf;this.adapterOut=function(o,p){var d,O,v=ig({},s.processAttributes);GE(v,o,p);var E={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};XE(E,o);var M=s.definitionAttributes;M["bpmn:process"]=v,M["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var P={"bpmn:definitions":M};if(!((d=p==null?void 0:p.mapping)===null||d===void 0)&&d.out){var T=(O=p==null?void 0:p.mapping)===null||O===void 0?void 0:O.out,k=function(R){Array.isArray(R)&&R.forEach(function(C){return k(C)}),typeof R=="object"&&Object.keys(R).forEach(function(C){var F;(F=T[C])?(R[F]=T0.cloneDeep(R[C]),delete R[C],k(R[F])):k(R[C])})};k(P)}return P},this.adapterIn=function(o,p){if(o)return YE(o,p)},f.adapterIn=this.adapterIn,f.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();oo.shapeConfigMap.set(Wr.START,{width:y0.width,height:y0.height});oo.shapeConfigMap.set(Wr.END,{width:v0.width,height:v0.height});oo.shapeConfigMap.set(Wr.INTERMEDIATE_CATCH,{width:Nd.width,height:Nd.height});oo.shapeConfigMap.set(Wr.INTERMEDIATE_THROW,{width:Nd.width,height:Nd.height});oo.shapeConfigMap.set(Wr.BOUNDARY,{width:g0.width,height:g0.height});oo.shapeConfigMap.set(Wr.PARALLEL_GATEWAY,{width:m0.width,height:m0.height});oo.shapeConfigMap.set(Wr.INCLUSIVE_GATEWAY,{width:b0.width,height:b0.height});oo.shapeConfigMap.set(Wr.EXCLUSIVE_GATEWAY,{width:_0.width,height:_0.height});oo.shapeConfigMap.set(Wr.SYSTEM,{width:O0.width,height:O0.height});oo.shapeConfigMap.set(Wr.USER,{width:w0.width,height:w0.height});oo.shapeConfigMap.set(Wr.SUBPROCESS,{width:x0.width,height:x0.height});(function(m){BE(y,m);function y(s){var f=m.call(this,s)||this;f.adapterXmlIn=function(d){var O=IE(d);return f.adapterIn(O,f.props)},f.adapterXmlOut=function(d){var O=f.adapterOut(d,f.props);return zE(O)};var o=s.lf,p=s.props;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f.props=p,f}return y.pluginName="BPMNAdapter",y})(oo);var KE=function(){function m(y){var s=this,f=y.lf;this.lf=f,this.customCssRules="",this.useGlobalRules=!0,f.getSnapshot=function(o,p){s.getSnapshot(o,p)},f.getSnapshotBlob=function(o){return s.getSnapshotBlob(o)},f.getSnapshotBase64=function(o){return s.getSnapshotBase64(o)}}return m.prototype.getSvgRootElement=function(y){var s=y.container.querySelector(".lf-canvas-overlay");return s},m.prototype.triggerDownload=function(y){var s=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),f=document.createElement("a");f.setAttribute("download",this.fileName),f.setAttribute("href",y),f.setAttribute("target","_blank"),f.dispatchEvent(s)},m.prototype.removeAnchor=function(y){for(var s=y.childNodes,f=y.childNodes&&y.childNodes.length,o=0;o<f;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[o]),f--,o--)}},m.prototype.removeRotateControl=function(y){for(var s=y.childNodes,f=y.childNodes&&y.childNodes.length,o=0;o<f;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-rotate-control")>-1&&(y.removeChild(y.childNodes[o]),f--,o--)}},m.prototype.getSnapshot=function(y,s){var f=this;this.fileName=y||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,s).then(function(p){var d=p.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(d)})},m.prototype.getSnapshotBase64=function(y){var s=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(f,y).then(function(p){var d=p.toDataURL("image/png");o({data:d,width:p.width,height:p.height})})})},m.prototype.getSnapshotBlob=function(y){var s=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(f,y).then(function(p){p.toBlob(function(d){o({data:d,width:p.width,height:p.height})},"image/png")})})},m.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var s=document.styleSheets,f=0;f<s.length;f++)for(var o=s[f],p=0;p<o.cssRules.length;p++)y+=o.cssRules[p].cssText;return this.customCssRules&&(y+=this.customCssRules),y},m.prototype.getCanvasData=function(y,s){var f=this,o=y.cloneNode(!0),p=o.lastChild,d=p.childNodes&&p.childNodes.length;if(d)for(var O=0;O<d;O++){var v=p.childNodes[O],E=v.classList&&Array.from(v.classList);if(E&&E.indexOf("lf-base")<0)p.removeChild(p.childNodes[O]),d--,O--;else{var M=p.childNodes[O];M&&M.childNodes.forEach(function(xe){var me=xe;f.removeAnchor(me.firstChild),f.removeRotateControl(me.firstChild)})}}var P=window.devicePixelRatio||1;P<1&&(P=1);var T=document.createElement("canvas"),k=this.lf.graphModel.rootEl.querySelector(".lf-base"),R=k.getBoundingClientRect(),C=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),F=R.x-C.x,Y=R.y-C.y,V=this.lf.graphModel,te=V.transformModel,ie=te.SCALE_X,re=te.SCALE_Y,J=te.TRANSLATE_X,Z=te.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-F+J)*(1/ie)+10)+", "+((-Y+Z)*(1/re)+10)+")";var H=Math.ceil(R.width/ie),z=Math.ceil(R.height/re);T.style.width=H+"px",T.style.height=z+"px",T.width=H*P+80,T.height=z*P+80;var G=T.getContext("2d");G.clearRect(0,0,T.width,T.height),G.scale(P,P),s?(G.fillStyle=s,G.fillRect(0,0,H*P+80,z*P+80)):G.clearRect(0,0,H,z);var W=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var ae=document.createElement("foreignObject");return ae.appendChild($),o.appendChild(ae),new Promise(function(xe){W.onload=function(){var Be=navigator.userAgent.indexOf("Firefox")>-1;try{Be?createImageBitmap(W,{resizeWidth:T.width,resizeHeight:T.height}).then(function(Se){G.drawImage(Se,0,0),xe(T)}):(G.drawImage(W,0,0),xe(T))}catch(Se){G.drawImage(W,0,0),xe(T)}};var me="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Pe=me.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");W.src=Pe})},m.pluginName="snapshot",m}();var M0;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(M0||(M0={}));var $E=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},qE=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat($E(arguments[y]));return m},Ql="lf:defaultNodeMenu",ef="lf:defaultEdgeMenu",tf="lf:defaultGraphMenu",k0="lf:defaultSelectionMenu",ZE=function(){function m(y){var s=this,f=y.lf;this.lf=f;var o=f.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(p){s.setMenuConfig(p)},this.lf.addMenuConfig=function(p){s.addMenuConfig(p)},this.lf.setMenuByType=function(p){s.setMenuByType(p)})}return m.prototype.init=function(){var y=this,s=[{text:"删除",callback:function(p){y.lf.deleteNode(p.id)}},{text:"编辑文本",callback:function(p){y.lf.graphModel.editText(p.id)}},{text:"复制",callback:function(p){y.lf.cloneNode(p.id)}}];this.menuTypeMap.set(Ql,s);var f=[{text:"删除",callback:function(p){y.lf.deleteEdge(p.id)}},{text:"编辑文本",callback:function(p){y.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(ef,f),this.menuTypeMap.set(tf,[]);var o=[{text:"删除",callback:function(p){y.lf.clearSelectElements(),p.edges.forEach(function(d){return y.lf.deleteEdge(d.id)}),p.nodes.forEach(function(d){return y.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(k0,o)},m.prototype.render=function(y,s){var f=this;y.options.isSilentMode||(this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var p=o.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1&&(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null)},!0),this.lf.on("node:contextmenu",function(o){var p=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,P=p.id,T=f.lf.graphModel.getNodeModelById(P),k=[],R=f.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:R?k=R:k=f.menuTypeMap.get(Ql),f.__currentData=p,f.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("edge:contextmenu",function(o){var p=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,P=p.id,T=f.lf.graphModel.getEdgeModelById(P),k=[],R=f.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:R?k=R:k=f.menuTypeMap.get(ef),f.__currentData=p,f.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("blank:contextmenu",function(o){var p=o.position,d=f.menuTypeMap.get(tf),O=p.domOverlayPosition,v=O.x,E=O.y;f.showMenu(v,E,d)}),this.lf.on("selection:contextmenu",function(o){var p=o.data,d=o.position,O=f.menuTypeMap.get(k0),v=d.domOverlayPosition,E=v.x,M=v.y;f.__currentData=p,f.showMenu(E,M,O)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"}))},m.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(y,s,f,o){if(!(!f||!f.length)){var p=this.__menuDOM;if(p.innerHTML="",p.append.apply(p,qE(this.__getMenuDom(f))),!!p.children.length){if(p.style.display="block",!o){p.style.top=s+"px",p.style.left=y+"px";return}var d=o.width,O=o.height,v=o.clientX,E=o.clientY,M=this.lf.graphModel,P=p.offsetWidth,T=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,R=k-v,C=M.rootEl.getBoundingClientRect(),F=C.left+C.width;F<k&&(R=F-v),R<P&&(T=!1),T?p.style.left=y+"px":p.style.left=y-d+"px";var Y=p.offsetHeight,V=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ie=te-E,re=C.top+C.height;re<te&&(ie=re-E),ie<Y&&(V=!1),V?p.style.top=s+"px":p.style.top=s-O+"px"}}},m.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},m.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",o.appendChild(p)}var d=document.createElement("span");d.className="lf-menu-item-text",f.text&&(d.innerText=f.text),o.appendChild(d),o.onclickCallback=f.callback,s.push(o)}),s},m.prototype.setMenuConfig=function(y){y&&(y.nodeMenu!==void 0&&this.menuTypeMap.set(Ql,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(ef,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(tf,y.graphMenu?y.graphMenu:[]))},m.prototype.addMenuConfig=function(y){if(y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(Ql);this.menuTypeMap.set(Ql,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(ef);this.menuTypeMap.set(ef,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(tf);this.menuTypeMap.set(tf,s.concat(y.graphMenu))}}},m.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuConfig(s);else if(y==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}(),JE=function(){function m(y){var s=this,f=y.lf;this.lf=f,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return m.prototype.render=function(y,s){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){f.panelEl.appendChild(f.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},m.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},m.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},m.prototype.createDndItem=function(y){var s=this,f=document.createElement("div");f.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",y.icon&&(o.style.backgroundImage="url("+y.icon+")"),f.appendChild(o),y.label){var p=document.createElement("div");p.innerText=y.label,p.className="lf-dnd-text",f.appendChild(p)}return y.disabled?(f.classList.add("disabled"),f.onmousedown=function(){y.callback&&y.callback(s.lf,s.domContainer)},f):(f.onmousedown=function(){y.type&&s.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(s.lf,s.domContainer)},f.ondblclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:d,data:y})},f.onclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:d,data:y})},f.oncontextmenu=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:d,data:y})},f)},m.pluginName="dndPanel",m}(),QE=function(){function m(y){var s=this,f=y.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(p){var d=s.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,O=d.x,v=d.y;s.endPoint={x:O,y:v};var E=s.startPoint,M=E.x,P=E.y,T=s.wrapper.style,k=M,R=P,C=O-M,F=v-P;O<M&&(k=O,C=M-O),v<P&&(R=v,F=P-v),T.left=k+"px",T.top=R+"px",T.width=C+"px",T.height=F+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var p=s.startPoint,d=p.x,O=p.y,v=s.endPoint,E=v.x,M=v.y;if(!(Math.abs(E-d)<10&&Math.abs(M-O)<10)){var P=[Math.min(d,E),Math.min(O,M)],T=[Math.max(d,E),Math.max(O,M)],k=s.lf.graphModel.getAreaElement(P,T,s.isWholeEdge,s.isWholeNode,!0),R=s.lf.graphModel.group;k.forEach(function(C){(!R||!R.getNodeGroup(C.id))&&s.lf.selectElementById(C.id,!0)}),s.lf.emit("selection:selected",k)}},this.lf=f;var o=f.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,f.openSelectionSelect=function(){s.openSelectionSelect()},f.closeSelectionSelect=function(){s.closeSelectionSelect()}}return m.prototype.render=function(y,s){var f=this;this.__domContainer=s,y.on("blank:mousedown",function(o){var p=o.e,d=y.getEditConfig();if(!(!d.stopMoveGraph||f.__disabled)){var O=p.button===2;if(!O){var v=y.getPointByClient(p.clientX,p.clientY).domOverlayPosition,E=v.x,M=v.y;f.startPoint={x:E,y:M},f.endPoint={x:E,y:M};var P=document.createElement("div");P.className="lf-selection-select",P.oncontextmenu=function(k){k.preventDefault()},P.style.top=f.startPoint.y+"px",P.style.left=f.startPoint.x+"px",s.appendChild(P),f.wrapper=P,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}}})},m.prototype.setSelectionSense=function(y,s){y===void 0&&(y=!0),s===void 0&&(s=!0),this.isWholeEdge=y,this.isWholeNode=s},m.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},m.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},m.prototype.open=function(){this.__disabled=!1},m.prototype.close=function(){this.__disabled=!0},m.pluginName="selectionSelect",m}(),o_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),vs=function(){return vs=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},vs.apply(this,arguments)},cf=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},eS={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function tS(m){for(var y=m,s=1;s<y.length-1;){var f=cf(y[s-1],2),o=f[0],p=f[1],d=cf(y[s],2),O=d[0],v=d[1],E=cf(y[s+1],2),M=E[0],P=E[1];o===O&&O===M||p===v&&v===P?y.splice(s,1):s++}return y}function nS(m,y,s,f){var o=[m[0],m[1]],p=[m[0],m[1]];switch(s){case"tl":return y==="tr"?(o[1]+=f,p[0]+=f):y==="lb"&&(o[0]+=f,p[1]+=f),[o,p];case"tr":return y==="tl"?(o[1]+=f,p[0]-=f):y==="rb"&&(o[0]-=f,p[1]+=f),[o,p];case"bl":return y==="br"?(o[1]-=f,p[0]+=f):y==="lt"&&(o[0]+=f,p[1]-=f),[o,p];case"br":return y==="bl"?(o[1]-=f,p[0]-=f):y==="rt"&&(o[0]-=f,p[1]-=f),[o,p];default:return[]}}function rS(m,y,s,f){var o,p="",d="";m[0]===y[0]?p=m[1]>y[1]?"t":"b":m[1]===y[1]&&(p=m[0]>y[0]?"l":"r"),y[0]===s[0]?d=y[1]>s[1]?"t":"b":y[1]===s[1]&&(d=y[0]>s[0]?"l":"r");var O=Math.min(Math.hypot(y[0]-m[0],y[1]-m[1])/2,Math.hypot(s[0]-y[0],s[1]-y[1])/2,f)||1/5*f,v=""+p+d,E=eS[v]||"-",M="L "+m[0]+" "+m[1];if(E==="-")M+="L "+y[0]+" "+y[1]+" L "+s[0]+" "+s[1];else{var P=cf(nS(y,v,E,O),2),T=P[0],k=P[1];T&&k&&(M+="L "+T[0]+" "+T[1]+" Q "+y[0]+" "+y[1]+" "+k[0]+" "+k[1],o=cf(k,2),y[0]=o[0],y[1]=o[1])}return M}function oS(m,y){var s=0,f="";if(m.length===2)f+="M"+m[s][0]+" "+m[s++][1]+" L "+m[s][0]+" "+m[s][1];else{for(f+="M"+m[s][0]+" "+m[s++][1];s+1<m.length;){var o=m[s-1],p=m[s],d=m[s+++1];f+=rS(o,p,d,y)}f+="L "+m[s][0]+" "+m[s][1]}return f}(function(m){o_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getEdge=function(){var s=this.props.model,f=s.points,o=s.isAnimation,p=s.arrowConfig,d=s.radius,O=d===void 0?5:d,v=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),M=tS(f.split(" ").map(function(k){return k.split(",").map(function(R){return+R})})),P=oS(M,O),T=vs(vs(vs({style:o?E:{}},v),p),{fill:"none"});return ot.h("path",vs({d:P},T))},y})(ot.PolylineEdge);(function(m){o_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y})(ot.PolylineEdgeModel);const iS={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function aS(m){const{incoming:y,outgoing:s,properties:f,key:o}=m,{text:p,startPoint:d,endPoint:O,pointsList:v,logicFlowType:E}=f,M={id:o,type:E,sourceNodeId:y[0],targetNodeId:s[0],text:p,startPoint:d,endPoint:O,pointsList:v,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(T=>{P.indexOf(T)===-1&&(M.properties[T]=m.properties[T])}),M}function uS(m){const{properties:y,key:s}=m,{x:f,y:o,text:p,logicFlowType:d}=y,O={id:s,type:d,x:f,y:o,text:p,properties:{}},v=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(E=>{v.indexOf(E)===-1&&(O.properties[E]=m.properties[E])}),O}function cS(m){const y={nodes:[],edges:[]},s=m.flowElementList;return s&&s.length>0&&s.forEach(f=>{if(f.type===iS.SEQUENCE_FLOW){const o=aS(f);y.edges.push(o)}else{const o=uS(f);y.nodes.push(o)}}),y}function sS(m){return[{text:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{m.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"开始",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const lS=ag({name:"FlowChart",__name:"FlowChart",props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(m){const y=m,s=_d(null),f=_d({}),o=_d(null),{prefixCls:p}=lx("flow-chart"),d=fx(),[O,{openModal:v}]=Px();Tx({logicFlow:o});const E=Ox(()=>{const{flowOptions:k}=y;return Wv({grid:!0,background:{color:d.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},k)});Zb(()=>y.data,()=>{P()}),Zb(()=>Dn(E),k=>{var R;(R=Dn(o))==null||R.updateEditConfig(k)});function M(){return md(this,null,function*(){yield Kv();const k=Dn(s);if(!k)return;ds.use(JE),ds.use(KE),ds.use(nE),ds.use(ZE),ds.use(QE),o.value=new ds($b(Wv({},Dn(E)),{container:k}));const R=Dn(o);R==null||R.setDefaultEdgeType("line"),P(),R==null||R.setPatternItems(y.patternItems||sS(R))})}function P(){return md(this,null,function*(){yield Kv();const k=Dn(o);if(!k)return;const R=cS(y.data);k.render(R)})}function T(){const k=Dn(o);k&&(f.value=Dn(k).getGraphData(),v())}return wx(M),(k,R)=>(Ga(),nf("div",{class:Od(["h-full",Dn(p)])},[m.toolbar?(Ga(),ug(Cx,{key:0,prefixCls:Dn(p),onViewData:T},null,8,["prefixCls"])):Vv("",!0),xx("div",{ref_key:"lfElRef",ref:s,class:"h-full"},null,512),sf(Dn(Ax),{onRegister:Dn(O),title:"流程数据",width:"50%"},{default:Sd(()=>[sf(Dn(Mx),{data:f.value},null,8,["data"])]),_:1},8,["onRegister"])],2))}}),fS=px(lS),pS=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],dS={flowElementList:pS},ES=ag({__name:"index",setup(m){return(y,s)=>(Ga(),ug(Dn(kx),{title:"流程图",content:"简单流程图示例,具体功能需要自己完善",contentFullHeight:"",fixedHeight:""},{default:Sd(()=>[sf(Dn(fS),{data:Dn(dS)},null,8,["data"])]),_:1}))}});export{ES as default};
