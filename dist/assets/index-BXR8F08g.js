var Be=Object.defineProperty,Fe=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var fe=(e,a,l)=>a in e?Be(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,ue=(e,a)=>{for(var l in a||(a={}))Pe.call(a,l)&&fe(e,l,a[l]);if(ye)for(var l of ye(a))Oe.call(a,l)&&fe(e,l,a[l]);return e},be=(e,a)=>Fe(e,He(a));import{l as We}from"./localforage-Asvql24k.js";import{$ as ce,_ as pe,m as he,u as Ie}from"./entry/index-BNp4bmLj-1732066199007.js";import{d as oe,K as Ye,Z as h,_ as H,a0 as V,u as ie,a8 as P,ac as ze,ai as Me,f as C,w as ge,a7 as B,a9 as F,$ as f,F as X,aa as le,k as _,ab as R,y as Ae,J as ae,a2 as we,a3 as xe,G as ve,o as Ve,ag as Re}from"./vue-D4H2Ux2Y.js";import{ai as q,n as A}from"./antd-DgCI0x_J.js";import{u as $e}from"./use-lifecycle-CyVQVRUS.js";const Ue={key:0,class:"attr-editor-label"},ee=oe({__name:"base-comp",props:{type:{default:"label"}},setup(e){const a=e,l=Ye(),s={number:"mars-input-number",radio:"mars-switch",slider:"mars-slider",color:"mars-color-picker",combobox:"mars-select",textarea:"mars-textarea",label:"span"};function t(k){return s[k]}return(k,O)=>a.type==="label"?(h(),H("span",Ue,V(ie(l).value||""),1)):(h(),P(Me(t(a.type)),ze({key:1,size:"small"},ie(l)),null,16))}}),z={label:{name:"文字",primitive:!0,style:[{name:"text",label:"内容",type:"textarea",defval:""},{name:"font_family",label:"字体",type:"combobox",defval:"微软雅黑",data:[{label:"微软雅黑",value:"微软雅黑"},{label:"宋体",value:"宋体"},{label:"楷体",value:"楷体"},{label:"隶书",value:"隶书"},{label:"黑体",value:"黑体"}]},{name:"font_size",label:"字体大小",type:"number",min:3,step:1,defval:30},{name:"font_weight",label:"是否加粗",type:"combobox",defval:"normal",data:[{label:"是",value:"bold"},{label:"否",value:"normal"}]},{name:"font_style",label:"是否斜体",type:"combobox",defval:"normal",data:[{label:"是",value:"italic"},{label:"否",value:"normal"}]},{name:"color",label:"颜色",type:"color",defval:"#ffffff"},{name:"outline",label:"是否衬色",type:"radio",defval:!1},{name:"outlineColor",label:"衬色颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}},{name:"outlineWidth",label:"衬色宽度",type:"number",min:1,max:5,step:1,defval:3,show(e,a,l){return e.outline}},{name:"background",label:"是否背景",type:"radio",defval:!1},{name:"backgroundColor",label:"背景颜色",type:"color",defval:"#000000",show(e,a,l){return e.background}},{name:"backgroundPadding",label:"背景内边距",type:"number",step:1,defval:5,show(e,a,l){return e.background}},{name:"pixelOffsetX",label:"横向偏移像素",type:"number",step:1,defval:0},{name:"pixelOffsetY",label:"纵向偏移像素",type:"number",step:1,defval:0},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"visibleDepth",label:"是否被遮挡",type:"radio",defval:!0},{name:"addHeight",label:"偏移高度",type:"number",step:1,defval:0,show(e,a,l){return l!=="point"&&l!=="billboard"&&l!=="label"}}]},canvasLabel:{name:"Canvas文字",style:[{name:"text",label:"内容",type:"textarea",defval:""},{name:"font_family",label:"字体",type:"combobox",defval:"微软雅黑",data:[{label:"微软雅黑",value:"微软雅黑"},{label:"宋体",value:"宋体"},{label:"楷体",value:"楷体"},{label:"隶书",value:"隶书"},{label:"黑体",value:"黑体"}]},{name:"font_size",label:"字体大小",type:"number",min:3,step:1,defval:30},{name:"font_weight",label:"是否加粗",type:"combobox",defval:"normal",data:[{label:"是",value:"bold"},{label:"否",value:"normal"}]},{name:"font_style",label:"是否斜体",type:"combobox",defval:"normal",data:[{label:"是",value:"italic"},{label:"否",value:"normal"}]},{name:"color",label:"颜色",type:"color",defval:"#ffffff"},{name:"stroke",label:"是否衬色",type:"radio",defval:!1},{name:"strokeColor",label:"衬色颜色",type:"color",defval:"#000000",show(e,a,l){return e.stroke}},{name:"strokeWidth",label:"衬色宽度",type:"number",min:1,max:5,step:1,defval:3,show(e,a,l){return e.stroke}},{name:"background",label:"是否背景",type:"radio",defval:!1},{name:"backgroundColor",label:"背景颜色",type:"color",defval:"#000000",show(e,a,l){return e.background}},{name:"backgroundPadding",label:"背景内边距",type:"number",step:1,defval:5,show(e,a,l){return e.background}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}},{name:"outlineWidth",label:"边框宽度",type:"number",min:1,max:10,step:1,defval:4,show(e,a,l){return e.outline}},{name:"pixelOffsetX",label:"横向偏移像素",type:"number",step:1,defval:0},{name:"pixelOffsetY",label:"纵向偏移像素",type:"number",step:1,defval:0},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"visibleDepth",label:"是否被遮挡",type:"radio",defval:!0}]},point:{name:"点标记",primitive:!0,style:[{name:"pixelSize",label:"像素大小",type:"number",step:1,defval:10},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"outline",label:"是否边框",type:"radio",defval:!0},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.outline}},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"visibleDepth",label:"是否被遮挡",type:"radio",defval:!0}]},billboard:{name:"图标点标记",primitive:!0,extends:["divBillboard","divBillboardP","canvasBillboard","billboardIndicator"],style:[{name:"opacity",label:"透明度",type:"slider",defval:1,min:0,max:1,step:.01},{name:"scale",label:"大小比例",type:"number",step:1,defval:1},{name:"rotationDegree",label:"旋转角度",type:"number",step:1,defval:0},{name:"horizontalOrigin",label:"横向对齐",type:"combobox",valType:"number",defval:0,data:[{label:"左边",value:-1},{label:"居中",value:0},{label:"右边",value:1}]},{name:"verticalOrigin",label:"垂直对齐",type:"combobox",valType:"number",defval:1,data:[{label:"顶部",value:-1},{label:"居中",value:0},{label:"底部",value:1}]},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"visibleDepth",label:"是否被遮挡",type:"radio",defval:!0},{name:"image",label:"图标",type:"label",defval:""}]},div:{name:"DIV点标记",extends:["divBoderLabel","divLightPoint","divUpLabel","popup","tooltip","divIndicator"],style:[{name:"color",label:"颜色",type:"color",defval:"#00ffff",show(e,a,l){return l==="divLightPoint"||l==="divBoderLabel"||l==="divUpLabel"}},{name:"boderColor",label:"边框颜色",type:"color",defval:"#00ffff",show(e,a,l){return l==="divBoderLabel"}},{name:"size",label:"大小",type:"number",step:1,defval:10,show(e,a,l){return l==="divLightPoint"}},{name:"horizontalOrigin",label:"横向定位",type:"combobox",valType:"number",defval:0,data:[{label:"左边",value:1},{label:"居中",value:0},{label:"右边",value:-1}]},{name:"verticalOrigin",label:"垂直定位",type:"combobox",valType:"number",defval:0,data:[{label:"顶部",value:-1},{label:"居中",value:0},{label:"底部",value:1}]},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"testPoint",label:"是否显示测试点",type:"radio",defval:!1},{name:"html",label:"Html文本",type:"label",defval:""}]},divPlane:{name:"DIV三维平面",style:[{name:"scale",label:"比例",type:"number",step:1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:90},{name:"horizontalOrigin",label:"横向定位",type:"combobox",valType:"number",defval:0,data:[{label:"左边",value:1},{label:"居中",value:0},{label:"右边",value:-1}]},{name:"verticalOrigin",label:"垂直定位",type:"combobox",valType:"number",defval:0,data:[{label:"顶部",value:-1},{label:"居中",value:0},{label:"底部",value:1}]},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"testPoint",label:"是否显示测试点",type:"radio",defval:!1},{name:"html",label:"Html文本",type:"label",defval:""}]},fontBillboard:{name:"字体点标记",style:[{name:"iconClass",label:"Class样式",type:"label",defval:"fa fa-automobile"},{name:"iconSize",label:"图标大小",type:"number",step:1,defval:50},{name:"color",label:"颜色",type:"color",defval:"#00ffff"},{name:"horizontalOrigin",label:"横向对齐",type:"combobox",valType:"number",defval:0,data:[{label:"左边",value:1},{label:"居中",value:0},{label:"右边",value:-1}]},{name:"verticalOrigin",label:"垂直对齐",type:"combobox",valType:"number",defval:1,data:[{label:"顶部",value:-1},{label:"居中",value:0},{label:"底部",value:1}]},{name:"rotationDegree",label:"旋转角度",type:"number",step:1,defval:0},{name:"scaleByDistance",label:"是否按视距缩放",type:"radio",defval:!1},{name:"scaleByDistance_far",label:"上限",type:"number",step:1,defval:1e6,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_farValue",label:"比例值",type:"number",step:1,defval:.1,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_near",label:"下限",type:"number",step:1,defval:1e3,show(e,a,l){return e.scaleByDistance}},{name:"scaleByDistance_nearValue",label:"比例值",type:"number",step:1,defval:1,show(e,a,l){return e.scaleByDistance}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"visibleDepth",label:"是否被遮挡",type:"radio",defval:!0}]},model:{name:"gltf模型",primitive:!0,style:[{name:"url",label:"路径",type:"label",defval:""},{name:"scale",label:"比例",type:"number",step:1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"minimumPixelSize",label:"最小像素大小",type:"number",step:1,defval:0},{name:"opacity",label:"透明度",type:"slider",defval:1,min:0,max:1,step:.01},{name:"silhouette",label:"是否轮廓",type:"radio",defval:!1},{name:"silhouetteColor",label:"轮廓颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.silhouette}},{name:"silhouetteSize",label:"轮廓宽度",type:"number",step:1,defval:2,show(e,a,l){return e.silhouette}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"runAnimations",label:"是否动画",type:"radio",defval:!0},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!0},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}}]},circle:{name:"圆",primitive:!0,style:[{name:"radius",label:"半径",type:"number",step:1,defval:0},{name:"height",label:"高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"放大扩散线",value:"ScanLine"},{label:"半径扫描",value:"CircleScan"},{label:"波纹扩散",value:"CircleWave"},{label:"雷达线",value:"RadarLine"},{label:"波纹雷达扫描",value:"RadarWave"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"rotationDegree",label:"旋转角度",type:"number",step:1,defval:0,show(e,a,l){return e.fill!==!1}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline&&!e.outlineStyle}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline&&(e.diffHeight||!e.outlineStyle)}},{name:"outlineStyle",next:"width",label:"边框宽度",type:"number",min:0,step:1,defval:1,contant:"outlineWidth",show(e,a,l){return e.outline&&!e.diffHeight}},{name:"outlineStyle",next:"materialType",label:"边框材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color",contant:"outlineColor",defval:"#fff"},{label:"十字间隔",value:"LineCross"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"衬色线",value:"PolylineOutline"},{label:"光晕",value:"PolylineGlow"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return e.outline&&!e.diffHeight}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},ellipse:{name:"椭圆",style:[{name:"semiMinorAxis",label:"短半径",type:"number",step:1,defval:0},{name:"semiMajorAxis",label:"长半径",type:"number",step:1,defval:0},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"放大扩散线",value:"ScanLine"},{label:"半径扫描",value:"CircleScan"},{label:"波纹扩散",value:"CircleWave"},{label:"雷达线",value:"RadarLine"},{label:"波纹雷达扫描",value:"RadarWave"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline&&!e.outlineStyle}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline&&(e.diffHeight||!e.outlineStyle)}},{name:"outlineStyle",next:"width",label:"边框宽度",type:"number",min:0,step:1,defval:1,contant:"outlineWidth",show(e,a,l){return e.outline&&!e.diffHeight}},{name:"outlineStyle",next:"materialType",label:"边框材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color",contant:"outlineColor",defval:"#fff"},{label:"十字间隔",value:"LineCross"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"衬色线",value:"PolylineOutline"},{label:"光晕",value:"PolylineGlow"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return e.outline&&!e.diffHeight}},{name:"rotationDegree",label:"旋转角度",type:"number",step:1,defval:0},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!1}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},cylinder:{name:"圆锥体",primitive:!0,extends:["coneTrack","coneTrackP"],style:[{name:"topRadius",label:"顶部半径",type:"number",step:1,defval:0},{name:"bottomRadius",label:"底部半径",type:"number",step:1,defval:100},{name:"length",label:"锥体高度",type:"number",step:1,defval:100},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"波纹扩散",value:"CircleWave"},{label:"条纹扩散",value:"CylinderWave"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"slices",label:"边线边数",type:"number",step:1,defval:128},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}}]},frustum:{name:"四棱椎体",style:[{name:"color",label:"颜色",type:"color",defval:"rgba(0,255,0,0.4)"},{name:"length",label:"长度",type:"number",min:1,max:999999999,step:1,defval:1},{name:"angle",label:"夹角1",type:"slider",min:.1,max:89,step:.01,defval:1},{name:"angle2",label:"夹角2",type:"slider",min:.1,max:89,step:.01,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}}]},ellipsoid:{name:"球体",primitive:!0,style:[{name:"radii_x",label:"X半径",type:"number",step:1,defval:100},{name:"radii_y",label:"Y半径",type:"number",step:1,defval:100},{name:"radii_z",label:"Z半径",type:"number",step:1,defval:100},{name:"innerRadii_x",label:"内部X半径",type:"number",step:1,defval:0},{name:"innerRadii_y",label:"内部Y半径",type:"number",step:1,defval:0},{name:"innerRadii_z",label:"内部Z半径",type:"number",step:1,defval:0},{name:"minimumClockDegree",label:"最小时钟角度",type:"number",defval:0},{name:"maximumClockDegree",label:"最大时钟角度",type:"number",defval:360},{name:"minimumConeDegree",label:"最小锥角",type:"number",defval:0},{name:"maximumConeDegree",label:"最大圆锥角",type:"number",defval:180},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"波纹",value:"EllipsoidWave"},{label:"电弧",value:"EllipsoidElectric"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#000000",show(e,a,l){return e.outline}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}}]},plane:{name:"平面",primitive:!0,style:[{name:"dimensions_x",label:"长度",type:"number",step:1,defval:100},{name:"dimensions_y",label:"宽度",type:"number",step:1,defval:100},{name:"plane_normal",label:"方向",type:"combobox",defval:"z",data:[{label:"X轴",value:"x"},{label:"Y轴",value:"y"},{label:"Z轴",value:"z"}]},{name:"plane_distance",label:"偏移距离",type:"number",step:1,defval:0},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}}]},doubleSidedPlane:{name:"双面渲染图片平面",primitive:!0,style:[{name:"image",label:"填充的图片",type:"label"},{name:"opacity",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:1},{name:"noWhite",label:"不显示白色",type:"radio",defval:!0},{name:"dimensions_x",label:"长度",type:"number",step:1,defval:100},{name:"dimensions_y",label:"宽度",type:"number",step:1,defval:100},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0}]},box:{name:"盒子",primitive:!0,style:[{name:"dimensions_x",label:"盒子长度",type:"number",step:1,defval:100},{name:"dimensions_y",label:"盒子宽度",type:"number",step:1,defval:100},{name:"dimensions_z",label:"盒子高度",type:"number",step:1,defval:100},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}}]},particleSystem:{name:"粒子效果",style:[{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"particleSize",label:"粒子大小",type:"slider",defval:1,min:0,max:60,step:1},{name:"emissionRate",label:"发射速率",type:"slider",defval:100,min:0,max:500,step:1},{name:"gravity",label:"重力因子",type:"slider",defval:0,min:-20,max:20,step:.1},{name:"transX",label:"偏移值X",type:"slider",defval:0,min:-50,max:50,step:.1},{name:"transY",label:"偏移值Y",type:"slider",defval:0,min:-50,max:50,step:.1},{name:"transZ",label:"偏移值Z",type:"slider",defval:0,min:-50,max:50,step:.1},{name:"startScale",label:"开始比例",type:"slider",defval:1,min:0,max:10,step:1},{name:"endScale",label:"结束比例",type:"slider",defval:1,min:0,max:10,step:1},{name:"minimumParticleLife",label:"最小寿命",type:"slider",defval:3,min:.1,max:30,step:.1},{name:"maximumParticleLife",label:"最大寿命",type:"slider",defval:6,min:.1,max:30,step:.1}]},cloud:{name:"积云",style:[{name:"scaleX",label:"比例X",type:"number",step:1,defval:1},{name:"scaleY",label:"比例Y",type:"number",step:1,defval:1},{name:"maximumSizeX",label:"最大尺寸X",type:"number",step:1,defval:1},{name:"maximumSizeY",label:"最大尺寸Y",type:"number",step:1,defval:1},{name:"maximumSizeZ",label:"最大尺寸Z",type:"number",step:1,defval:1},{name:"slice",label:"切片",type:"slider",defval:1,min:0,max:1,step:.01},{name:"brightness",label:"亮度",type:"slider",defval:1,min:0,max:1,step:.01}]},lightCone:{name:"光锥体",style:[{name:"color",label:"颜色",type:"color",defval:"#00ffff"},{name:"radius",label:"底部半径",type:"number",min:1,max:999999999,step:1,defval:100},{name:"height",label:"锥体高度",type:"number",min:1,max:999999999,step:1,defval:1e3},{name:"setHeight",label:"指定坐标高度",type:"number",min:0,max:999999999,step:1,defval:0}]},tetrahedron:{name:"四面体",style:[{name:"color",label:"颜色",type:"color",defval:"#000000"},{name:"width",label:"顶部大小",type:"number",step:1,defval:20},{name:"height",label:"椎体高度",type:"number",step:1,defval:30},{name:"animation",label:"是否动画",type:"radio",defval:!0},{name:"moveHeight",label:"动画高度",type:"number",step:1,defval:30,show(e,a,l){return e.animation}},{name:"moveDuration",label:"动画时长",type:"number",min:1,max:999999999,step:1,defval:2,show(e,a,l){return e.animation}},{name:"rotationAngle",label:"旋转角度",type:"number",step:1,defval:1,show(e,a,l){return e.animation}}]},rectangularSensor:{name:"相控阵雷达范围",style:[{name:"color",label:"颜色",type:"color",defval:"#00FF00"},{name:"lineColor",label:"边线颜色",type:"color",defval:"#ffffff"},{name:"radius",label:"半径",type:"number",min:1,max:999999999,step:1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"xHalfAngleDegree",label:"上下夹角",type:"slider",min:0,max:89,step:.01,defval:1},{name:"yHalfAngleDegree",label:"左右夹角",type:"slider",min:0,max:89,step:.01,defval:1},{name:"showScanPlane",label:"扫描面",type:"radio",defval:!1},{name:"scanPlaneColor",label:"扫描面颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.showScanPlane}},{name:"scanPlaneMode",label:"扫描面方向",type:"combobox",defval:"vertical",data:[{label:"垂直方向",value:"vertical"},{label:"水平方向",value:"horizontal"}],show(e,a,l){return e.showScanPlane}},{name:"scanPlaneRate",label:"扫描速率",type:"number",min:1,max:100,step:.1,defval:3,show(e,a,l){return e.showScanPlane}}]},camberRadar:{name:"双曲面雷达范围",style:[{name:"color",label:"颜色",type:"color",defval:"#ffffff"},{name:"radius",label:"内曲面半径",type:"number",min:1,max:999999999,step:1,defval:1,toFixed:1},{name:"startRadius",label:"外曲面半径",type:"number",min:1,max:999999999,step:1,defval:1,toFixed:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"startFovH",label:"左横截面角度",type:"slider",min:-180,max:180,step:.01,defval:1},{name:"endFovH",label:"右横截面角度",type:"slider",min:-180,max:180,step:.01,defval:1},{name:"startFovV",label:"垂直起始角度",type:"slider",min:0,max:90,step:.01,defval:1},{name:"endFovV",label:"垂直结束角度",type:"slider",min:0,max:90,step:.01,defval:1}]},jammingRadar:{name:"自定义干扰雷达",style:[{name:"scale",label:"大小比例",type:"slider",min:.1,max:10,step:.1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"autoColor",label:"是否内置渐变色",type:"radio",defval:!0},{name:"color",label:"颜色",type:"color",defval:"rgba(255,0,0,0.5)",show(e,a,l){return!e.autoColor}},{name:"outline",label:"是否显示边线",type:"radio",defval:!1},{name:"outlineColor",label:"边线颜色",type:"color",defval:"#ffffff",show(e,a,l){return!e.autoColor}}]},fixedJammingRadar:{name:"固定算法干扰雷达",style:[{name:"scale",label:"大小比例",type:"slider",min:.1,max:10,step:.1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"autoColor",label:"是否内置渐变色",type:"radio",defval:!0},{name:"color",label:"颜色",type:"color",defval:"rgba(255,0,0,0.5)",show(e,a,l){return!e.autoColor}},{name:"outline",label:"是否显示边线",type:"radio",defval:!1},{name:"outlineColor",label:"边线颜色",type:"color",defval:"#ffffff",show(e,a,l){return!e.autoColor}},{name:"pt",label:"发射功率",type:"number",defval:8e6},{name:"gt",label:"天线主瓣增益",type:"number",defval:500},{name:"lambda",label:"信号波长(lambda)",type:"number",defval:.056},{name:"sigma",label:"反射截面积(sigma)",type:"number",defval:3},{name:"n",label:"脉冲积累数",type:"number",defval:16},{name:"k",label:"玻尔兹曼常数",type:"number",defval:138e-25},{name:"t0",label:"绝对温度",type:"number",defval:290},{name:"bn",label:"接收机通频带宽度",type:"number",defval:16e5},{name:"fn",label:"接收机噪声系数",type:"number",defval:5},{name:"sn",label:"接收机最小可检测信噪比",type:"number",defval:2}]},satellite:{name:"卫星",primitive:!1,style:[{name:"tle1",label:"tle1",type:"label",defval:""},{name:"tle2",label:"tle2",type:"label",defval:""},{name:"path_show",label:"是否显示路径",type:"radio",defval:!1},{name:"path_width",label:"路径线宽",type:"number",step:1,defval:4,show(e,a,l){return e.path_show}},{name:"path_color",label:"路径颜色",type:"color",defval:"#3388ff",show(e,a,l){return e.path_show}},{name:"model_show",label:"是否显示模型",type:"radio",defval:!1},{name:"model_url",label:"模型路径",type:"label",defval:"",show(e,a,l){return e.model_show}},{name:"model_heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0,show(e,a,l){return e.model_show}},{name:"model_pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0,show(e,a,l){return e.model_show}},{name:"model_roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0,show(e,a,l){return e.model_show}},{name:"model_scale",label:"比例",type:"number",step:1,defval:1,show(e,a,l){return e.model_show}},{name:"model_minimumPixelSize",label:"最小像素大小",type:"number",step:1,defval:0,show(e,a,l){return e.model_show}},{name:"model_distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1,show(e,a,l){return e.model_show}},{name:"model_distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.model_show&&e.model_distanceDisplayCondition}},{name:"model_distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.model_show&&e.model_distanceDisplayCondition}},{name:"cone_show",label:"是否显示视椎体",type:"radio",defval:!1},{name:"cone_angle1",label:"视椎体半场角1",type:"slider",min:.1,max:80,step:.01,defval:5,show(e,a,l){return e.cone_show}},{name:"cone_angle2",label:"视椎体半场角2",type:"slider",min:.1,max:80,step:.01,defval:5,show(e,a,l){return e.cone_show}},{name:"cone_color",label:"视椎体颜色",type:"color",defval:"rgba(255,255,0,0.4)",show(e,a,l){return e.cone_show}}]},conicSensor:{name:"卫星圆锥体",style:[{name:"color",label:"颜色",type:"color",defval:"rgba(255,0,0,0.4)"},{name:"length",label:"长度",type:"number",min:1,max:999999999,step:1,defval:1},{name:"angle",label:"夹角",type:"slider",min:1,max:89,step:.01,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"topShow",label:"显示顶盖",type:"radio",defval:!0},{name:"shadowShow",label:"地面投影",type:"radio",defval:!1}]},rectSensor:{name:"卫星四棱椎体",style:[{name:"color",label:"颜色",type:"color",defval:"rgba(0,255,0,0.4)"},{name:"length",label:"长度",type:"number",min:1,max:999999999,step:1,defval:1},{name:"angle1",label:"夹角1",type:"slider",min:.1,max:89,step:.01,defval:1},{name:"angle2",label:"夹角2",type:"slider",min:.1,max:89,step:.01,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"topShow",label:"显示顶盖",type:"radio",defval:!0}]},pointLight:{name:"点光源",style:[{name:"color",label:"光颜色",type:"color",defval:"rgba(0,255,0,0.4)"},{name:"intensity",label:"光强度",type:"number",min:1,max:1e4,step:1,defval:1},{name:"radius",label:"点光源半径",type:"number",min:1,max:1e4,step:1,defval:1}]},spotLight:{name:"聚光灯",style:[{name:"color",label:"光颜色",type:"color",defval:"rgba(0,255,0,0.4)"},{name:"intensity",label:"光强度",type:"number",min:1,max:999999999,step:1,defval:1},{name:"radius",label:"聚光灯半径",type:"number",min:1,max:999999999,step:1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"innerCone",label:"内圆锥角",type:"slider",min:0,max:45,step:.1,defval:10},{name:"outerCone",label:"外圆锥角",type:"slider",min:0,max:45,step:.1,defval:10}]},pointVisibility:{name:"圆形可视域区域",style:[{name:"radius",label:"半径",type:"slider",min:1,max:3e3,step:1,defval:1},{name:"showFrustum",label:"视椎体框线",type:"radio",defval:!1}]},coneVisibility:{name:"扇形可视域区域",style:[{name:"radius",label:"半径",type:"slider",min:1,max:3e3,step:1,defval:1},{name:"heading",label:"方向角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"pitch",label:"俯仰角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"roll",label:"翻滚角",type:"slider",min:0,max:360,step:.01,defval:0},{name:"showFrustum",label:"视椎体框线",type:"radio",defval:!1}]},viewDome:{name:"开敞度分析球",style:[{name:"radius",label:"半径",type:"number",min:1,max:999999999,step:1,defval:1},{name:"visibleColor",label:"可见区域颜色",type:"color",defval:"rgba(0,183,239, 0.5)"},{name:"hiddenColor",label:"不可见区域颜色",type:"color",defval:"rgba(227,108,9, 0.5)"}]},polyline:{name:"线",primitive:!0,extends:["curve","brushLine","distanceMeasure","heightMeasure"],style:[{name:"width",label:"线宽",type:"number",step:1,defval:4},{name:"materialType",label:"线型",type:"combobox",defval:"Color",data:[{label:"实线",value:"Color"},{label:"虚线",value:"PolylineDash"},{label:"衬色线",value:"PolylineOutline"},{label:"箭头",value:"PolylineArrow"},{label:"光晕",value:"PolylineGlow"},{label:"OD线",value:"ODLine"},{label:"闪烁线",value:"LineFlicker"},{label:"轨迹线",value:"LineTrail"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动blue",value:"LineFlow",defval:{image:"img/textures/line-arrow-blue.png",repeat_x:10}},{label:"流动dovetail",value:"LineFlow-2",defval:{image:"img/textures/line-arrow-dovetail.png",repeat_x:10}},{label:"流动arrow",value:"LineFlow-3",defval:{image:"img/textures/line-arrow-right.png",repeat_x:10}},{label:"流动aqua",value:"LineFlow-4",defval:{image:"img/textures/line-color-aqua.png",repeat_x:10}},{label:"流动azure",value:"LineFlow-5",defval:{image:"img/textures/line-color-azure.png",repeat_x:10}},{label:"流动red",value:"LineFlow-6",defval:{image:"img/textures/line-color-red.png",color:"#ff0000",repeat_x:10}},{label:"流动yellow",value:"LineFlow-7",defval:{image:"img/textures/line-color-yellow.png",color:"#ffff00",repeat_x:10}},{label:"流动colour",value:"LineFlow-8",defval:{image:"img/textures/line-colour.png",repeat_x:10}},{label:"流动gradual",value:"LineFlow-9",defval:{image:"img/textures/line-gradual.png",repeat_x:10}},{label:"流动pulse",value:"LineFlow-10",defval:{image:"img/textures/line-pulse.png"}},{label:"流动sprite",value:"LineFlow-11",defval:{image:"img/textures/line-sprite.png",repeat_x:10}},{label:"流动tarans",value:"LineFlow-13",defval:{image:"img/textures/line-tarans.png"}},{label:"流动vertebral",value:"LineFlow-14",defval:{image:"img/textures/line-vertebral.png",repeat_x:10}},{label:"流动vertebral-blue",value:"LineFlow-15",defval:{image:"img/textures/line-vertebral-blue.png",repeat_x:10}},{label:"流动fence-line",value:"LineFlow-16",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动transarrow",value:"LineFlow-17",defval:{image:"img/textures/line-arrow-trans.png",repeat_x:10}},{label:"流动天青",value:"LineFlow-18",defval:{image:"img/textures/line-color-yellow.png",color:"#33e8df",repeat_x:1}},{label:"天青pulse",value:"LineFlow-19",defval:{image:"img/textures/line-color-yellow.png",color:"#33e8df",width:8}}],show(e,a,l){return this.data.some(s=>s.value===e.materialType)}},{name:"closure",label:"是否闭合",type:"radio",defval:!1},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!e.diffHeight||e.diffHeight!==0}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},path:{name:"路径",style:[{name:"width",label:"线宽",type:"number",step:1,defval:4},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"leadTime",label:"轨迹前",type:"number",step:1,defval:0},{name:"trailTime",label:"轨迹保留",type:"number",step:1,defval:9999}]},polylineVolume:{name:"管道线",primitive:!0,style:[{name:"shape",label:"形状",type:"combobox",defval:"pipeline",data:[{label:"空心管",value:"pipeline"},{label:"实心管",value:"circle"},{label:"星状管",value:"star"}]},{name:"radius",label:"半径",type:"number",step:1,defval:10},{name:"thicknes",label:"厚度",type:"number",step:1,defval:3,show(e,a,l){return e.shape==="pipeline"}},{name:"slices",label:"边线边数",type:"number",min:1,max:360,step:1,defval:90},{name:"startAngle",label:"开始角度",type:"slider",min:0,max:360,step:.1,defval:0},{name:"materialType",label:"材质类型",type:"combobox",defval:"Color",data:[{label:"实线",value:"Color"},{label:"轨迹线",value:"LineTrail"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return this.data.some(s=>s.value===e.materialType)}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#000000",show(e,a,l){return e.outline}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}}]},wall:{name:"墙体",primitive:!0,style:[{name:"diffHeight",label:"墙高",type:"number",step:1,defval:100},{name:"fill",label:"是否填充",type:"radio",defval:!0},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"文本",value:"Text"},{label:"走马灯",value:"WallScroll"},{label:"流动arrow",value:"LineFlow",defval:{image:"img/textures/arrow.png",repeat_x:10}},{label:"流动arrowh",value:"LineFlow-1",defval:{image:"img/textures/arrow-h.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-2",defval:{image:"img/textures/fence.png",axisY:!0}},{label:"流动line",value:"LineFlow-3",defval:{image:"img/textures/fence-line.png",axisY:!0}},{label:"图片fence",value:"LineFlow-4",defval:{image:"img/textures/fence.png",axisY:!0,color:"#ff0000",image2:"img/textures/tanhao.png",color2:"#FFFF00",outline:!1,diffHeight:1e3,lastMaterialType:"Image"}}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"closure",label:"是否闭合",type:"radio",defval:!1},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",defval:1,show(e){return e.outline===!0}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e){return e.outline===!0}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1}]},scrollWall:{name:"走马灯围墙",style:[{name:"diffHeight",label:"墙高",type:"number",step:1,defval:100},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10},{name:"reverse",label:"方向",type:"radio",defval:!0},{name:"style",label:"样式",type:"combobox",defval:1,data:[{label:"样式1",value:1},{label:"样式2",value:2}]}]},thickWall:{name:"厚度墙",style:[{name:"diffHeight",label:"墙高",type:"number",step:100,defval:9999},{name:"width",label:"墙厚度",type:"number",step:1,defval:9999},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"opacity",label:"透明度",type:"number",step:.1,min:0,max:1,defval:1},{name:"closure",label:"是否闭合",type:"radio",defval:!1},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1}]},diffuseWall:{name:"扩散围墙",style:[{name:"diffHeight",label:"墙高",type:"number",step:1,defval:100},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10}]},corridor:{name:"走廊",primitive:!0,style:[{name:"height",label:"高程",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"width",label:"走廊宽度",type:"number",step:1,defval:100},{name:"cornerType",label:"顶点样式",type:"combobox",valType:"number",defval:0,data:[{label:"圆滑",value:0},{label:"斜接",value:1},{label:"斜切",value:2}]},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"网格",value:"Grid"}],show(e,a,l){return this.data.some(s=>s.value===e.materialType)}},{name:"outline",label:"是否边框",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!1}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},road:{name:"道路",style:[{name:"opacity",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:1},{name:"width",label:"路宽度",type:"number",min:0,step:1,defval:1},{name:"height",label:"路高度",type:"number",min:0,step:1,defval:1}]},rectangle:{name:"矩形",primitive:!0,style:[{name:"height",label:"高程",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"文本",value:"Text"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show(e,a,l){return e.outline&&!e.outlineStyle}},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.outline&&(e.diffHeight||!e.outlineStyle)}},{name:"outlineStyle",next:"width",label:"边框宽度",type:"number",min:0,step:1,defval:1,contant:"outlineWidth",show(e,a,l){return e.outline&&!e.diffHeight}},{name:"outlineStyle",next:"materialType",label:"边框材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color",contant:"outlineColor",defval:"#fff"},{label:"十字间隔",value:"LineCross"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"衬色线",value:"PolylineOutline"},{label:"光晕",value:"PolylineGlow"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return e.outline&&!e.diffHeight}},{name:"rotationDegree",label:"旋转角度",type:"number",step:1,defval:0},{name:"stRotationDegree",label:"材质角度",type:"number",step:1,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},polygon:{name:"面",primitive:!0,extends:["video2D","attackArrow","attackArrowPW","attackArrowYW","closeVurve","straightArrow","doubleArrow","fineArrow","fineArrowYW","areaMeasure","gatheringPlace","isosTriangle","lune","regular"],style:[{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,max:1e7,show(e,a,l){return!e.clampToGround}},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"文本",value:"Text"},{label:"渐变面",value:"PolyGradient"},{label:"水面",value:"Water"},{label:"蓝光水面",value:"WaterLight"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show:e=>e.outline&&!e.outlineStyle},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show:e=>e.outline&&(e.diffHeight||!e.outlineStyle)},{name:"outlineStyle",next:"width",label:"边框宽度",type:"number",min:0,step:1,defval:1,contant:"outlineWidth",show(e,a,l){return e.outline&&!e.diffHeight}},{name:"outlineStyle",next:"materialType",label:"边框材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color",contant:"outlineColor",defval:"#fff"},{label:"十字间隔",value:"LineCross"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"衬色线",value:"PolylineOutline"},{label:"光晕",value:"PolylineGlow"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return e.outline&&!e.diffHeight}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},sector:{name:"扇形面",style:[{name:"radius",label:"半径",type:"number",toFixed:2,step:.1,defval:0},{name:"startAngle",label:"开始角度",type:"slider",min:0,max:360,step:.01,defval:0},{name:"endAngle",label:"结束角度",type:"slider",min:0,max:360,step:.01,defval:0},{name:"noCenter",label:"不连中心点",type:"radio",defval:!1},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"fill",label:"是否填充",type:"radio",defval:!0,show(e,a,l){return!e.clampToGround}},{name:"materialType",label:"填充材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"网格",value:"Grid"},{label:"条纹",value:"Stripe"},{label:"棋盘",value:"Checkerboard"},{label:"文本",value:"Text"},{label:"渐变面",value:"PolyGradient"},{label:"水面",value:"Water"},{label:"蓝光水面",value:"WaterLight"}],show(e,a,l){return e.fill!==!1&&this.data.some(s=>s.value===e.materialType)}},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"outline",label:"是否边框",type:"radio",defval:!1},{name:"outlineWidth",label:"边框宽度",type:"number",min:0,step:1,defval:1,show:e=>e.outline&&!e.outlineStyle},{name:"outlineColor",label:"边框颜色",type:"color",defval:"#ffffff",show:e=>e.outline&&(e.diffHeight||!e.outlineStyle)},{name:"outlineStyle",next:"width",label:"边框宽度",type:"number",min:0,step:1,defval:1,contant:"outlineWidth",show(e,a,l){return e.outline&&!e.diffHeight}},{name:"outlineStyle",next:"materialType",label:"边框材质",type:"combobox",defval:"Color",data:[{label:"纯色",value:"Color",contant:"outlineColor",defval:"#fff"},{label:"十字间隔",value:"LineCross"},{label:"图片",value:"Image",defval:{image:"img/tietu/gugong.jpg"}},{label:"衬色线",value:"PolylineOutline"},{label:"光晕",value:"PolylineGlow"},{label:"泛光线",value:"LineBloom"},{label:"流动颜色",value:"LineFlowColor"},{label:"流动line",value:"LineFlow",defval:{image:"img/textures/fence-line.png",repeat_x:10}},{label:"流动fence",value:"LineFlow-1",defval:{image:"img/textures/fence.png",repeat_x:10}}],show(e,a,l){return e.outline&&!e.diffHeight}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"hasShadows",label:"是否阴影",type:"radio",defval:!1,show(e,a,l){return!e.clampToGround}},{name:"flat",label:"不考虑光照",type:"radio",defval:!1,show(e,a,l){return l.endsWith("P")}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!1}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},pit:{name:"井",style:[{name:"diffHeight",label:"井深度",type:"number",step:1,defval:0},{name:"splitNum",label:"插值数",type:"number",step:1,defval:50},{name:"image",label:"墙面贴图",type:"label"},{name:"imageBottom",label:"底面贴图",type:"label"}]},water:{name:"水面",style:[{name:"opacity",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:1},{name:"baseWaterColor",label:"基础颜色",type:"color",defval:"#123e59"},{name:"blendColor",label:"混合颜色",type:"color",defval:"#123e59"},{name:"normalMap",label:"反射图片",type:"label",defval:"img/textures/waterNormals.jpg"},{name:"frequency",label:"波数",type:"number",min:1,max:1e5,step:1,defval:9e3},{name:"amplitude",label:"水波振幅",type:"number",min:0,max:100,step:1,defval:5},{name:"animationSpeed",label:"动画速度",type:"slider",min:0,max:1,step:.01,defval:.03},{name:"specularIntensity",label:"反射强度",type:"slider",min:0,max:1,step:.1,defval:.5},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show:e=>e.fill!==!1&&e.materialType!=="Color"},{name:"offsetHeight",label:"偏移高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return!e.clampToGround}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!1}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},video:{name:"视频",style:[{name:"diffHeight",label:"立体高度",type:"number",step:1,defval:0,show(e,a,l){return l==="wall"}},{name:"stRotationDegree",label:"填充方向",type:"slider",min:0,max:360,step:.01,defval:0,show(e,a,l){return e.fill!==!1&&!e.diffHeight}},{name:"distanceDisplayCondition",label:"是否按视距显示",type:"radio",defval:!1},{name:"distanceDisplayCondition_far",label:"最大距离",type:"number",step:1,defval:1e5,show(e,a,l){return e.distanceDisplayCondition}},{name:"distanceDisplayCondition_near",label:"最小距离",type:"number",step:1,defval:0,show(e,a,l){return e.distanceDisplayCondition}},{name:"clampToGround",label:"是否贴地",type:"radio",defval:!1,show(e,a,l){return!1}},{name:"zIndex",label:"层级顺序",type:"number",min:0,step:1,defval:0,show(e,a,l){return e.clampToGround}}]},reflectionWater:{name:"反射水面",style:[{name:"color",label:"水面颜色",type:"color",defval:"#7badd0"},{name:"opacity",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:.9},{name:"normalMap",label:"水扰动的法线图",type:"label",defval:"img/textures/waterNormals.jpg"},{name:"reflectivity",label:"反射率",type:"slider",min:0,max:1,step:.1,defval:.5},{name:"ripple",label:"波纹大小",type:"number",min:0,max:1e3,step:1,defval:50},{name:"shiny",label:"光照强度",type:"number",min:1,max:1e3,step:1,defval:100},{name:"animationSpeed",label:"动画速度",type:"number",min:.1,max:10,step:.1,defval:1},{name:"specularIntensity",label:"反射强度",type:"slider",min:0,max:.9,step:.01,defval:.3},{name:"distortion",label:"倒影扭曲程度",type:"number",min:0,max:10,step:.1,defval:3.7},{name:"farDistance",label:"远距离",type:"number",step:1,defval:1e4},{name:"farColor",label:"远距离颜色",type:"color",defval:"#91B3FF"}]}};for(const e in z)z[e].type=e,z[e].primitive&&(z[e+"P"]=z[e]),z[e].extends&&z[e].extends.forEach(a=>{z[a]=z[e]});const re=z,$={Color:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"}],PolylineDash:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"gapColor",label:"间隔颜色",type:"color",defval:"rgba(255,255,255,0)"},{name:"dashLength",label:"虚线间长",type:"number",step:1,defval:16}],PolylineOutline:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"outlineColor",label:"衬色",type:"color",defval:"rgba(255,255,255,0)"},{name:"outlineWidth",label:"衬色宽度",type:"number",min:0,max:20,step:1,defval:1}],PolylineArrow:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"}],PolylineGlow:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"glowPower",label:"高亮强度",type:"number",min:0,max:1,step:.1,defval:.25},{name:"taperPower",label:"渐变效果",type:"number",min:0,max:20,step:.1,defval:1}],LineFlow:[{name:"image",label:"图片",type:"label",defval:"img/textures/fence.png"},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10},{name:"repeat_x",label:"X重复数量",type:"number",step:1,defval:1,max:1e6,show(e,a,l){return!e.axisY}},{name:"repeat_y",label:"Y重复数量",type:"number",step:1,defval:1,show(e,a,l){return e.axisY}},{name:"axisY",label:"Y轴朝上",type:"radio",defval:!1}],LineFlowColor:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"alpha",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:1},{name:"percent",label:"比例",type:"number",min:0,max:1,step:.01,defval:.04},{name:"speed",label:"速度",type:"number",step:1,defval:10},{name:"startTime",label:"开始时间",type:"number",step:1,defval:0}],ODLine:[{name:"color",label:"颜色",type:"color",defval:"#ff0000"},{name:"bgColor",label:"背景颜色",type:"color",defval:"#000000"},{name:"speed",label:"速度",type:"number",step:1,defval:10},{name:"startTime",label:"开始时间",type:"number",step:1,defval:0},{name:"bidirectional",label:" 运行形式",type:"combobox",defval:"0",data:[{label:"正向运动",type:"number",value:"0"},{label:"反向运动",type:"number",value:"1"},{label:"双向运动",type:"number",value:"2"}]}],LineFlicker:[{name:"color",label:"泛光颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10}],LineTrail:[{name:"color",label:"轨迹颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10}],LineBloom:[{name:"color",label:"泛光颜色",type:"color",defval:"#3388ff"},{name:"glow",label:"泛光强度",type:"number",step:1,defval:1},{name:"speed",label:"速度",type:"number",step:1,defval:10}],WallScroll:[{name:"image",label:"图片",type:"label",defval:"img/textures/fence.png"},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"count",label:"数量",type:"number",min:0,step:1,defval:1},{name:"speed",label:"速度",type:"number",min:0,step:1,defval:10},{name:"reverse",label:"方向往上",type:"radio",defval:!1},{name:"bloom",label:"是否泛光",type:"radio",defval:!1},{name:"axisY",label:"Y轴朝上",type:"radio",defval:!1}],Image:[{name:"image",label:"图片",type:"label",defval:""},{name:"transparent",label:"是否透明",type:"radio",defval:!1},{name:"opacity",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:1,show(e,a,l){return e.transparent===!0}},{name:"repeat_x",label:"X重复次数",type:"number",step:1,defval:1},{name:"repeat_y",label:"Y重复次数",type:"number",step:1,defval:1}],Text:[{name:"text",label:"文本内容",type:"textarea",defval:"文字"},{name:"font_family",label:"字体",type:"combobox",defval:"楷体",data:[{label:"微软雅黑",value:"微软雅黑"},{label:"宋体",value:"宋体"},{label:"楷体",value:"楷体"},{label:"隶书",value:"隶书"},{label:"黑体",value:"黑体"}]},{name:"font_size",label:"字体大小",type:"number",step:1,defval:100},{name:"font_weight",label:"是否加粗",type:"combobox",defval:"normal",data:[{label:"是",value:"bold"},{label:"否",value:"normal"}]},{name:"font_style",label:"是否斜体",type:"combobox",defval:"normal",data:[{label:"是",value:"italic"},{label:"否",value:"normal"}]},{name:"color",label:"文本颜色",type:"color",defval:"#FFFF00"},{name:"stroke",label:"是否描边",type:"radio",defval:!1},{name:"strokeColor",label:"描边颜色",type:"color",defval:"#ffffff",show(e,a,l){return e.stroke}},{name:"strokeWidth",label:"描边宽度",type:"number",min:1,max:5,step:1,defval:1,show(e,a,l){return e.stroke}},{name:"background",label:"是否背景",type:"radio",defval:!1},{name:"backgroundColor",label:"背景颜色",type:"color",defval:"#000000",show(e,a,l){return e.background}},{name:"padding",label:"背景内边距",type:"number",step:1,defval:5,show(e,a,l){return e.background}}],Grid:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"cellAlpha",label:"填充透明度",type:"slider",min:0,max:1,step:.1,defval:.1},{name:"lineCount",label:"网格数量",type:"number",step:1,defval:10},{name:"lineThickness",label:"网格宽度",type:"number",step:1,defval:2}],Checkerboard:[{name:"evenColor",label:"主色",type:"color",defval:"#000000"},{name:"oddColor",label:"衬色",type:"color",defval:"#ffffff"},{name:"repeat_x",label:"横向数量",type:"number",step:1,defval:10},{name:"repeat_y",label:"纵向数量",type:"number",step:1,defval:10}],Stripe:[{name:"evenColor",label:"主色",type:"color",defval:"#000000"},{name:"oddColor",label:"衬色",type:"color",defval:"#ffffff"},{name:"repeat",label:"数量",type:"number",step:1,defval:10},{name:"orientation",label:"方向",type:"radio",defval:!1},{name:"offset",label:"起始位置",type:"number",step:1,defval:0}],PolyGradient:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"alphaPower",label:"透明系数",type:"number",min:0,max:50,step:.1,defval:1.5},{name:"diffusePower",label:"漫射系数",type:"number",min:0,max:50,step:.1,defval:1.6}],PolyAsphalt:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"size",label:"透明系数",type:"number",min:0,max:10,step:.01,defval:.02},{name:"frequency",label:"漫射系数",type:"number",min:0,max:10,step:.01,defval:.2}],PolyBlob:[{name:"evenColor",label:"主色",type:"color",defval:"#000000"},{name:"oddColor",label:"衬色",type:"color",defval:"#ffffff"},{name:"frequency",label:"漫射系数",type:"number",min:0,max:50,step:.1,defval:10}],PolyWood:[{name:"evenColor",label:"主色",type:"color",defval:"#000000"},{name:"oddColor",label:"衬色",type:"color",defval:"#ffffff"},{name:"frequency",label:"漫射系数",type:"number",min:0,max:50,step:.1,defval:10},{name:"noiseScale",label:"噪波比例",type:"number",min:0,max:50,step:.01,defval:.7},{name:"grainFrequency",label:"颗粒的频率",type:"number",min:0,max:100,step:.1,defval:27}],Water:[{name:"baseWaterColor",label:"基础颜色",type:"color",defval:"#123e59"},{name:"blendColor",label:"混合颜色",type:"color",defval:"#123e59"},{name:"normalMap",label:"反射图片",type:"label",defval:"img/textures/waterNormals.jpg"},{name:"frequency",label:"波数",type:"number",min:1,max:1e5,step:1,defval:9e3},{name:"amplitude",label:"水波振幅",type:"number",min:0,max:100,step:1,defval:5},{name:"animationSpeed",label:"动画速度",type:"slider",min:0,max:1,step:.01,defval:.03},{name:"specularIntensity",label:"反射强度",type:"slider",min:0,max:1,step:.1,defval:.5}],WaterLight:[{name:"specularMap",label:"反射图片",type:"label",defval:"img/textures/poly-stone.jpg"},{name:"alpha",label:"透明度",type:"slider",min:0,max:1,step:.1,defval:.2}],RectSlide:[{name:"image",label:"图片",type:"label",defval:""},{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"秒刷新数",type:"number",step:1,defval:60},{name:"pure",label:"是否纯色",type:"radio",defval:!1}],ScanLine:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",min:0,step:1,defval:10}],CircleScan:[{name:"image",label:"图片",type:"label",defval:"img/textures/circle-scan.png"},{name:"color",label:"颜色",type:"color",defval:"#3388ff"}],CircleWave:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"count",label:"数量",type:"number",step:1,defval:1},{name:"gradient",label:"圈间系数",type:"slider",min:0,max:1,step:.1,defval:.1},{name:"speed",label:"速度",type:"number",step:1,defval:10}],RadarLine:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",min:0,step:1,defval:10}],CylinderWave:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"repeat",label:"圈数量",type:"number",step:1,defval:30},{name:"thickness",label:"圈宽度比例",type:"slider",min:.01,max:.99,step:.01,defval:.3},{name:"speed",label:"速度",type:"number",step:1,defval:10}],EllipsoidWave:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10}],EllipsoidElectric:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"speed",label:"速度",type:"number",step:1,defval:10}],LineCross:[{name:"color",label:"颜色",type:"color",defval:"#3388ff"},{name:"dashLength",label:"长度",type:"number",step:1,defval:64},{name:"maskLength",label:"间隔",type:"number",step:1,defval:9},{name:"centerPower",label:"中心百分比",type:"number",step:.1,defval:.1},{name:"dashPower",label:"虚线百分比",type:"number",step:.1,defval:.1}]};$.Image2=$.Image;$.PolyFacet=$.PolyBlob;$.PolyGrass=$.PolyBlob;$.RadarWave=$.RadarLine;const J=$,se=e=>(we("data-v-3bb690e0"),e=e(),xe(),e),Ee={class:"mars-primary-table",border:"1",bordercolor:"#ffffff",cellspacing:"0",cellpadding:"0"},Ne=se(()=>f("td",null,"所在图层",-1)),je=se(()=>f("td",null,"标号类型",-1)),Xe=se(()=>f("td",null,"样式类型",-1)),Ke={class:"mars-primary-table",border:"1",bordercolor:"#ffffff",cellspacing:"0",cellpadding:"0"},Je=oe({__name:"mars-styles",props:{layerName:{},graphicType:{},customType:{},style:{}},emits:["styleChange"],setup(e,{emit:a}){const l=e,s=a,t=C({}),k=C([]),O=C([]),W=C([]),U=C("");let E=[];const b=C(0);let I;const K=C([]);ge(l,()=>{l&&l.style&&(b.value++,g(),w(),t.value.label&&(Le(),de()))},{immediate:!0});const M=C(["1","2"]);function p(i,o){return typeof i.show=="function"?i.show(o,t.value,l.graphicType):!0}function d(i,o){return typeof i.defval=="function"?i.defval(o,t.value,l.graphicType):i.defval}function g(){var x;t.value=q.cloneDeep(l.style);const i=(x=re[l.customType])!=null?x:re[l.graphicType];if(!i)return;U.value=i.type,E=q.cloneDeep(i.style);let o;const m=t.value.materialType;E.forEach(n=>{var L,r,T;if(n.next){t.value[n.name]||(t.value[n.name]={});let u=null;n.contant&&l.style[n.contant]&&(u=l.style[n.contant]),t.value[n.name][n.next]=(r=(L=t.value[n.name][n.next])!=null?L:u)!=null?r:d(n,t.value),n.next==="materialType"&&y(t.value[n.name].materialType,n,n.name)}else t.value[n.name]=(T=t.value[n.name])!=null?T:d(n,t.value),n.name==="materialType"&&(o=n)}),t.value.lastMaterialType&&(t.value.materialType=t.value.lastMaterialType),m&&o&&(t.value.materialOptions||(t.value.materialOptions={}),o.data.forEach(n=>{var r;if(n.value===m){const T=(r=n.defval)!=null?r:{};J[m].forEach(u=>{var j,Q;const S=t.value.materialOptions[u.name];t.value.materialOptions[u.name]=(Q=(j=S!=null?S:t.value[u.name])!=null?j:T[u.name])!=null?Q:d(u,t.value.materialOptions)})}}))}function y(i,o,m){i&&o&&(t.value[m].materialOptions||(t.value[m].materialOptions={}),o.data.forEach(x=>{var L;if(x.value===i){const r=(L=x.defval)!=null?L:{};J[i].forEach(T=>{var u,S,j,Q;t.value[m].materialOptions[T.name]=(Q=(j=(S=(u=t.value[m].materialOptions[T.name])!=null?u:t.value[m][T.name])!=null?S:t.value[x.contant])!=null?j:r[T.name])!=null?Q:d(T,t.value[m].materialOptions)})}}))}function v(i,o){var x,n;const m=i.name;if((m==="fill"||m==="outline")&&t.value.fill===!1&&t.value.outline===!1){ce("填充和边框不能同时为否"),Ae(()=>{t.value[m]=!0});return}if(m==="materialType"){let L={};if(o){const u=o.find(S=>S.value===t.value.materialType);u&&(L=(x=u.defval)!=null?x:{})}const r=t.value.materialType.split("-")[0],T={};J[r].forEach(u=>{var S;T[u.name]=(S=L[u.name])!=null?S:d(u,T)}),t.value.materialOptions=T}if(i.next&&i.next==="materialType"){let L={};if(o){const r=o.find(S=>S.value===t.value[m].materialType);r&&(L=(n=r.defval)!=null?n:{});const T=t.value[m].materialType.split("-")[0],u={};J[T].forEach(S=>{var j;u[S.name]=(j=L[S.name])!=null?j:d(S,u)}),t.value[m].materialOptions=u}}w(),N(i)}function w(){k.value=E.filter(i=>{const o=p(i,t.value);return i.name==="materialType"&&o&&Y(),i.next==="materialType"&&o&&Z(i.name),o})}function N(i){if(i.next){c(i.name,i.next);return}const o=ae(t.value[i.name]),m={[i.name]:i.name==="materialType"?o.split("-")[0]:o};i.name==="materialType"&&(m.materialOptions=ae(t.value.materialOptions)),m.materialType?s("styleChange",be(ue({},m),{lastMaterialType:o})):s("styleChange",m)}function Y(){const i=t.value.materialType.split("-")[0],o=J[i]||[];O.value=o.filter(m=>p(m,t.value.materialOptions))}function G(){const i={};O.value.forEach(o=>{var m;i[o.name]=(m=t.value.materialOptions[o.name])!=null?m:d(o,t.value.materialOptions)}),s("styleChange",{materialOptions:i})}function D(i){Y(),G()}function c(i,o){const m=t.value[i][o],x={[o]:o==="materialType"?m.split("-")[0]:ae(m)};o==="materialType"&&(x.materialOptions=ae(t.value[i].materialOptions)),s("styleChange",{[i]:x})}function Z(i){var x;const o=(x=t.value[i].materialType)==null?void 0:x.split("-")[0],m=J[o]||[];W.value=m.filter(n=>p(n,t.value[i].materialOptions))}function ne(i){const o={};W.value.forEach(m=>{var x;o[m.name]=(x=t.value[i].materialOptions[m.name])!=null?x:d(m,t.value[i].materialOptions)}),s("styleChange",{[i]:{materialOptions:o}})}function De(i,o){Z(o.name),ne(o.name)}function Le(){I=q.cloneDeep(re.label.style),I&&I.forEach(i=>{var o;t.value.label[i.name]=(o=t.value.label[i.name])!=null?o:d(i,t.value.label)})}function de(){K.value=I.filter(i=>p(i,t.value.label))}function ke(i){de(),Ge(i.name)}function Ge(i){const o={[i]:t.value.label[i]};s("styleChange",{label:o})}return(i,o)=>{const m=B("a-collapse-panel"),x=B("a-collapse");return h(),P(x,{key:b.value,activeKey:M.value,"onUpdate:activeKey":o[0]||(o[0]=n=>M.value=n),expandIconPosition:"end"},{default:F(()=>[k.value?(h(),P(m,{key:"1",showArrow:!1,header:"+ 样式信息"},{default:F(()=>[f("table",Ee,[f("tr",null,[Ne,f("td",null,V(i.layerName||"默认分组"),1)]),f("tr",null,[je,f("td",null,V(i.graphicType),1)]),f("tr",null,[Xe,f("td",null,V(U.value||"未配置"),1)]),t.value?(h(!0),H(X,{key:0},le(k.value,(n,L)=>(h(),H(X,{key:L},[n.type!=="hidden"?(h(),H(X,{key:0},[f("tr",null,[f("td",null,V(n.label),1),f("td",null,[n.next?(h(),P(ee,{key:0,type:n.type,size:"small",value:t.value[n.name][n.next],"onUpdate:value":r=>t.value[n.name][n.next]=r,min:n.min||n.min===0?n.min:-1/0,max:n.max||n.max===0?n.max:1/0,step:n.step||.1,options:n.data||[],onChange:r=>v(n,n.data),tofixed:n.toFixed},null,8,["type","value","onUpdate:value","min","max","step","options","onChange","tofixed"])):(h(),P(ee,{key:1,type:n.type,size:"small",value:t.value[n.name],"onUpdate:value":r=>t.value[n.name]=r,min:n.min||n.min===0?n.min:-1/0,max:n.max||n.max===0?n.max:1/0,step:n.step||.1,options:n.data||[],onChange:r=>v(n,n.data),tofixed:n.toFixed},null,8,["type","value","onUpdate:value","min","max","step","options","onChange","tofixed"]))])]),n.name==="materialType"&&O.value&&t.value.materialOptions?(h(!0),H(X,{key:0},le(O.value,(r,T)=>(h(),H("tr",{key:T},[f("td",null,V(r.label),1),f("td",null,[_(ee,{type:r.type,size:"small",value:t.value.materialOptions[r.name],"onUpdate:value":u=>t.value.materialOptions[r.name]=u,min:r.min||r.min===0?r.min:-1/0,max:r.max||r.max===0?r.max:1/0,step:r.step||.1,options:r.data||[],onChange:u=>D(r)},null,8,["type","value","onUpdate:value","min","max","step","options","onChange"])])]))),128)):R("",!0),n.next==="materialType"&&W.value&&t.value[n.name].materialOptions?(h(!0),H(X,{key:1},le(W.value,(r,T)=>(h(),H("tr",{key:T},[f("td",null,V(r.label),1),f("td",null,[_(ee,{type:r.type,size:"small",value:t.value[n.name].materialOptions[r.name],"onUpdate:value":u=>t.value[n.name].materialOptions[r.name]=u,min:r.min||r.min===0?r.min:-1/0,max:r.max||r.max===0?r.max:1/0,step:r.step||.1,options:r.data||[],onChange:u=>De(r,n)},null,8,["type","value","onUpdate:value","min","max","step","options","onChange"])])]))),128)):R("",!0)],64)):R("",!0)],64))),128)):R("",!0)])]),_:1})):R("",!0),t.value&&t.value.label?(h(),P(m,{key:"2",showArrow:!1,header:"+ 注记信息"},{default:F(()=>[f("table",Ke,[(h(!0),H(X,null,le(K.value,(n,L)=>(h(),H("tr",{key:L},[f("td",null,V(n.label),1),f("td",null,[_(ee,{type:n.type,size:"small",value:t.value.label[n.name],"onUpdate:value":r=>t.value.label[n.name]=r,min:n.min||n.min===0?n.min:-1/0,max:n.max||n.max===0?n.max:1/0,step:n.step||.1,options:n.data||[],onChange:r=>ke(n)},null,8,["type","value","onUpdate:value","min","max","step","options","onChange"])])]))),128))])]),_:1})):R("",!0)]),_:1},8,["activeKey"])}}}),qe=pe(Je,[["__scopeId","data-v-3bb690e0"]]),te=he.Cesium;let me;function Ze(e){me=e}function Qe(){me=null}function Te(e,a){he.Util.downloadFile(e,a)}function Se(e){return te.JulianDate.toDate(e)}function Ce(){const e=me.clock.currentTime.clone(),a=te.JulianDate.addSeconds(e,10,new te.JulianDate);return{start:te.JulianDate.toDate(e),stop:te.JulianDate.toDate(a)}}const el=Object.freeze(Object.defineProperty({__proto__:null,downloadFile:Te,getMapCurrentTime:Ce,julianToDate:Se,onMounted:Ze,onUnmounted:Qe},Symbol.toStringTag,{value:"Module"})),_e=e=>(we("data-v-cdb5948b"),e=e(),xe(),e),ll={class:"position-title",span:24},al={class:"mars-primary-table",border:"1",bordercolor:"#ffffff",cellspacing:"0",cellpadding:"0"},tl=_e(()=>f("td",null,"开始时间",-1)),nl=_e(()=>f("td",null,"结束时间",-1)),il=oe({__name:"mars-availability",props:{availability:{}},emits:["availabilityChange"],setup(e,{emit:a}){const l=C(["1","2"]),s=e,t=C([]);ge(s,()=>{if(!s.availability)return;let p=s.availability;!Array.isArray(p)&&p._intervals&&(p=p._intervals),t.value=Array.isArray(p)?(p==null?void 0:p.map(d=>{const g={};for(const y in d){const v=typeof d[y]!="string";let w=null;d[y]&&(w=v?A(Se(d[y])):A(d[y])),g[y]=w}return g}))||[]:[]},{immediate:!0});const k=(p,d,g,y=!1)=>{var D,c,Z,ne;let v=null,w=null;const N=t.value[d-1],Y=t.value[d],G=t.value[d+1];switch(g){case"start":N&&(v=(D=N.stop)==null?void 0:D.add(1,"second")),w=(c=Y.stop)==null?void 0:c.subtract(1,"second");break;case"stop":v=(Z=Y.start)==null?void 0:Z.add(1,"second"),G&&(w=(ne=G.start)==null?void 0:ne.subtract(1,"second"));break}return y?v&&p<v?{isChange:!1,message:`请重新选择时间，须大于等于${A(v).format("YYYY-MM-DD HH:mm:ss")}`}:w&&p>w?{isChange:!1,message:`请重新选择时间，须小于等于${A(w).format("YYYY-MM-DD HH:mm:ss")}`}:{isChange:!0,message:""}:w&&v?p&&(p<v||p>w):v?p&&p<v:w?p&&p>w:null},O=a,W=p=>{t.value.splice(p,1),M()},U=()=>{let p={start:null,stop:null};const d=t.value.length;if(!d)p=Ce();else{const g=q.cloneDeep(t.value[d-1]);p.start=g.stop.add(5,"second"),p.stop=p.start.add(5,"second")}t.value.push({start:A(p.start),stop:A(p.stop)}),M()},E=()=>{t.value=[],M()};let b=null;const I=(p,d,g)=>{const{isChange:y,message:v}=k(p,d,g,!0);y?M():(ce(v),t.value[d][g]=b)},K=(p,d,g)=>{p?b=t.value[d][g]:b=null},M=()=>{var d;const p=((d=t.value)==null?void 0:d.map(g=>{const y={};for(const v in g)y[v]=g[v]?A(g[v]).format("YYYY-MM-DD HH:mm:ss"):null;return y}))||[];O("availabilityChange",p)};return(p,d)=>{const g=B("mars-button"),y=B("a-space"),v=B("mars-icon"),w=B("mars-date-picker"),N=B("a-collapse-panel"),Y=B("a-collapse");return h(),P(Y,{activeKey:l.value,"onUpdate:activeKey":d[0]||(d[0]=G=>l.value=G),expandIconPosition:"end"},{default:F(()=>[_(N,{key:"1",showArrow:!1,header:"时序列表"},{default:F(()=>[_(y,{class:"f-mb"},{default:F(()=>[_(g,{title:"添加显示矢量对象的时间段",onClick:U},{default:F(()=>[ve("添加")]),_:1}),_(g,{title:"矢量对象一直显示",onClick:E},{default:F(()=>[ve("清除")]),_:1})]),_:1}),(h(!0),H(X,null,le(t.value,(G,D)=>(h(),H(X,{key:D},[f("p",ll,[f("span",null,"第 "+V(D+1)+" 个时间段",1),_(y,{class:"position-title__subfix"},{default:F(()=>[_(v,{icon:"delete",width:"16",onClick:c=>W(D)},null,8,["onClick"])]),_:2},1024)]),f("table",al,[f("tr",null,[tl,f("td",null,[_(w,{value:G.start,"onUpdate:value":c=>G.start=c,format:"YYYY-MM-DD HH:mm:ss",allowClear:!1,"show-time":{defaultValue:ie(A)("00:00:00","HH:mm:ss")},"disabled-date":c=>k(c,D,"start"),onChange:c=>I(c,D,"start"),onOpenChange:c=>K(c,D,"start")},null,8,["value","onUpdate:value","show-time","disabled-date","onChange","onOpenChange"])])]),f("tr",null,[nl,f("td",null,[_(w,{value:G.stop,"onUpdate:value":c=>G.stop=c,format:"YYYY-MM-DD HH:mm:ss",allowClear:!1,"show-time":{defaultValue:ie(A)("00:00:00","HH:mm:ss")},"disabled-date":c=>k(c,D,"stop"),onChange:c=>I(c,D,"stop"),onOpenChange:c=>K(c,D,"stop")},null,8,["value","onUpdate:value","show-time","disabled-date","onChange","onOpenChange"])])])])],64))),128))]),_:1})]),_:1},8,["activeKey"])}}}),ol=pe(il,[["__scopeId","data-v-cdb5948b"]]),rl={class:"top-handle-bar"},pl={class:"attr-editor-main"},sl=oe({__name:"index",setup(e){const{currentWidget:a}=Ie(),l=C("style"),s=y=>{We.setItem("active-tab",y),U.value=b.availability,W.value=b.style},t=C(""),k=C(""),O=C(""),W=C(null),U=C(null),E=C(!0);let b;$e(el),Ve(()=>{b=a.data.graphic,a.data.hideAvailability&&(E.value=!1),I()}),a&&a.onUpdate(y=>{b=y.data.graphic,I()});function I(){if(!b||!b.isAdded)return;t.value=b._layer.name||"",O.value=b.type,k.value=a.data.styleType||b.options.styleType,W.value=q.cloneDeep(b.style);const y=b.availability;U.value=q.cloneDeep(y)}function K(y){y=ae(y),b.setStyle(y)}function M(y){y&&y.length?b.availability=y:b.availability=null}function p(){const y=b.toGeoJSON();y.properties._layer=b._layer.name,Te("标绘item.json",JSON.stringify(y))}function d(){b.flyTo()}function g(){b.remove()}return(y,v)=>{const w=B("mars-icon"),N=B("a-space"),Y=B("a-tab-pane"),G=B("a-tabs"),D=B("mars-dialog");return h(),P(D,{title:"属性编辑",width:"315",top:"60",bottom:"40",left:"10",minWidth:200},{footer:F(()=>[_(G,{activeKey:l.value,"onUpdate:activeKey":v[0]||(v[0]=c=>l.value=c),centered:"",type:"card",tabPosition:"bottom",onChange:s},{default:F(()=>[_(Y,{key:"style",tab:"样式"}),E.value?(h(),P(Y,{key:"availability",tab:"时序"})):R("",!0)]),_:1},8,["activeKey"])]),default:F(()=>[f("div",rl,[_(N,null,{default:F(()=>[_(w,{icon:"send",width:"20",onClick:d,title:"飞行定位"}),_(w,{icon:"delete",width:"20",onClick:g,title:"删除"}),_(w,{icon:"save",width:"20",onClick:p,title:"导出geojson"})]),_:1})]),f("div",pl,[l.value==="style"?(h(),P(qe,{key:0,style:Re(W.value),layerName:t.value,customType:k.value,graphicType:O.value,onStyleChange:K},null,8,["style","layerName","customType","graphicType"])):R("",!0),l.value==="availability"?(h(),P(ol,{key:1,availability:U.value,onAvailabilityChange:M},null,8,["availability"])):R("",!0)])]),_:1})}}}),vl=pe(sl,[["__scopeId","data-v-39d43cf2"]]);export{vl as default};
