import{d as V,r as $,o as L,a7 as i,Z as d,a8 as T,a9 as g,$ as r,k as m,G as B,_ as p,F as D,aa as F,a1 as J,m as f,A as _,a0 as M}from"./vue-D4H2Ux2Y.js";import{m as k,$ as b,_ as z}from"./entry/index-BNp4bmLj-1732066199007.js";import{u as E}from"./use-lifecycle-CyVQVRUS.js";import"./antd-DgCI0x_J.js";let a;const G={scene:{center:{lat:31.628661,lng:117.251952,alt:46390,heading:2,pitch:-68}}},u=new k.BaseClass;function U(n){a=n;const e=new k.layer.GraphicLayer;a.addLayer(e)}function A(){a=null}function O(n){const e={name:n,center:a.getCameraView()};a.expImage({download:!1,width:300}).then(l=>{e.img=l.image,u.fire("addImgObject",{item:e})})}function h(n){a.setCameraView(n)}const P=Object.freeze(Object.defineProperty({__proto__:null,addTxtName:O,eventTarget:u,flytoView:h,get map(){return a},mapOptions:G,onMounted:U,onUnmounted:A},Symbol.toStringTag,{value:"Module"})),W={class:"f-mb f-tac"},Z={class:"bookmarkView"},q=["src","onClick"],H=V({__name:"index",setup(n){E(P);const e=$({input:"",found:!1,imgObject:[{name:"无数据",img:"",center:""}]});L(()=>{l()});function l(){try{const t=JSON.parse(localStorage.getItem("bookmark"));if(t&&t.length>0)for(let o=0;o<t.length;o++){const s=t[o];e.imgObject[0].img===""&&(e.imgObject.splice(0,1),e.found=!0),e.imgObject.push(s)}}catch(t){}}const j=()=>{const t=e.input,o=e.imgObject;if(!t){b("请输入名称");return}if(o[0].img===""&&(e.imgObject.splice(0,1),e.found=!0),e.imgObject.some(s=>s.name===t)){b(t+" 已存在，请更换名称!");return}O(t),e.input=""};u.on("addImgObject",t=>{e.imgObject.push(t.item),localStorage.setItem("bookmark",JSON.stringify(e.imgObject))});const w=t=>{h(t.center)},v=t=>{if(e.imgObject.splice(t,1),e.imgObject.length===0){e.imgObject=[{name:"没有匹配的值",img:"",center:""}],e.found=!1,localStorage.removeItem("bookmark");return}localStorage.setItem("bookmark",JSON.stringify(e.imgObject))};return(t,o)=>{const s=i("mars-input"),y=i("mars-button"),x=i("a-space-compact"),S=i("mars-icon"),C=i("mars-dialog");return d(),T(C,{visible:!0,right:"10",top:"60",bottom:"40",width:"330",title:"视角书签"},{default:g(()=>[r("div",W,[m(x,{style:{width:"100%"}},{default:g(()=>[m(s,{value:e.input,"onUpdate:value":o[0]||(o[0]=c=>e.input=c),placeholder:"输入名称"},null,8,["value"]),m(y,{onClick:j},{default:g(()=>[B("添加")]),_:1})]),_:1})]),r("div",Z,[(d(!0),p(D,null,F(e.imgObject,(c,I)=>(d(),p("div",{class:J(["bookmarkView-conponent",e.found?"addNewImg":"noFound"]),key:c.name},[f(r("img",{class:"markImg",src:c.img,onClick:N=>w(c)},null,8,q),[[_,e.found]]),r("p",null,M(c.name),1),f(m(S,{icon:"delete",class:"deleteImg",color:"var(--mars-text-color)",onClick:N=>v(I)},null,8,["onClick"]),[[_,e.found]])],2))),128))])]),_:1})}}}),Y=z(H,[["__scopeId","data-v-15449474"]]);export{Y as default};
